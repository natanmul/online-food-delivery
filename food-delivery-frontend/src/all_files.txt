===== ./App.jsx =====
import React from 'react';
import { AuthProvider } from './context/AuthContext.jsx';
import { CartProvider } from './context/CartContext.jsx';
import AppRouter from './router/AppRouter.jsx';

function App() {
  return (
    <AuthProvider>
      <CartProvider>
        <AppRouter />
      </CartProvider>
    </AuthProvider>
  );
}

export default App;===== ./assets/react.svg =====
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>===== ./assets/images/logo.png =====
===== ./assets/images/restaurant-placeholder.jpg =====
===== ./assets/images/food-placeholder.jpg =====
===== ./assets/images/avatar.png =====
===== ./assets/styles/globals.css =====
===== ./index.css =====
@import "tailwindcss";

@layer base {
  body {
    background-color: #f9fafb; /* This is the equivalent of bg-gray-50 */
  }
}

@layer components {
  /* We'll define our custom component classes here, but without using @apply */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 1rem;
    border: 1px solid transparent;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    font-weight: 500;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    outline: 2px solid transparent;
    outline-offset: 2px;
  }

  .btn:focus {
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5); /* focus:ring-blue-500 */
  }

  .btn-primary {
    background-color: #2563eb; /* bg-blue-600 */
    color: white;
  }

  .btn-primary:hover {
    background-color: #1d4ed8; /* hover:bg-blue-700 */
  }

  .btn-secondary {
    background-color: #e5e7eb; /* bg-gray-200 */
    color: #111827; /* text-gray-900 */
  }

  .btn-secondary:hover {
    background-color: #d1d5db; /* hover:bg-gray-300 */
  }

  .btn-secondary:focus {
    box-shadow: 0 0 0 2px rgba(107, 114, 128, 0.5); /* focus:ring-gray-500 */
  }

  .input {
    display: block;
    width: 100%;
    border-radius: 0.375rem;
    border: 1px solid #d1d5db; /* border-gray-300 */
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    font-size: 0.875rem;
  }

  .input:focus {
    border-color: #3b82f6; /* focus:border-blue-500 */
    outline: none;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); /* focus:ring-blue-500 */
  }
}===== ./main.jsx =====
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App.jsx';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);===== ./components/layout/Header.jsx =====
import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth.js';
import { useCart } from '../../hooks/useCart.js';
import { USER_ROLES } from '../../utils/constants.js';
import logo from '../../assets/images/logo.png';

const Header = () => {
  const { user, logout, isAuthenticated } = useAuth();
  const { getItemCount } = useCart();
  const navigate = useNavigate();
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isProfileMenuOpen, setIsProfileMenuOpen] = useState(false);

  const handleLogout = () => {
    logout();
    navigate('/login');
  };

  const getDashboardLink = () => {
    if (!user) return '/';
    switch (user.role) {
      case USER_ROLES.RESTAURANT:
        return '/restaurant/dashboard';
      case USER_ROLES.DRIVER:
        return '/driver/dashboard';
      case USER_ROLES.ADMIN:
        return '/admin/dashboard';
      default:
        return '/';
    }
  };

  const getRoleBasedLinks = () => {
    if (!user) return [];
    
    const commonLinks = [
      { to: '/profile', label: 'Profile' },
    ];

    switch (user.role) {
      case USER_ROLES.CUSTOMER:
        return [
          { to: '/orders', label: 'My Orders' },
          ...commonLinks
        ];
      case USER_ROLES.RESTAURANT:
        return [
          { to: '/restaurant/menu', label: 'Menu' },
          { to: '/restaurant/orders', label: 'Orders' },
          ...commonLinks
        ];
      case USER_ROLES.DRIVER:
        return [
          { to: '/driver/deliveries', label: 'Deliveries' },
          ...commonLinks
        ];
      case USER_ROLES.ADMIN:
        return [
          { to: '/admin/users', label: 'Users' },
          ...commonLinks
        ];
      default:
        return commonLinks;
    }
  };

  return (
    <nav className="bg-white shadow-lg">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between h-16">
          <div className="flex">
            <div className="flex-shrink-0 flex items-center">
              <Link to="/" className="flex items-center">
                <img className="h-8 w-auto" src={logo} alt="Logo" />
                <span className="ml-2 text-xl font-bold text-gray-900">
                  {import.meta.env.VITE_APP_NAME}
                </span>
              </Link>
            </div>
            
            <div className="hidden sm:ml-6 sm:flex sm:space-x-8">
              <Link
                to="/"
                className="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
              >
                Home
              </Link>
              <Link
                to="/restaurants"
                className="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
              >
                Restaurants
              </Link>
            </div>
          </div>

          <div className="hidden sm:ml-6 sm:flex sm:items-center sm:space-x-4">
            {isAuthenticated ? (
              <>
                {user?.role === USER_ROLES.CUSTOMER && (
                  <Link
                    to="/cart"
                    className="relative p-2 text-gray-400 hover:text-gray-500"
                  >
                    <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    {getItemCount() > 0 && (
                      <span className="absolute -top-1 -right-1 bg-red-500 text-white rounded-full h-5 w-5 flex items-center justify-center text-xs">
                        {getItemCount()}
                      </span>
                    )}
                  </Link>
                )}

                <div className="relative">
                  <button
                    onClick={() => setIsProfileMenuOpen(!isProfileMenuOpen)}
                    className="flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                  >
                    <span className="sr-only">Open user menu</span>
                    <div className="h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center">
                      <span className="text-gray-600 font-medium">
                        {user?.name?.charAt(0).toUpperCase()}
                      </span>
                    </div>
                    <span className="ml-2 text-gray-700">{user?.name}</span>
                    <svg className="ml-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fillRule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clipRule="evenodd" />
                    </svg>
                  </button>

                  {isProfileMenuOpen && (
                    <div className="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5">
                      {getRoleBasedLinks().map((link) => (
                        <Link
                          key={link.to}
                          to={link.to}
                          className="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                          onClick={() => setIsProfileMenuOpen(false)}
                        >
                          {link.label}
                        </Link>
                      ))}
                      <button
                        onClick={handleLogout}
                        className="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >
                        Sign out
                      </button>
                    </div>
                  )}
                </div>
              </>
            ) : (
              <div className="flex space-x-4">
                <Link
                  to="/login"
                  className="text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium"
                >
                  Login
                </Link>
                <Link
                  to="/register"
                  className="bg-blue-600 text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium"
                >
                  Register
                </Link>
              </div>
            )}
          </div>

          <div className="flex items-center sm:hidden">
            {isAuthenticated && user?.role === USER_ROLES.CUSTOMER && (
              <Link
                to="/cart"
                className="relative p-2 text-gray-400 hover:text-gray-500 mr-2"
              >
                <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                {getItemCount() > 0 && (
                  <span className="absolute -top-1 -right-1 bg-red-500 text-white rounded-full h-5 w-5 flex items-center justify-center text-xs">
                    {getItemCount()}
                  </span>
                )}
              </Link>
            )}

            <button
              onClick={() => setIsMenuOpen(!isMenuOpen)}
              className="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100"
            >
              <span className="sr-only">Open main menu</span>
              <svg className="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      {isMenuOpen && (
        <div className="sm:hidden">
          <div className="pt-2 pb-3 space-y-1">
            <Link
              to="/"
              className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
              onClick={() => setIsMenuOpen(false)}
            >
              Home
            </Link>
            <Link
              to="/restaurants"
              className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
              onClick={() => setIsMenuOpen(false)}
            >
              Restaurants
            </Link>

            {isAuthenticated ? (
              <>
                {getRoleBasedLinks().map((link) => (
                  <Link
                    key={link.to}
                    to={link.to}
                    className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
                    onClick={() => setIsMenuOpen(false)}
                  >
                    {link.label}
                  </Link>
                ))}
                <button
                  onClick={() => {
                    handleLogout();
                    setIsMenuOpen(false);
                  }}
                  className="w-full text-left border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
                >
                  Sign out
                </button>
              </>
            ) : (
              <>
                <Link
                  to="/login"
                  className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
                  onClick={() => setIsMenuOpen(false)}
                >
                  Login
                </Link>
                <Link
                  to="/register"
                  className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
                  onClick={() => setIsMenuOpen(false)}
                >
                  Register
                </Link>
              </>
            )}
          </div>
        </div>
      )}
    </nav>
  );
};

export default Header;===== ./components/layout/Footer.jsx =====
import React from 'react';
import { Link } from 'react-router-dom';

const Footer = () => {
  return (
    <footer className="bg-gray-800 text-white">
      <div className="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 className="text-lg font-semibold mb-4">FoodDelivery</h3>
            <p className="text-gray-300">
              Delivering delicious food to your doorstep since 2024.
            </p>
          </div>
          
          <div>
            <h4 className="text-lg font-semibold mb-4">Quick Links</h4>
            <ul className="space-y-2">
              <li><Link to="/" className="text-gray-300 hover:text-white">Home</Link></li>
              <li><Link to="/restaurants" className="text-gray-300 hover:text-white">Restaurants</Link></li>
              <li><Link to="/about" className="text-gray-300 hover:text-white">About Us</Link></li>
              <li><Link to="/contact" className="text-gray-300 hover:text-white">Contact</Link></li>
            </ul>
          </div>
          
          <div>
            <h4 className="text-lg font-semibold mb-4">Services</h4>
            <ul className="space-y-2">
              <li><Link to="/food-delivery" className="text-gray-300 hover:text-white">Food Delivery</Link></li>
              <li><Link to="/restaurant-partners" className="text-gray-300 hover:text-white">Restaurant Partners</Link></li>
              <li><Link to="/driver-app" className="text-gray-300 hover:text-white">Driver App</Link></li>
              <li><Link to="/business-solutions" className="text-gray-300 hover:text-white">Business Solutions</Link></li>
            </ul>
          </div>
          
          <div>
            <h4 className="text-lg font-semibold mb-4">Contact Us</h4>
            <ul className="space-y-2">
              <li className="text-gray-300">support@fooddelivery.com</li>
              <li className="text-gray-300">+1 (555) 123-4567</li>
              <li className="text-gray-300">123 Food Street, City, Country</li>
            </ul>
          </div>
        </div>
        
        <div className="mt-8 pt-8 border-t border-gray-700">
          <div className="flex flex-col md:flex-row justify-between items-center">
            <p className="text-gray-300">
              &copy; {new Date().getFullYear()} FoodDelivery. All rights reserved.
            </p>
            <div className="flex space-x-6 mt-4 md:mt-0">
              <Link to="/privacy" className="text-gray-300 hover:text-white">
                Privacy Policy
              </Link>
              <Link to="/terms" className="text-gray-300 hover:text-white">
                Terms of Service
              </Link>
            </div>
          </div>
        </div>
      </div>
    </footer>
  );
};

export default Footer;===== ./components/layout/Sidebar.jsx =====
import React from 'react';
import { NavLink } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth.js';
import { USER_ROLES } from '../../utils/constants.js';

const Sidebar = () => {
  const { user } = useAuth();

  const getMenuItems = () => {
    if (!user) return [];

    switch (user.role) {
      case USER_ROLES.RESTAURANT:
        return [
          { to: '/restaurant/dashboard', label: 'Dashboard', icon: 'dashboard' },
          { to: '/restaurant/menu', label: 'Menu Management', icon: 'restaurant' },
          { to: '/restaurant/orders', label: 'Orders', icon: 'receipt' },
          { to: '/restaurant/settings', label: 'Settings', icon: 'settings' },
        ];
      case USER_ROLES.DRIVER:
        return [
          { to: '/driver/dashboard', label: 'Dashboard', icon: 'dashboard' },
          { to: '/driver/deliveries', label: 'Delivery Requests', icon: 'delivery' },
          { to: '/driver/history', label: 'History', icon: 'history' },
        ];
      case USER_ROLES.ADMIN:
        return [
          { to: '/admin/dashboard', label: 'Dashboard', icon: 'dashboard' },
          { to: '/admin/users', label: 'Users', icon: 'people' },
          { to: '/admin/restaurants', label: 'Restaurants', icon: 'restaurant' },
          { to: '/admin/orders', label: 'Orders', icon: 'receipt' },
          { to: '/admin/reports', label: 'Reports', icon: 'analytics' },
        ];
      default:
        return [];
    }
  };

  const getIcon = (iconName) => {
    const icons = {
      dashboard: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
        </svg>
      ),
      restaurant: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
        </svg>
      ),
      receipt: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
        </svg>
      ),
      settings: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      ),
      delivery: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" />
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" />
        </svg>
      ),
      history: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      ),
      people: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.67 3.623a10.953 10.953 0 01-.707.785 9.958 9.958 0 01-12.682 0 10.953 10.953 0 01-.707-.785" />
        </svg>
      ),
      analytics: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
        </svg>
      ),
    };

    return icons[iconName] || null;
  };

  const menuItems = getMenuItems();

  if (menuItems.length === 0) return null;

  return (
    <div className="bg-gray-800 text-white w-64 min-h-screen">
      <div className="p-6">
        <h2 className="text-xl font-semibold">Dashboard</h2>
      </div>
      
      <nav className="mt-6">
        {menuItems.map((item) => (
          <NavLink
            key={item.to}
            to={item.to}
            className={({ isActive }) =>
              `flex items-center px-6 py-3 text-gray-300 hover:bg-gray-700 hover:text-white ${
                isActive ? 'bg-gray-900 text-white' : ''
              }`
            }
          >
            <span className="mr-3">{getIcon(item.icon)}</span>
            {item.label}
          </NavLink>
        ))}
      </nav>
    </div>
  );
};

export default Sidebar;===== ./components/layout/Layout.jsx =====
import React from 'react';
import { Outlet } from 'react-router-dom';
import Header from './Header.jsx';
import Footer from './Footer.jsx';
import { useAuth } from '../../hooks/useAuth.js';
import { USER_ROLES } from '../../utils/constants.js';

const Layout = ({ children }) => {
  const { user } = useAuth();

  const isDashboardLayout = user && [
    USER_ROLES.RESTAURANT,
    USER_ROLES.DRIVER,
    USER_ROLES.ADMIN
  ].includes(user.role);

  if (isDashboardLayout) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Header />
        <div className="flex">
          <aside className="hidden md:block">
            <div className="sticky top-0">
              {/* Sidebar will be conditionally rendered in dashboard pages */}
            </div>
          </aside>
          <main className="flex-1">
            <div className="py-6">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <Outlet />
              </div>
            </div>
          </main>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen flex flex-col">
      <Header />
      <main className="flex-1">
        <Outlet />
      </main>
      <Footer />
    </div>
  );
};

export default Layout;===== ./components/ui/Button.jsx =====
import React from 'react';

const Button = ({
  children,
  type = 'button',
  variant = 'primary',
  size = 'md',
  fullWidth = false,
  disabled = false,
  loading = false,
  onClick,
  className = '',
  ...props
}) => {
  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2';
  
  const variants = {
    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',
    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500',
    success: 'bg-green-600 text-white hover:bg-green-700 focus:ring-green-500',
    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',
    outline: 'border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-blue-500',
    ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500'
  };

  const sizes = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg'
  };

  const widthClass = fullWidth ? 'w-full' : '';
  const disabledClass = disabled || loading ? 'opacity-50 cursor-not-allowed' : '';

  return (
    <button
      type={type}
      className={`${baseClasses} ${variants[variant]} ${sizes[size]} ${widthClass} ${disabledClass} ${className}`}
      disabled={disabled || loading}
      onClick={onClick}
      {...props}
    >
      {loading && (
        <svg className="animate-spin -ml-1 mr-2 h-4 w-4 text-current" fill="none" viewBox="0 0 24 24">
          <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" />
          <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
        </svg>
      )}
      {children}
    </button>
  );
};

export default Button;===== ./components/ui/Card.jsx =====
import React from 'react';

const Card = ({ children, className = '', ...props }) => {
  return (
    <div
      className={`bg-white rounded-lg shadow-md ${className}`}
      {...props}
    >
      {children}
    </div>
  );
};

const CardHeader = ({ children, className = '' }) => {
  return (
    <div className={`px-6 py-4 border-b border-gray-200 ${className}`}>
      {children}
    </div>
  );
};

const CardBody = ({ children, className = '' }) => {
  return (
    <div className={`px-6 py-4 ${className}`}>
      {children}
    </div>
  );
};

const CardFooter = ({ children, className = '' }) => {
  return (
    <div className={`px-6 py-4 border-t border-gray-200 ${className}`}>
      {children}
    </div>
  );
};

Card.Header = CardHeader;
Card.Body = CardBody;
Card.Footer = CardFooter;

export default Card;===== ./components/ui/Modal.jsx =====
import React, { useEffect } from 'react';

const Modal = ({ isOpen, onClose, title, children, size = 'md' }) => {
  useEffect(() => {
    const handleEscape = (e) => {
      if (e.key === 'Escape') onClose();
    };

    if (isOpen) {
      document.addEventListener('keydown', handleEscape);
      document.body.style.overflow = 'hidden';
    }

    return () => {
      document.removeEventListener('keydown', handleEscape);
      document.body.style.overflow = 'unset';
    };
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  const sizes = {
    sm: 'max-w-md',
    md: 'max-w-lg',
    lg: 'max-w-2xl',
    xl: 'max-w-4xl'
  };

  return (
    <div className="fixed inset-0 z-50 overflow-y-auto">
      <div className="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
        <div
          className="fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"
          onClick={onClose}
        />

        <span className="hidden sm:inline-block sm:align-middle sm:h-screen">&#8203;</span>

        <div
          className={`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${sizes[size]} sm:w-full`}
        >
          <div className="px-6 py-4 border-b border-gray-200">
            <div className="flex items-center justify-between">
              <h3 className="text-lg font-medium text-gray-900">
                {title}
              </h3>
              <button
                onClick={onClose}
                className="text-gray-400 hover:text-gray-500"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
          </div>

          <div className="px-6 py-4">
            {children}
          </div>
        </div>
      </div>
    </div>
  );
};

export default Modal;===== ./components/ui/Loader.jsx =====
import React from 'react';

const Loader = ({ size = 'md', text = 'Loading...' }) => {
  const sizes = {
    sm: 'w-4 h-4',
    md: 'w-8 h-8',
    lg: 'w-12 h-12'
  };

  return (
    <div className="flex flex-col items-center justify-center space-y-4">
      <div className="relative">
        <div className={`${sizes[size]} animate-spin rounded-full border-4 border-gray-200`} />
        <div className={`${sizes[size]} absolute top-0 left-0 animate-spin rounded-full border-4 border-blue-500 border-t-transparent`} />
      </div>
      {text && <p className="text-gray-600">{text}</p>}
    </div>
  );
};

export const PageLoader = () => {
  return (
    <div className="flex items-center justify-center min-h-screen">
      <Loader size="lg" text="Loading application..." />
    </div>
  );
};

export const InlineLoader = () => {
  return (
    <div className="inline-flex items-center">
      <Loader size="sm" text="" />
    </div>
  );
};

export default Loader;===== ./components/ui/Alert.jsx =====
import React, { useState } from 'react';

const Alert = ({ type = 'info', title, children, onClose, className = '' }) => {
  const [isVisible, setIsVisible] = useState(true);

  const handleClose = () => {
    setIsVisible(false);
    if (onClose) onClose();
  };

  if (!isVisible) return null;

  const alertStyles = {
    info: 'bg-blue-50 border-blue-200 text-blue-800',
    success: 'bg-green-50 border-green-200 text-green-800',
    warning: 'bg-yellow-50 border-yellow-200 text-yellow-800',
    error: 'bg-red-50 border-red-200 text-red-800'
  };

  const iconStyles = {
    info: 'text-blue-400',
    success: 'text-green-400',
    warning: 'text-yellow-400',
    error: 'text-red-400'
  };

  const icons = {
    info: (
      <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
      </svg>
    ),
    success: (
      <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
      </svg>
    ),
    warning: (
      <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fillRule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clipRule="evenodd" />
      </svg>
    ),
    error: (
      <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clipRule="evenodd" />
      </svg>
    )
  };

  return (
    <div className={`rounded-md border p-4 ${alertStyles[type]} ${className}`}>
      <div className="flex">
        <div className={`flex-shrink-0 ${iconStyles[type]}`}>
          {icons[type]}
        </div>
        <div className="ml-3 flex-1">
          {title && <h3 className="font-medium">{title}</h3>}
          <div className={`${title ? 'mt-2' : ''}`}>{children}</div>
        </div>
        {onClose && (
          <button
            onClick={handleClose}
            className="ml-4 flex-shrink-0 text-gray-400 hover:text-gray-500"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        )}
      </div>
    </div>
  );
};

export default Alert;===== ./components/ui/Input.jsx =====
import React from 'react';

const Input = React.forwardRef(({
  label,
  type = 'text',
  error,
  helperText,
  leftIcon,
  rightIcon,
  className = '',
  containerClassName = '',
  ...props
}, ref) => {
  return (
    <div className={containerClassName}>
      {label && (
        <label className="block text-sm font-medium text-gray-700 mb-1">
          {label}
        </label>
      )}
      <div className="relative">
        {leftIcon && (
          <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            {leftIcon}
          </div>
        )}
        <input
          ref={ref}
          type={type}
          className={`
            block w-full rounded-lg border-gray-300 shadow-sm
            focus:ring-blue-500 focus:border-blue-500 sm:text-sm
            ${error ? 'border-red-300 focus:ring-red-500 focus:border-red-500' : ''}
            ${leftIcon ? 'pl-10' : ''}
            ${rightIcon ? 'pr-10' : ''}
            ${className}
          `}
          {...props}
        />
        {rightIcon && (
          <div className="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
            {rightIcon}
          </div>
        )}
      </div>
      {error && <p className="mt-1 text-sm text-red-600">{error}</p>}
      {helperText && !error && <p className="mt-1 text-sm text-gray-500">{helperText}</p>}
    </div>
  );
});

Input.displayName = 'Input';

export default Input;===== ./components/customer/RestaurantCard.jsx =====
import React from 'react';
import { Link } from 'react-router-dom';
import { formatCurrency, getRatingStars } from '../../utils/helpers.js';

const RestaurantCard = ({ restaurant }) => {
  return (
    <Link
      to={`/restaurants/${restaurant.id}`}
      className="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"
    >
      <div className="relative h-48">
        <img
          src={restaurant.image_url || '/restaurant-placeholder.jpg'}
          alt={restaurant.name}
          className="w-full h-full object-cover"
        />
        {restaurant.avg_rating > 0 && (
          <div className="absolute top-2 right-2 bg-white px-2 py-1 rounded-full flex items-center">
            <span className="text-yellow-400 mr-1">★</span>
            <span className="font-semibold">
              {typeof restaurant.avg_rating === 'number' 
                ? restaurant.avg_rating.toFixed(1) 
                : Number(restaurant.avg_rating || 0).toFixed(1)}
            </span>
          </div>
        )}
      </div>
      
      <div className="p-4">
        <div className="flex justify-between items-start mb-2">
          <h3 className="font-bold text-lg truncate">{restaurant.name}</h3>
        </div>
        
        <p className="text-gray-600 text-sm mb-2 truncate">{restaurant.location}</p>
        
        <div className="flex items-center text-sm text-gray-500 mb-3">
          <svg className="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
            <path fillRule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clipRule="evenodd" />
          </svg>
          <span>{restaurant.distance || 'N/A'} miles</span>
        </div>
        
        <div className="flex items-center justify-between">
          <div className="flex items-center">
            {restaurant.avg_rating > 0 ? (
                  <div className="flex items-center">
                    {getRatingStars(restaurant.avg_rating).map(star => (
                      <svg
                        key={star.id}
                        className={`w-4 h-4 ${star.className}`}
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                      </svg>
                    ))} 
                   <span className="ml-1 text-sm text-gray-600">
                  ({restaurant.review_count || 0})
                </span>
              </div>
            ) : (
              <span className="text-sm text-gray-500">No reviews yet</span>
            )}
          </div>
          
          <div className="text-sm font-medium">
            <span className="text-gray-500">•</span>
            <span className="ml-1">{restaurant.cuisine_type || 'Various'}</span>
          </div>
        </div>
      </div>
    </Link>
  );
};

export default RestaurantCard;===== ./components/customer/MenuItemCard.jsx =====
import React, { useState } from 'react';
import { useCart } from '../../hooks/useCart.js';
import { formatCurrency } from '../../utils/helpers.js';
import Button from '../ui/Button.jsx';

const MenuItemCard = ({ item, restaurant }) => {
  const { addToCart, isSameRestaurant } = useCart();
  const [quantity, setQuantity] = useState(1);
  const [adding, setAdding] = useState(false);

  const handleAddToCart = async () => {
    if (!isSameRestaurant(restaurant.id) && restaurant.id) {
      if (!window.confirm('Adding this item will clear your current cart. Continue?')) {
        return;
      }
    }

    setAdding(true);
    try {
      await addToCart({
        ...item,
        quantity,
        restaurant_id: restaurant.id
      }, restaurant);
      
      // Show success feedback
      setQuantity(1);
    } catch (error) {
      console.error('Failed to add to cart:', error);
    } finally {
      setAdding(false);
    }
  };

  return (
    <div className="bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-shadow">
      <div className="flex">
        {item.image_url && (
          <div className="w-24 h-24 flex-shrink-0 mr-4">
            <img
              src={item.image_url}
              alt={item.name}
              className="w-full h-full object-cover rounded-lg"
            />
          </div>
        )}
        
        <div className="flex-1">
          <div className="flex justify-between items-start mb-2">
            <div>
              <h3 className="font-semibold text-lg">{item.name}</h3>
              {item.description && (
                <p className="text-gray-600 text-sm mt-1">{item.description}</p>
              )}
            </div>
            <span className="font-bold text-lg">{formatCurrency(item.price)}</span>
          </div>
          
          <div className="flex items-center justify-between mt-4">
            <div className="flex items-center space-x-2">
              <button
                onClick={() => setQuantity(Math.max(1, quantity - 1))}
                className="w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-50"
              >
                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 12H4" />
                </svg>
              </button>
              
              <span className="w-12 text-center font-medium">{quantity}</span>
              
              <button
                onClick={() => setQuantity(quantity + 1)}
                className="w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-50"
              >
                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                </svg>
              </button>
            </div>
            
            <Button
              onClick={handleAddToCart}
              loading={adding}
              size="sm"
              disabled={!item.availability}
            >
              {item.availability ? 'Add to Cart' : 'Unavailable'}
            </Button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default MenuItemCard;===== ./components/customer/CartItem.jsx =====
import React from 'react';
import { useCart } from '../../hooks/useCart.js';
import { formatCurrency } from '../../utils/helpers.js';

const CartItem = ({ item }) => {
  const { updateQuantity, removeFromCart } = useCart();

  return (
    <div className="flex items-center py-4 border-b border-gray-200 last:border-0">
      <div className="flex-1">
        <h4 className="font-medium">{item.name}</h4>
        {item.description && (
          <p className="text-gray-600 text-sm mt-1 truncate">{item.description}</p>
        )}
      </div>
      
      <div className="flex items-center space-x-4">
        <div className="flex items-center space-x-2">
          <button
            onClick={() => updateQuantity(item.id, item.quantity - 1)}
            className="w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-50"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 12H4" />
            </svg>
          </button>
          
          <span className="w-8 text-center font-medium">{item.quantity}</span>
          
          <button
            onClick={() => updateQuantity(item.id, item.quantity + 1)}
            className="w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-50"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
            </svg>
          </button>
        </div>
        
        <div className="text-right min-w-20">
          <div className="font-semibold">{formatCurrency(item.price * item.quantity)}</div>
          <div className="text-sm text-gray-500">{formatCurrency(item.price)} each</div>
        </div>
        
        <button
          onClick={() => removeFromCart(item.id)}
          className="text-red-500 hover:text-red-700"
        >
          <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
          </svg>
        </button>
      </div>
    </div>
  );
};

export default CartItem;===== ./components/customer/OrderCard.jsx =====
import React from 'react';
import { Link } from 'react-router-dom';
import { formatCurrency, formatDate, getStatusColor, getStatusText } from '../../utils/helpers.js';
import { ORDER_STATUS } from '../../utils/constants.js';

const OrderCard = ({ order }) => {
  return (
    <Link
      to={`/orders/${order.id}`}
      className="block bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow"
    >
      <div className="flex flex-col md:flex-row md:items-center justify-between mb-4">
        <div>
          <h3 className="font-semibold text-lg">Order #{order.id}</h3>
          <p className="text-gray-600 text-sm">
            {order.restaurant_name || 'Restaurant'}
          </p>
        </div>

        <div className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(order.status)}`}>
          {getStatusText(order.status)}
        </div>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
        <div>
          <p className="text-sm text-gray-500">Order Date</p>
          <p className="font-medium">{formatDate(order.created_at)}</p>
        </div>

        <div>
          <p className="text-sm text-gray-500">Total Amount</p>
          <p className="font-bold text-lg">{formatCurrency(order.total_price)}</p>
        </div>

        <div>
          <p className="text-sm text-gray-500">Items</p>
          <p className="font-medium">
            {order.items?.length || 0} items
          </p>
        </div>
      </div>

      <div className="border-t pt-4">
        <div className="flex items-center justify-between">
          <div className="flex items-center space-x-2">
            <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span className="text-sm text-gray-600">
              {order.status === ORDER_STATUS.DELIVERED
                ? `Delivered on ${formatDate(order.updated_at)}`
                : `Placed on ${formatDate(order.created_at)}`
              }
            </span>
          </div>

          <span className="text-blue-600 font-medium hover:text-blue-800">
            View Details →
          </span>
        </div>
      </div>
    </Link>
  );
};

export default OrderCard;===== ./components/restaurant/MenuItemForm.jsx =====
import React, { useState, useEffect } from 'react';
import Input from '../ui/Input.jsx';
import Button from '../ui/Button.jsx';

const MenuItemForm = ({ item = null, onSubmit, onCancel, loading = false }) => {
  const [formData, setFormData] = useState({
    name: '',
    description: '',
    price: '',
    image_url: '',
    availability: true,
    restaurant_id: ''
  });

  const [errors, setErrors] = useState({});

  useEffect(() => {
    if (item) {
      setFormData({
        name: item.name || '',
        description: item.description || '',
        price: item.price || '',
        image_url: item.image_url || '',
        availability: item.availability !== undefined ? item.availability : true,
        restaurant_id: item.restaurant_id || ''
      });
    }
  }, [item]);

  const handleChange = (e) => {
    const { name, value, type, checked } = e.target;
    setFormData(prev => ({
      ...prev,
      [name]: type === 'checkbox' ? checked : value
    }));
    
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (!formData.name.trim()) {
      newErrors.name = 'Name is required';
    }
    
    if (!formData.price || isNaN(formData.price) || Number(formData.price) <= 0) {
      newErrors.price = 'Valid price is required';
    }
    
    if (!formData.restaurant_id) {
      newErrors.restaurant_id = 'Restaurant ID is required';
    }
    
    return newErrors;
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    
    const validationErrors = validateForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    const submitData = {
      ...formData,
      price: Number(formData.price),
      description: formData.description || null,
      image_url: formData.image_url || null
    };
    
    onSubmit(submitData);
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-6">
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <Input
          label="Item Name *"
          name="name"
          value={formData.name}
          onChange={handleChange}
          error={errors.name}
          placeholder="Enter item name"
          required
        />
        
        <Input
          label="Price *"
          name="price"
          type="number"
          step="0.01"
          min="0"
          value={formData.price}
          onChange={handleChange}
          error={errors.price}
          placeholder="0.00"
          leftIcon={
            <span className="text-gray-500">$</span>
          }
          required
        />
        
        <div className="md:col-span-2">
          <Input
            label="Description"
            name="description"
            value={formData.description}
            onChange={handleChange}
            placeholder="Enter item description"
          />
        </div>
        
        <div className="md:col-span-2">
          <Input
            label="Image URL"
            name="image_url"
            value={formData.image_url}
            onChange={handleChange}
            placeholder="https://example.com/image.jpg"
            helperText="Optional image URL for the menu item"
          />
        </div>
        
        {!item && (
          <div className="md:col-span-2">
            <Input
              label="Restaurant ID *"
              name="restaurant_id"
              value={formData.restaurant_id}
              onChange={handleChange}
              error={errors.restaurant_id}
              placeholder="Enter restaurant ID"
              required
            />
          </div>
        )}
        
        <div className="flex items-center">
          <input
            id="availability"
            name="availability"
            type="checkbox"
            checked={formData.availability}
            onChange={handleChange}
            className="h-4 w-4 text-blue-600 rounded"
          />
          <label htmlFor="availability" className="ml-2 text-sm text-gray-700">
            Available for ordering
          </label>
        </div>
      </div>
      
      <div className="flex justify-end space-x-3">
        <Button
          type="button"
          variant="outline"
          onClick={onCancel}
          disabled={loading}
        >
          Cancel
        </Button>
        
        <Button
          type="submit"
          loading={loading}
        >
          {item ? 'Update Item' : 'Add Item'}
        </Button>
      </div>
    </form>
  );
};

export default MenuItemForm;===== ./components/restaurant/OrderStatusBadge.jsx =====
import React from 'react';
import { getStatusColor, getStatusText } from '../../utils/helpers.js';

const OrderStatusBadge = ({ status, onStatusChange, disabled = false }) => {
  const handleChange = (e) => {
    if (onStatusChange) {
      onStatusChange(e.target.value);
    }
  };

  return (
    <div className="flex items-center space-x-2">
      <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(status)}`}>
        {getStatusText(status)}
      </span>
      
      {onStatusChange && (
        <select
          value={status}
          onChange={handleChange}
          disabled={disabled}
          className="text-sm border rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="pending">Pending</option>
          <option value="accepted">Accepted</option>
          <option value="preparing">Preparing</option>
          <option value="ready">Ready</option>
          <option value="cancelled">Cancelled</option>
        </select>
      )}
    </div>
  );
};

export default OrderStatusBadge;===== ./components/driver/DeliveryCard.jsx =====
import React from 'react';
import { formatCurrency, formatDate } from '../../utils/helpers.js';
import Button from '../ui/Button.jsx';

const DeliveryCard = ({ delivery, onAccept, onReject, onComplete, isHistory = false }) => {
  return (
    <div className="bg-white rounded-lg shadow-sm border p-6">
      <div className="flex flex-col md:flex-row md:items-center justify-between mb-4">
        <div>
          <h3 className="font-semibold text-lg">Order #{delivery.order_id}</h3>
          <p className="text-gray-600">
            From: {delivery.restaurant_name}
          </p>
          <p className="text-gray-600">
            To: {delivery.customer_name}
          </p>
        </div>
        
        <div className="mt-2 md:mt-0">
          <span className="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
            {delivery.status === 'pending' ? 'Waiting' : 
             delivery.status === 'accepted' ? 'Accepted' :
             delivery.status === 'completed' ? 'Completed' : 'Rejected'}
          </span>
        </div>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div>
          <p className="text-sm text-gray-500">Restaurant Location</p>
          <p className="font-medium">{delivery.restaurant_location}</p>
        </div>
        
        <div>
          <p className="text-sm text-gray-500">Customer Address</p>
          <p className="font-medium">{delivery.customer_address}</p>
        </div>
        
        <div>
          <p className="text-sm text-gray-500">Customer Phone</p>
          <p className="font-medium">{delivery.customer_phone}</p>
        </div>
        
        <div>
          <p className="text-sm text-gray-500">Order Total</p>
          <p className="font-bold text-lg">{formatCurrency(delivery.total_price)}</p>
        </div>
      </div>
      
      {!isHistory && (
        <div className="border-t pt-4">
          <div className="flex flex-col sm:flex-row sm:space-x-3 space-y-2 sm:space-y-0">
            {delivery.status === 'pending' && (
              <>
                <Button
                  onClick={() => onAccept(delivery.id)}
                  variant="success"
                  className="flex-1"
                >
                  Accept Delivery
                </Button>
                
                <Button
                  onClick={() => onReject(delivery.id)}
                  variant="danger"
                  className="flex-1"
                >
                  Reject
                </Button>
              </>
            )}
            
            {delivery.status === 'accepted' && delivery.order_status === 'on_the_way' && (
              <Button
                onClick={() => onComplete(delivery.order_id)}
                variant="success"
                className="flex-1"
              >
                Mark as Delivered
              </Button>
            )}
          </div>
        </div>
      )}
      
      <div className="mt-4 pt-4 border-t text-sm text-gray-500">
        <div className="flex items-center">
          <svg className="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          {isHistory 
            ? `Completed on ${formatDate(delivery.completed_at || delivery.assigned_at)}`
            : `Requested on ${formatDate(delivery.assigned_at)}`
          }
        </div>
      </div>
    </div>
  );
};

export default DeliveryCard;===== ./pages/auth/Login.jsx =====
import React, { useState } from 'react';
import { Link, useNavigate, useLocation } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth.js';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Login = () => {
  const [formData, setFormData] = useState({
    email: '',
    password: ''
  });
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);
  
  const { login, error: authError } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();
  
  const from = location.state?.from?.pathname || '/';

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
    
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (!formData.email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = 'Email is invalid';
    }
    
    if (!formData.password) {
      newErrors.password = 'Password is required';
    }
    
    return newErrors;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    const validationErrors = validateForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    setLoading(true);
    setErrors({});
    
    try {
      const result = await login(formData.email, formData.password);
      
      if (result.success) {
        navigate(from, { replace: true });
      } else {
        setErrors({ general: result.message });
      }
    } catch (err) {
      setErrors({ general: 'An error occurred. Please try again.' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full">
        <div className="text-center mb-8">
          <h2 className="text-3xl font-extrabold text-gray-900">
            Sign in to your account
          </h2>
          <p className="mt-2 text-sm text-gray-600">
            Or{' '}
            <Link to="/register" className="font-medium text-blue-600 hover:text-blue-500">
              create a new account
            </Link>
          </p>
        </div>

        <Card>
          <Card.Body>
            {(errors.general || authError) && (
              <Alert type="error" className="mb-6">
                {errors.general || authError}
              </Alert>
            )}

            <form onSubmit={handleSubmit} className="space-y-6">
              <Input
                label="Email address"
                name="email"
                type="email"
                autoComplete="email"
                value={formData.email}
                onChange={handleChange}
                error={errors.email}
                placeholder="you@example.com"
                required
              />
              
              <Input
                label="Password"
                name="password"
                type="password"
                autoComplete="current-password"
                value={formData.password}
                onChange={handleChange}
                error={errors.password}
                placeholder="••••••••"
                required
              />
              
              <div className="flex items-center justify-between">
                <div className="text-sm">
                  <Link to="/forgot-password" className="font-medium text-blue-600 hover:text-blue-500">
                    Forgot your password?
                  </Link>
                </div>
              </div>
              
              <Button
                type="submit"
                loading={loading}
                fullWidth
                size="lg"
              >
                Sign in
              </Button>
            </form>
          </Card.Body>
          
          <Card.Footer className="text-center">
            <p className="text-sm text-gray-600">
              Don't have an account?{' '}
              <Link to="/register" className="font-medium text-blue-600 hover:text-blue-500">
                Sign up
              </Link>
            </p>
          </Card.Footer>
        </Card>
      </div>
    </div>
  );
};

export default Login;===== ./pages/auth/Register.jsx =====
import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth.js';
import { USER_ROLES } from '../../utils/constants.js';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Register = () => {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    password: '',
    confirmPassword: '',
    phone: '',
    address: '',
    role: USER_ROLES.CUSTOMER
  });
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);
  
  const { register, error: authError } = useAuth();
  const navigate = useNavigate();

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
    
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (!formData.name.trim()) {
      newErrors.name = 'Name is required';
    }
    
    if (!formData.email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = 'Email is invalid';
    }
    
    if (!formData.password) {
      newErrors.password = 'Password is required';
    } else if (formData.password.length < 6) {
      newErrors.password = 'Password must be at least 6 characters';
    }
    
    if (formData.password !== formData.confirmPassword) {
      newErrors.confirmPassword = 'Passwords do not match';
    }
    
    if (!formData.role) {
      newErrors.role = 'Role is required';
    }
    
    return newErrors;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    const validationErrors = validateForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    setLoading(true);
    setErrors({});
    
    try {
      const { confirmPassword, ...registerData } = formData;
      const result = await register(registerData);
      
      if (result.success) {
        navigate('/');
      } else {
        setErrors({ general: result.message });
      }
    } catch (err) {
      setErrors({ general: 'An error occurred. Please try again.' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full">
        <div className="text-center mb-8">
          <h2 className="text-3xl font-extrabold text-gray-900">
            Create your account
          </h2>
          <p className="mt-2 text-sm text-gray-600">
            Or{' '}
            <Link to="/login" className="font-medium text-blue-600 hover:text-blue-500">
              sign in to existing account
            </Link>
          </p>
        </div>

        <Card>
          <Card.Body>
            {(errors.general || authError) && (
              <Alert type="error" className="mb-6">
                {errors.general || authError}
              </Alert>
            )}

            <form onSubmit={handleSubmit} className="space-y-6">
              <Input
                label="Full Name"
                name="name"
                type="text"
                autoComplete="name"
                value={formData.name}
                onChange={handleChange}
                error={errors.name}
                placeholder="John Doe"
                required
              />
              
              <Input
                label="Email address"
                name="email"
                type="email"
                autoComplete="email"
                value={formData.email}
                onChange={handleChange}
                error={errors.email}
                placeholder="you@example.com"
                required
              />
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <Input
                  label="Password"
                  name="password"
                  type="password"
                  autoComplete="new-password"
                  value={formData.password}
                  onChange={handleChange}
                  error={errors.password}
                  placeholder="••••••••"
                  required
                />
                
                <Input
                  label="Confirm Password"
                  name="confirmPassword"
                  type="password"
                  autoComplete="new-password"
                  value={formData.confirmPassword}
                  onChange={handleChange}
                  error={errors.confirmPassword}
                  placeholder="••••••••"
                  required
                />
              </div>
              
              <Input
                label="Phone Number"
                name="phone"
                type="tel"
                autoComplete="tel"
                value={formData.phone}
                onChange={handleChange}
                placeholder="+1 (555) 123-4567"
              />
              
              <Input
                label="Address"
                name="address"
                type="text"
                autoComplete="street-address"
                value={formData.address}
                onChange={handleChange}
                placeholder="123 Main St, City, Country"
              />
              
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Account Type *
                </label>
                <div className="grid grid-cols-2 gap-3">
                  {Object.entries(USER_ROLES).map(([key, value]) => (
                    <div key={value} className="relative">
                      <input
                        id={`role-${value}`}
                        name="role"
                        type="radio"
                        value={value}
                        checked={formData.role === value}
                        onChange={handleChange}
                        className="sr-only"
                      />
                      <label
                        htmlFor={`role-${value}`}
                        className={`
                          flex flex-col items-center justify-center p-3 border rounded-lg cursor-pointer
                          ${formData.role === value 
                            ? 'border-blue-500 bg-blue-50' 
                            : 'border-gray-300 hover:bg-gray-50'
                          }
                        `}
                      >
                        <span className="text-sm font-medium capitalize">
                          {value}
                        </span>
                      </label>
                    </div>
                  ))}
                </div>
                {errors.role && <p className="mt-1 text-sm text-red-600">{errors.role}</p>}
              </div>
              
              <Button
                type="submit"
                loading={loading}
                fullWidth
                size="lg"
              >
                Create Account
              </Button>
            </form>
          </Card.Body>
          
          <Card.Footer className="text-center">
            <p className="text-sm text-gray-600">
              Already have an account?{' '}
              <Link to="/login" className="font-medium text-blue-600 hover:text-blue-500">
                Sign in
              </Link>
            </p>
          </Card.Footer>
        </Card>
      </div>
    </div>
  );
};

export default Register;===== ./pages/customer/Home.jsx =====
import React, { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import { restaurantService } from '../../services/api/restaurants.js';
import RestaurantCard from '../../components/customer/RestaurantCard.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';

const Home = () => {
  const [restaurants, setRestaurants] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [search, setSearch] = useState('');
  const [filteredRestaurants, setFilteredRestaurants] = useState([]);

  useEffect(() => {
    fetchRestaurants();
  }, []);

  useEffect(() => {
    if (search.trim()) {
      const filtered = restaurants.filter(restaurant =>
        restaurant.name.toLowerCase().includes(search.toLowerCase()) ||
        restaurant.location.toLowerCase().includes(search.toLowerCase())
      );
      setFilteredRestaurants(filtered);
    } else {
      setFilteredRestaurants(restaurants);
    }
  }, [search, restaurants]);

  const fetchRestaurants = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await restaurantService.getAllRestaurants();
      
      if (response.success) {
        setRestaurants(response.data);
        setFilteredRestaurants(response.data);
      } else {
        setError('Failed to load restaurants');
      }
    } catch (err) {
      setError('An error occurred while loading restaurants');
      console.error('Error fetching restaurants:', err);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div>
      {/* Hero Section */}
      <div className="relative bg-gradient-to-r from-blue-600 to-blue-800 text-white">
        <div className="absolute inset-0">
          <div className="absolute inset-0 bg-black opacity-50"></div>
        </div>
        
        <div className="relative max-w-7xl mx-auto py-24 px-4 sm:py-32 sm:px-6 lg:px-8">
          <h1 className="text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl">
            Delicious food delivered to your doorstep
          </h1>
          <p className="mt-6 text-xl max-w-3xl">
            Order from your favorite local restaurants and get it delivered fresh and hot.
            Join thousands of satisfied customers today!
          </p>
          <div className="mt-10">
            <Link
              to="/restaurants"
              className="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-gray-100"
            >
              Order Now
            </Link>
          </div>
        </div>
      </div>

      {/* Search Section */}
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="bg-white rounded-lg shadow-lg p-6">
          <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div className="flex-1">
              <Input
                placeholder="Search restaurants by name or location..."
                value={search}
                onChange={(e) => setSearch(e.target.value)}
                leftIcon={
                  <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                  </svg>
                }
              />
            </div>
            
            <div className="flex space-x-3">
              <Button
                variant="outline"
                onClick={() => setSearch('')}
                disabled={!search}
              >
                Clear
              </Button>
              <Button
                onClick={fetchRestaurants}
                loading={loading}
              >
                Refresh
              </Button>
            </div>
          </div>
        </div>
      </div>

      {/* Restaurants Section */}
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="flex justify-between items-center mb-8">
          <h2 className="text-3xl font-bold text-gray-900">
            Popular Restaurants
          </h2>
          <Link
            to="/restaurants"
            className="text-blue-600 hover:text-blue-800 font-medium"
          >
            View all →
          </Link>
        </div>

        {loading ? (
          <div className="flex justify-center py-12">
            <Loader size="lg" text="Loading restaurants..." />
          </div>
        ) : error ? (
          <Alert type="error">
            {error}
            <Button
              onClick={fetchRestaurants}
              variant="outline"
              size="sm"
              className="ml-4"
            >
              Try Again
            </Button>
          </Alert>
        ) : filteredRestaurants.length === 0 ? (
          <div className="text-center py-12">
            <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
            </svg>
            <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurants found</h3>
            <p className="mt-1 text-gray-500">
              {search ? 'Try adjusting your search terms' : 'No restaurants available at the moment'}
            </p>
          </div>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {filteredRestaurants.slice(0, 6).map(restaurant => (
              <RestaurantCard
                key={restaurant.id}
                restaurant={restaurant}
              />
            ))}
          </div>
        )}
      </div>

      {/* Features Section */}
      <div className="bg-gray-50 py-12">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-gray-900">Why Choose Us</h2>
            <p className="mt-4 text-lg text-gray-600">
              We make food delivery simple, fast, and reliable
            </p>
          </div>
          
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div className="text-center">
              <div className="inline-flex items-center justify-center h-12 w-12 rounded-md bg-blue-100 text-blue-600 mb-4">
                <svg className="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h3 className="text-lg font-medium text-gray-900">Fast Delivery</h3>
              <p className="mt-2 text-gray-600">
                Get your food delivered in 30 minutes or less
              </p>
            </div>
            
            <div className="text-center">
              <div className="inline-flex items-center justify-center h-12 w-12 rounded-md bg-green-100 text-green-600 mb-4">
                <svg className="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h3 className="text-lg font-medium text-gray-900">Fresh Food</h3>
              <p className="mt-2 text-gray-600">
                Quality ingredients from trusted local restaurants
              </p>
            </div>
            
            <div className="text-center">
              <div className="inline-flex items-center justify-center h-12 w-12 rounded-md bg-purple-100 text-purple-600 mb-4">
                <svg className="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                </svg>
              </div>
              <h3 className="text-lg font-medium text-gray-900">Easy Payment</h3>
              <p className="mt-2 text-gray-600">
                Multiple payment options for your convenience
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Home;===== ./pages/customer/RestaurantList.jsx =====
import React, { useState, useEffect } from 'react';
import { restaurantService } from '../../services/api/restaurants.js';
import RestaurantCard from '../../components/customer/RestaurantCard.jsx';
import Loader, { PageLoader } from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';

const RestaurantList = () => {
  const [restaurants, setRestaurants] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [search, setSearch] = useState('');
  const [ratingFilter, setRatingFilter] = useState('');
  const [sortBy, setSortBy] = useState('name');

  useEffect(() => {
    fetchRestaurants();
  }, []);

  const fetchRestaurants = async () => {
    try {
      setLoading(true);
      setError('');
      
      const params = {};
      if (search) params.search = search;
      if (ratingFilter) params.rating = ratingFilter;
      
      const response = await restaurantService.getAllRestaurants(params);
      
      if (response.success) {
        const sorted = sortRestaurants(response.data, sortBy);
        setRestaurants(sorted);
      } else {
        setError('Failed to load restaurants');
      }
    } catch (err) {
      setError('An error occurred while loading restaurants');
      console.error('Error fetching restaurants:', err);
    } finally {
      setLoading(false);
    }
  };

  const sortRestaurants = (data, sortType) => {
    const sorted = [...data];
    switch (sortType) {
      case 'name':
        return sorted.sort((a, b) => a.name.localeCompare(b.name));
      case 'rating':
        return sorted.sort((a, b) => b.avg_rating - a.avg_rating);
      case 'reviews':
        return sorted.sort((a, b) => (b.review_count || 0) - (a.review_count || 0));
      default:
        return sorted;
    }
  };

  const handleSortChange = (value) => {
    setSortBy(value);
    const sorted = sortRestaurants(restaurants, value);
    setRestaurants(sorted);
  };

  const handleFilter = () => {
    fetchRestaurants();
  };

  const clearFilters = () => {
    setSearch('');
    setRatingFilter('');
    setSortBy('name');
    fetchRestaurants();
  };

  if (loading && !restaurants.length) {
    return <PageLoader />;
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-2">
          Discover Restaurants
        </h1>
        <p className="text-gray-600">
          Find your favorite restaurants and discover new ones
        </p>
      </div>

      {/* Filters */}
      <div className="bg-white rounded-lg shadow-md p-6 mb-8">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div>
            <Input
              placeholder="Search restaurants..."
              value={search}
              onChange={(e) => setSearch(e.target.value)}
              onKeyPress={(e) => e.key === 'Enter' && handleFilter()}
              leftIcon={
                <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
              }
            />
          </div>
          
          <div>
            <select
              value={ratingFilter}
              onChange={(e) => setRatingFilter(e.target.value)}
              className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
            >
              <option value="">All Ratings</option>
              <option value="4">4+ Stars</option>
              <option value="3">3+ Stars</option>
              <option value="2">2+ Stars</option>
              <option value="1">1+ Stars</option>
            </select>
          </div>
          
          <div>
            <select
              value={sortBy}
              onChange={(e) => handleSortChange(e.target.value)}
              className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
            >
              <option value="name">Sort by Name</option>
              <option value="rating">Sort by Rating</option>
              <option value="reviews">Sort by Reviews</option>
            </select>
          </div>
          
          <div className="flex space-x-2">
            <Button
              onClick={handleFilter}
              loading={loading}
              className="flex-1"
            >
              Apply Filters
            </Button>
            <Button
              onClick={clearFilters}
              variant="outline"
              className="flex-1"
            >
              Clear
            </Button>
          </div>
        </div>
      </div>

      {/* Error Message */}
      {error && (
        <Alert type="error" className="mb-6">
          {error}
          <Button
            onClick={fetchRestaurants}
            variant="outline"
            size="sm"
            className="ml-4"
          >
            Try Again
          </Button>
        </Alert>
      )}

      {/* Restaurants Grid */}
      {loading ? (
        <div className="flex justify-center py-12">
          <Loader text="Loading restaurants..." />
        </div>
      ) : restaurants.length === 0 ? (
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurants found</h3>
          <p className="mt-1 text-gray-500">
            Try adjusting your search or filters
          </p>
          <Button
            onClick={clearFilters}
            className="mt-4"
          >
            Clear all filters
          </Button>
        </div>
      ) : (
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {restaurants.map(restaurant => (
            <RestaurantCard
              key={restaurant.id}
              restaurant={restaurant}
            />
          ))}
        </div>
      )}

      {/* Load More Button */}
      {restaurants.length > 0 && (
        <div className="mt-8 text-center">
          <Button
            onClick={fetchRestaurants}
            variant="outline"
            loading={loading}
          >
            Load More
          </Button>
        </div>
      )}
    </div>
  );
};

export default RestaurantList;===== ./pages/customer/RestaurantDetail.jsx =====
import React, { useState, useEffect } from 'react';
import { useParams } from 'react-router-dom';
import { restaurantService } from '../../services/api/restaurants.js';
import { menuService } from '../../services/api/menu.js';
import { getRatingStars, formatCurrency } from '../../utils/helpers.js';
import MenuItemCard from '../../components/customer/MenuItemCard.jsx';
import Loader, { PageLoader } from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';

const RestaurantDetail = () => {
  const { id } = useParams();
  const [restaurant, setRestaurant] = useState(null);
  const [menuItems, setMenuItems] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [activeTab, setActiveTab] = useState('menu');

  useEffect(() => {
    fetchRestaurantDetails();
  }, [id]);

  const fetchRestaurantDetails = async () => {
    try {
      setLoading(true);
      setError('');
      
      const [restaurantRes, menuRes] = await Promise.all([
        restaurantService.getRestaurant(id),
        menuService.getMenuItems(id)
      ]);
      
      if (restaurantRes.success) {
        setRestaurant(restaurantRes.data);
      } else {
        setError('Failed to load restaurant details');
      }
      
      if (menuRes.success) {
        setMenuItems(menuRes.data);
      }
    } catch (err) {
      setError('An error occurred while loading restaurant details');
      console.error('Error fetching restaurant details:', err);
    } finally {
      setLoading(false);
    }
  };

  if (loading && !restaurant) {
    return <PageLoader />;
  }

  if (error) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <Alert type="error">
          {error}
          <Button
            onClick={fetchRestaurantDetails}
            variant="outline"
            size="sm"
            className="ml-4"
          >
            Try Again
          </Button>
        </Alert>
      </div>
    );
  }

  if (!restaurant) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">Restaurant not found</h3>
          <p className="mt-1 text-gray-500">
            The restaurant you're looking for doesn't exist or has been removed.
          </p>
        </div>
      </div>
    );
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      {/* Restaurant Header */}
      <div className="bg-white rounded-lg shadow-md overflow-hidden mb-8">
        <div className="md:flex">
          <div className="md:flex-shrink-0 md:w-1/3">
            <img
              src={restaurant.image_url || 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=300&fit=crop'}
              alt={restaurant.name}
              className="h-48 w-full object-cover md:h-full"
            />
          </div>
          <div className="p-6 md:w-2/3">
            <div className="flex flex-col md:flex-row md:items-start justify-between">
              <div>
                <h1 className="text-3xl font-bold text-gray-900 mb-2">{restaurant.name}</h1>
                <div className="flex items-center mb-4">
                  {restaurant.avg_rating > 0 ? (
                    <>
                      <div className="flex items-center">
                        {getRatingStars(restaurant.avg_rating).map(star => (
                          <svg
                            key={star.id}
                            className={`w-4 h-4 ${star.className}`}
                            fill="currentColor"
                            viewBox="0 0 20 20"
                          >
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                          </svg>
                        ))}
                        <span className="ml-2 font-medium">
                          {Number(restaurant.avg_rating || 0).toFixed(1)}
                        </span>
                      </div>
                      <span className="mx-2 text-gray-400">•</span>
                      <span className="text-gray-600">
                        {restaurant.review_count || 0} reviews
                      </span>
                    </>
                  ) : (
                    <span className="text-gray-500">No reviews yet</span>
                  )}
                </div>
              </div>
            </div>
            
            <div className="space-y-3">
              <div className="flex items-center text-gray-600">
                <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>{restaurant.location}</span>
              </div>
              
              {restaurant.phone && (
                <div className="flex items-center text-gray-600">
                  <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                  </svg>
                  <span>{restaurant.phone}</span>
                </div>
              )}
              
              <div className="flex items-center text-gray-600">
                <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span>Open • Closes at 10:00 PM</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Tabs */}
      <div className="border-b border-gray-200 mb-6">
        <nav className="-mb-px flex space-x-8">
          <button
            onClick={() => setActiveTab('menu')}
            className={`py-2 px-1 border-b-2 font-medium text-sm ${
              activeTab === 'menu'
                ? 'border-blue-500 text-blue-600'
                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
            }`}
          >
            Menu
          </button>
          <button
            onClick={() => setActiveTab('reviews')}
            className={`py-2 px-1 border-b-2 font-medium text-sm ${
              activeTab === 'reviews'
                ? 'border-blue-500 text-blue-600'
                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
            }`}
          >
            Reviews ({restaurant.reviews?.length || 0})
          </button>
          <button
            onClick={() => setActiveTab('info')}
            className={`py-2 px-1 border-b-2 font-medium text-sm ${
              activeTab === 'info'
                ? 'border-blue-500 text-blue-600'
                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
            }`}
          >
            Info
          </button>
        </nav>
      </div>

      {/* Tab Content */}
      <div className="mt-6">
        {activeTab === 'menu' && (
          <div>
            <div className="flex justify-between items-center mb-6">
              <h2 className="text-2xl font-bold text-gray-900">Menu</h2>
              <span className="text-gray-600">
                {menuItems.length} items available
              </span>
            </div>
            
            {menuItems.length === 0 ? (
              <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                </svg>
                <h3 className="mt-2 text-lg font-medium text-gray-900">No menu items available</h3>
                <p className="mt-1 text-gray-500">
                  This restaurant hasn't added any menu items yet.
                </p>
              </div>
            ) : (
              <div className="space-y-4">
                {menuItems.map(item => (
                  <MenuItemCard
                    key={item.id}
                    item={item}
                    restaurant={restaurant}
                  />
                ))}
              </div>
            )}
          </div>
        )}
        
        {activeTab === 'reviews' && (
          <div>
            <div className="flex justify-between items-center mb-6">
              <h2 className="text-2xl font-bold text-gray-900">Customer Reviews</h2>
              <Button variant="outline" size="sm">
                Write a Review
              </Button>
            </div>
            
            {restaurant.reviews?.length === 0 ? (
              <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                </svg>
                <h3 className="mt-2 text-lg font-medium text-gray-900">No reviews yet</h3>
                <p className="mt-1 text-gray-500">
                  Be the first to review this restaurant!
                </p>
              </div>
            ) : (
              <div className="space-y-6">
                {restaurant.reviews?.map(review => (
                  <div key={review.id} className="bg-white rounded-lg shadow-sm p-6">
                    <div className="flex items-start justify-between mb-4">
                      <div>
                        <h4 className="font-medium">{review.user_name}</h4>
                        <div className="flex items-center mt-1">
                          <div className="flex">
                            {getRatingStars(review.rating).map(star => (
                              <svg
                                key={star.id}
                                className={`w-4 h-4 ${star.className}`}
                                fill="currentColor"
                                viewBox="0 0 20 20"
                              >
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                              </svg>
                            ))}
                          </div>
                          <span className="ml-2 text-sm text-gray-500">
                            {new Date(review.created_at).toLocaleDateString()}
                          </span>
                        </div>
                      </div>
                    </div>
                    {review.comment && (
                      <p className="text-gray-700">{review.comment}</p>
                    )}
                  </div>
                ))}
              </div>
            )}
          </div>
        )}
        
        {activeTab === 'info' && (
          <div className="bg-white rounded-lg shadow-sm p-6">
            <h2 className="text-2xl font-bold text-gray-900 mb-6">Restaurant Information</h2>
            
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h3 className="font-medium text-gray-900 mb-2">Contact Information</h3>
                <div className="space-y-2">
                  <div className="flex items-center">
                    <svg className="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    </svg>
                    <span>{restaurant.location}</span>
                  </div>
                  {restaurant.phone && (
                    <div className="flex items-center">
                      <svg className="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                      </svg>
                      <span>{restaurant.phone}</span>
                    </div>
                  )}
                </div>
              </div>
              
              <div>
                <h3 className="font-medium text-gray-900 mb-2">Hours of Operation</h3>
                <div className="space-y-1">
                  <div className="flex justify-between">
                    <span>Monday - Friday</span>
                    <span>10:00 AM - 10:00 PM</span>
                  </div>
                  <div className="flex justify-between">
                    <span>Saturday - Sunday</span>
                    <span>9:00 AM - 11:00 PM</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div className="mt-6">
              <h3 className="font-medium text-gray-900 mb-2">About</h3>
              <p className="text-gray-600">
                {restaurant.description || 'No description available.'}
              </p>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default RestaurantDetail;===== ./pages/customer/Cart.jsx =====
import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useCart } from '../../hooks/useCart.js';
import { useAuth } from '../../hooks/useAuth.js';
import { formatCurrency } from '../../utils/helpers.js';
import CartItem from '../../components/customer/CartItem.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Cart = () => {
  const { cart, restaurant, getCartTotal, clearCart } = useCart();
  const { user, isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const [loading, setLoading] = useState(false);

  const handleCheckout = () => {
    if (!isAuthenticated) {
      navigate('/login', { state: { from: '/checkout' } });
      return;
    }
    
    if (cart.length === 0) {
      return;
    }
    
    navigate('/checkout');
  };

  const handleClearCart = () => {
    if (window.confirm('Are you sure you want to clear your cart?')) {
      clearCart();
    }
  };

  if (cart.length === 0) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">Your cart is empty</h3>
          <p className="mt-1 text-gray-500">
            Start adding items from your favorite restaurants!
          </p>
          <div className="mt-6">
            <Link
              to="/restaurants"
              className="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"
            >
              Browse Restaurants
            </Link>
          </div>
        </div>
      </div>
    );
  }

  const subtotal = getCartTotal();
  const tax = subtotal * 0.1; // 10% tax
  const deliveryFee = 2.99;
  const total = subtotal + tax + deliveryFee;

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="flex justify-between items-center mb-8">
        <h1 className="text-3xl font-bold text-gray-900">Your Cart</h1>
        <Button
          onClick={handleClearCart}
          variant="outline"
          size="sm"
        >
          Clear Cart
        </Button>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        {/* Cart Items */}
        <div className="lg:col-span-2">
          <Card>
            <Card.Header>
              <div className="flex justify-between items-center">
                <h2 className="text-lg font-medium text-gray-900">
                  {restaurant?.name || 'Restaurant'}
                </h2>
                <Link
                  to={`/restaurants/${restaurant?.id}`}
                  className="text-sm text-blue-600 hover:text-blue-800"
                >
                  View Restaurant →
                </Link>
              </div>
            </Card.Header>
            
            <Card.Body>
              <div className="space-y-4">
                {cart.map(item => (
                  <CartItem key={item.id} item={item} />
                ))}
              </div>
            </Card.Body>
          </Card>
        </div>

        {/* Order Summary */}
        <div>
          <Card>
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">Order Summary</h2>
            </Card.Header>
            
            <Card.Body>
              <div className="space-y-4">
                <div className="flex justify-between">
                  <span className="text-gray-600">Subtotal</span>
                  <span className="font-medium">{formatCurrency(subtotal)}</span>
                </div>
                
                <div className="flex justify-between">
                  <span className="text-gray-600">Tax (10%)</span>
                  <span className="font-medium">{formatCurrency(tax)}</span>
                </div>
                
                <div className="flex justify-between">
                  <span className="text-gray-600">Delivery Fee</span>
                  <span className="font-medium">{formatCurrency(deliveryFee)}</span>
                </div>
                
                <div className="border-t pt-4">
                  <div className="flex justify-between text-lg font-bold">
                    <span>Total</span>
                    <span>{formatCurrency(total)}</span>
                  </div>
                </div>
              </div>
            </Card.Body>
            
            <Card.Footer>
              {!isAuthenticated && (
                <Alert type="warning" className="mb-4">
                  Please <Link to="/login" className="font-medium underline">sign in</Link> to proceed with checkout
                </Alert>
              )}
              
              <Button
                onClick={handleCheckout}
                loading={loading}
                disabled={!isAuthenticated}
                fullWidth
                size="lg"
              >
                {isAuthenticated ? 'Proceed to Checkout' : 'Sign in to Checkout'}
              </Button>
              
              <div className="mt-4 text-center">
                <Link
                  to="/restaurants"
                  className="text-sm text-blue-600 hover:text-blue-800"
                >
                  Continue Shopping
                </Link>
              </div>
            </Card.Footer>
          </Card>

          {/* Additional Info */}
          <div className="mt-6 p-4 bg-blue-50 rounded-lg">
            <h3 className="font-medium text-blue-900 mb-2">Delivery Information</h3>
            <p className="text-sm text-blue-700">
              {user?.address 
                ? `Delivery to: ${user.address}`
                : 'Please add your delivery address in your profile'
              }
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Cart;===== ./pages/customer/Checkout.jsx =====
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useCart } from '../../hooks/useCart.js';
import { useAuth } from '../../hooks/useAuth.js';
import { orderService } from '../../services/api/orders.js';
import { formatCurrency } from '../../utils/helpers.js';
import { ORDER_TYPE, PAYMENT_METHODS } from '../../utils/constants.js';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Checkout = () => {
  const { cart, restaurant, getCartTotal, clearCart } = useCart();
  const { user } = useAuth();
  const navigate = useNavigate();
  
  const [formData, setFormData] = useState({
    type: ORDER_TYPE.DELIVERY,
    payment_method: PAYMENT_METHODS.CASH,
    notes: ''
  });
  
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);
  const [orderSuccess, setOrderSuccess] = useState(false);
  const [createdOrder, setCreatedOrder] = useState(null);

  const subtotal = getCartTotal();
  const tax = subtotal * 0.1;
  const deliveryFee = formData.type === ORDER_TYPE.DELIVERY ? 2.99 : 0;
  const total = subtotal + tax + deliveryFee;

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
    
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (!formData.type) {
      newErrors.type = 'Order type is required';
    }
    
    if (!formData.payment_method) {
      newErrors.payment_method = 'Payment method is required';
    }
    
    return newErrors;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    if (cart.length === 0) {
      setErrors({ general: 'Your cart is empty' });
      return;
    }
    
    const validationErrors = validateForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    setLoading(true);
    setErrors({});
    
    try {
      const orderData = {
        restaurant_id: restaurant.id,
        items: cart.map(item => ({
          menu_item_id: item.id,
          quantity: item.quantity
        })),
        type: formData.type,
        payment_method: formData.payment_method,
        notes: formData.notes || null
      };
      
      const response = await orderService.createOrder(orderData);
      
      if (response.success) {
        setCreatedOrder(response.data);
        setOrderSuccess(true);
        clearCart();
      } else {
        setErrors({ general: response.message || 'Failed to create order' });
      }
    } catch (err) {
      setErrors({ 
        general: err.response?.data?.message || 'An error occurred while creating order' 
      });
    } finally {
      setLoading(false);
    }
  };

  if (cart.length === 0 && !orderSuccess) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">Your cart is empty</h3>
          <p className="mt-1 text-gray-500">
            Add items to your cart before checking out.
          </p>
          <div className="mt-6">
            <Button
              onClick={() => navigate('/restaurants')}
            >
              Browse Restaurants
            </Button>
          </div>
        </div>
      </div>
    );
  }

  if (orderSuccess && createdOrder) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="text-center py-12">
          <div className="inline-flex items-center justify-center h-16 w-16 rounded-full bg-green-100 text-green-600 mb-4">
            <svg className="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Order Confirmed!</h1>
          <p className="text-xl text-gray-600 mb-8">
            Your order #{createdOrder.id} has been placed successfully.
          </p>
          
          <Card className="max-w-lg mx-auto">
            <Card.Body>
              <div className="space-y-4">
                <div className="flex justify-between">
                  <span className="text-gray-600">Order Number:</span>
                  <span className="font-bold">#{createdOrder.id}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">Restaurant:</span>
                  <span className="font-medium">{createdOrder.restaurant_name}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">Order Type:</span>
                  <span className="font-medium capitalize">{createdOrder.type}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">Total Amount:</span>
                  <span className="font-bold text-lg">{formatCurrency(createdOrder.total_price)}</span>
                </div>
              </div>
              
              <div className="mt-8 pt-6 border-t">
                <p className="text-gray-600 mb-4">
                  You can track your order status from the orders page.
                </p>
                <div className="flex flex-col sm:flex-row gap-3">
                  <Button
                    onClick={() => navigate(`/orders/${createdOrder.id}`)}
                    variant="outline"
                    className="flex-1"
                  >
                    View Order Details
                  </Button>
                  <Button
                    onClick={() => navigate('/orders')}
                    className="flex-1"
                  >
                    Go to My Orders
                  </Button>
                </div>
              </div>
            </Card.Body>
          </Card>
        </div>
      </div>
    );
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="flex justify-between items-center mb-8">
        <h1 className="text-3xl font-bold text-gray-900">Checkout</h1>
        <Button
          onClick={() => navigate('/cart')}
          variant="outline"
          size="sm"
        >
          Back to Cart
        </Button>
      </div>

      {errors.general && (
        <Alert type="error" className="mb-6">
          {errors.general}
        </Alert>
      )}

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        {/* Order Details Form */}
        <div className="lg:col-span-2">
          <Card>
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">Order Details</h2>
            </Card.Header>
            
            <Card.Body>
              <form onSubmit={handleSubmit} className="space-y-6">
                {/* Order Type */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-3">
                    Order Type *
                  </label>
                  <div className="grid grid-cols-2 gap-3">
                    {Object.entries(ORDER_TYPE).map(([key, value]) => (
                      <div key={value} className="relative">
                        <input
                          id={`type-${value}`}
                          name="type"
                          type="radio"
                          value={value}
                          checked={formData.type === value}
                          onChange={handleChange}
                          className="sr-only"
                        />
                        <label
                          htmlFor={`type-${value}`}
                          className={`
                            flex flex-col items-center justify-center p-4 border rounded-lg cursor-pointer
                            ${formData.type === value 
                              ? 'border-blue-500 bg-blue-50' 
                              : 'border-gray-300 hover:bg-gray-50'
                            }
                          `}
                        >
                          <svg className={`h-6 w-6 mb-2 ${formData.type === value ? 'text-blue-600' : 'text-gray-400'}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            {value === ORDER_TYPE.DELIVERY ? (
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM12 8h.01M12 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            ) : (
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                            )}
                          </svg>
                          <span className="text-sm font-medium capitalize">
                            {value}
                          </span>
                        </label>
                      </div>
                    ))}
                  </div>
                  {errors.type && <p className="mt-1 text-sm text-red-600">{errors.type}</p>}
                </div>

                {/* Payment Method */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-3">
                    Payment Method *
                  </label>
                  <div className="grid grid-cols-3 gap-3">
                    {Object.entries(PAYMENT_METHODS).map(([key, value]) => (
                      <div key={value} className="relative">
                        <input
                          id={`payment-${value}`}
                          name="payment_method"
                          type="radio"
                          value={value}
                          checked={formData.payment_method === value}
                          onChange={handleChange}
                          className="sr-only"
                        />
                        <label
                          htmlFor={`payment-${value}`}
                          className={`
                            flex flex-col items-center justify-center p-3 border rounded-lg cursor-pointer
                            ${formData.payment_method === value 
                              ? 'border-blue-500 bg-blue-50' 
                              : 'border-gray-300 hover:bg-gray-50'
                            }
                          `}
                        >
                          <span className="text-sm font-medium capitalize">
                            {value}
                          </span>
                        </label>
                      </div>
                    ))}
                  </div>
                  {errors.payment_method && <p className="mt-1 text-sm text-red-600">{errors.payment_method}</p>}
                </div>

                {/* Delivery Address */}
                {formData.type === ORDER_TYPE.DELIVERY && (
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">
                      Delivery Address
                    </label>
                    <div className="bg-gray-50 p-4 rounded-lg">
                      <p className="text-gray-900">{user?.address || 'No address provided'}</p>
                      <p className="text-sm text-gray-600 mt-1">
                        {!user?.address && 'Please update your address in your profile'}
                      </p>
                    </div>
                  </div>
                )}

                {/* Special Instructions */}
                <div>
                  <label htmlFor="notes" className="block text-sm font-medium text-gray-700 mb-2">
                    Special Instructions (Optional)
                  </label>
                  <textarea
                    id="notes"
                    name="notes"
                    rows={3}
                    value={formData.notes}
                    onChange={handleChange}
                    className="block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                    placeholder="Any special requests or instructions for your order..."
                  />
                </div>
              </form>
            </Card.Body>
          </Card>
        </div>

        {/* Order Summary */}
        <div>
          <Card>
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">Order Summary</h2>
            </Card.Header>
            
            <Card.Body>
              <div className="space-y-4">
                {/* Restaurant Info */}
                <div className="pb-4 border-b">
                  <h3 className="font-medium text-gray-900 mb-2">{restaurant?.name}</h3>
                  <p className="text-sm text-gray-600">{restaurant?.location}</p>
                </div>
                
                {/* Cart Items */}
                <div className="max-h-64 overflow-y-auto">
                  {cart.map(item => (
                    <div key={item.id} className="flex justify-between py-2">
                      <div>
                        <span className="font-medium">{item.quantity}x</span>
                        <span className="ml-2">{item.name}</span>
                      </div>
                      <div>{formatCurrency(item.price * item.quantity)}</div>
                    </div>
                  ))}
                </div>
                
                {/* Totals */}
                <div className="border-t pt-4 space-y-2">
                  <div className="flex justify-between">
                    <span className="text-gray-600">Subtotal</span>
                    <span>{formatCurrency(subtotal)}</span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-gray-600">Tax (10%)</span>
                    <span>{formatCurrency(tax)}</span>
                  </div>
                  {formData.type === ORDER_TYPE.DELIVERY && (
                    <div className="flex justify-between">
                      <span className="text-gray-600">Delivery Fee</span>
                      <span>{formatCurrency(deliveryFee)}</span>
                    </div>
                  )}
                  <div className="flex justify-between text-lg font-bold pt-2 border-t">
                    <span>Total</span>
                    <span>{formatCurrency(total)}</span>
                  </div>
                </div>
              </div>
            </Card.Body>
            
            <Card.Footer>
              <Button
                onClick={handleSubmit}
                loading={loading}
                disabled={cart.length === 0}
                fullWidth
                size="lg"
              >
                Place Order
              </Button>
              <p className="mt-2 text-xs text-gray-500 text-center">
                By placing this order, you agree to our terms and conditions.
              </p>
            </Card.Footer>
          </Card>
        </div>
      </div>
    </div>
  );
};

export default Checkout;===== ./pages/customer/Orders.jsx =====
import React, { useState, useEffect } from 'react';
import { orderService } from '../../services/api/orders.js';
import OrderCard from '../../components/customer/OrderCard.jsx';
import Loader, { PageLoader } from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Input from '../../components/ui/Input.jsx';

const Orders = () => {
  const [orders, setOrders] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [search, setSearch] = useState('');
  const [statusFilter, setStatusFilter] = useState('');

  useEffect(() => {
    fetchOrders();
  }, []);

  const fetchOrders = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await orderService.getMyOrders();
      
      if (response.success) {
        setOrders(response.data);
      } else {
        setError('Failed to load orders');
      }
    } catch (err) {
      setError('An error occurred while loading orders');
      console.error('Error fetching orders:', err);
    } finally {
      setLoading(false);
    }
  };

  const filteredOrders = orders.filter(order => {
    if (search && !order.restaurant_name?.toLowerCase().includes(search.toLowerCase())) {
      return false;
    }
    if (statusFilter && order.status !== statusFilter) {
      return false;
    }
    return true;
  });

  const getStatusCount = (status) => {
    return orders.filter(order => order.status === status).length;
  };

  if (loading && !orders.length) {
    return <PageLoader />;
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-2">My Orders</h1>
        <p className="text-gray-600">
          Track and manage your food orders
        </p>
      </div>

      {/* Stats */}
      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
        <div className="bg-white rounded-lg shadow-sm p-4">
          <div className="text-2xl font-bold text-gray-900">{orders.length}</div>
          <div className="text-sm text-gray-600">Total Orders</div>
        </div>
        <div className="bg-white rounded-lg shadow-sm p-4">
          <div className="text-2xl font-bold text-green-600">{getStatusCount('delivered')}</div>
          <div className="text-sm text-gray-600">Delivered</div>
        </div>
        <div className="bg-white rounded-lg shadow-sm p-4">
          <div className="text-2xl font-bold text-blue-600">{getStatusCount('preparing') + getStatusCount('ready') + getStatusCount('on_the_way')}</div>
          <div className="text-sm text-gray-600">In Progress</div>
        </div>
        <div className="bg-white rounded-lg shadow-sm p-4">
          <div className="text-2xl font-bold text-red-600">{getStatusCount('cancelled')}</div>
          <div className="text-sm text-gray-600">Cancelled</div>
        </div>
      </div>

      {/* Filters */}
      <div className="bg-white rounded-lg shadow-md p-6 mb-8">
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <Input
              placeholder="Search by restaurant..."
              value={search}
              onChange={(e) => setSearch(e.target.value)}
              leftIcon={
                <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
              }
            />
          </div>
          
          <div>
            <select
              value={statusFilter}
              onChange={(e) => setStatusFilter(e.target.value)}
              className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
            >
              <option value="">All Status</option>
              <option value="pending">Pending</option>
              <option value="accepted">Accepted</option>
              <option value="preparing">Preparing</option>
              <option value="ready">Ready</option>
              <option value="on_the_way">On the way</option>
              <option value="delivered">Delivered</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
          
          <div className="flex space-x-2">
            <Button
              onClick={fetchOrders}
              loading={loading}
              className="flex-1"
            >
              Refresh
            </Button>
            <Button
              onClick={() => {
                setSearch('');
                setStatusFilter('');
              }}
              variant="outline"
              className="flex-1"
              disabled={!search && !statusFilter}
            >
              Clear Filters
            </Button>
          </div>
        </div>
      </div>

      {/* Error Message */}
      {error && (
        <Alert type="error" className="mb-6">
          {error}
          <Button
            onClick={fetchOrders}
            variant="outline"
            size="sm"
            className="ml-4"
          >
            Try Again
          </Button>
        </Alert>
      )}

      {/* Orders List */}
      {loading ? (
        <div className="flex justify-center py-12">
          <Loader text="Loading orders..." />
        </div>
      ) : filteredOrders.length === 0 ? (
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">No orders found</h3>
          <p className="mt-1 text-gray-500">
            {orders.length === 0 
              ? "You haven't placed any orders yet." 
              : "No orders match your filters."}
          </p>
          {orders.length === 0 && (
            <Button
              onClick={() => window.location.href = '/restaurants'}
              className="mt-4"
            >
              Order Now
            </Button>
          )}
        </div>
      ) : (
        <div className="space-y-6">
          {filteredOrders.map(order => (
            <OrderCard key={order.id} order={order} />
          ))}
        </div>
      )}

      {/* Pagination */}
      {filteredOrders.length > 0 && (
        <div className="mt-8 flex justify-center">
          <nav className="flex items-center space-x-2">
            <button className="px-3 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
              Previous
            </button>
            <button className="px-3 py-2 rounded-lg bg-blue-600 text-white">
              1
            </button>
            <button className="px-3 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
              2
            </button>
            <button className="px-3 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
              Next
            </button>
          </nav>
        </div>
      )}
    </div>
  );
};

export default Orders;===== ./pages/customer/Profile.jsx =====
import React, { useState, useEffect } from 'react';
import { useAuth } from '../../hooks/useAuth.js';
import { authService } from '../../services/api/auth.js';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Profile = () => {
  const { user, updateUser } = useAuth();
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    phone: '',
    address: '',
    currentPassword: '',
    newPassword: '',
    confirmPassword: ''
  });
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);
  const [successMessage, setSuccessMessage] = useState('');
  const [activeTab, setActiveTab] = useState('profile');

  useEffect(() => {
    if (user) {
      setFormData({
        name: user.name || '',
        email: user.email || '',
        phone: user.phone || '',
        address: user.address || '',
        currentPassword: '',
        newPassword: '',
        confirmPassword: ''
      });
    }
  }, [user]);

  const validateProfileForm = () => {
    const newErrors = {};
    
    if (!formData.name.trim()) {
      newErrors.name = 'Name is required';
    }
    
    if (!formData.email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = 'Email is invalid';
    }
    
    return newErrors;
  };

  const validatePasswordForm = () => {
    const newErrors = {};
    
    if (formData.newPassword && formData.newPassword.length < 6) {
      newErrors.newPassword = 'Password must be at least 6 characters';
    }
    
    if (formData.newPassword !== formData.confirmPassword) {
      newErrors.confirmPassword = 'Passwords do not match';
    }
    
    return newErrors;
  };

  const handleProfileUpdate = async (e) => {
    e.preventDefault();
    
    const validationErrors = validateProfileForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    setLoading(true);
    setErrors({});
    setSuccessMessage('');
    
    try {
      // In a real app, you would have an API endpoint to update user profile
      // For now, we'll just update the local state
      const updatedUser = {
        ...user,
        name: formData.name,
        email: formData.email,
        phone: formData.phone,
        address: formData.address
      };
      
      updateUser(updatedUser);
      setSuccessMessage('Profile updated successfully!');
    } catch (err) {
      setErrors({ general: 'Failed to update profile' });
    } finally {
      setLoading(false);
    }
  };

  const handlePasswordUpdate = async (e) => {
    e.preventDefault();
    
    const validationErrors = validatePasswordForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    if (!formData.currentPassword) {
      setErrors({ currentPassword: 'Current password is required' });
      return;
    }
    
    setLoading(true);
    setErrors({});
    setSuccessMessage('');
    
    try {
      // In a real app, you would call an API to change password
      // For now, we'll just show a success message
      setSuccessMessage('Password updated successfully!');
      
      // Clear password fields
      setFormData(prev => ({
        ...prev,
        currentPassword: '',
        newPassword: '',
        confirmPassword: ''
      }));
    } catch (err) {
      setErrors({ general: 'Failed to update password' });
    } finally {
      setLoading(false);
    }
  };

  if (!user) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <Alert type="warning">
          Please sign in to view your profile.
        </Alert>
      </div>
    );
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-2">My Profile</h1>
        <p className="text-gray-600">
          Manage your account settings and preferences
        </p>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-4 gap-8">
        {/* Sidebar */}
        <div className="lg:col-span-1">
          <Card>
            <div className="space-y-1">
              <button
                onClick={() => setActiveTab('profile')}
                className={`w-full text-left px-4 py-3 rounded-lg ${
                  activeTab === 'profile'
                    ? 'bg-blue-50 text-blue-700'
                    : 'text-gray-700 hover:bg-gray-50'
                }`}
              >
                Profile Information
              </button>
              <button
                onClick={() => setActiveTab('password')}
                className={`w-full text-left px-4 py-3 rounded-lg ${
                  activeTab === 'password'
                    ? 'bg-blue-50 text-blue-700'
                    : 'text-gray-700 hover:bg-gray-50'
                }`}
              >
                Change Password
              </button>
              <button
                onClick={() => setActiveTab('orders')}
                className={`w-full text-left px-4 py-3 rounded-lg ${
                  activeTab === 'orders'
                    ? 'bg-blue-50 text-blue-700'
                    : 'text-gray-700 hover:bg-gray-50'
                }`}
              >
                Order History
              </button>
            </div>
          </Card>
        </div>

        {/* Content */}
        <div className="lg:col-span-3">
          {successMessage && (
            <Alert type="success" className="mb-6">
              {successMessage}
            </Alert>
          )}

          {errors.general && (
            <Alert type="error" className="mb-6">
              {errors.general}
            </Alert>
          )}

          {activeTab === 'profile' && (
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Profile Information</h2>
              </Card.Header>
              
              <Card.Body>
                <form onSubmit={handleProfileUpdate} className="space-y-6">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <Input
                      label="Full Name *"
                      name="name"
                      value={formData.name}
                      onChange={(e) => {
                        setFormData(prev => ({ ...prev, name: e.target.value }));
                        if (errors.name) setErrors(prev => ({ ...prev, name: '' }));
                      }}
                      error={errors.name}
                      placeholder="John Doe"
                      required
                    />
                    
                    <Input
                      label="Email Address *"
                      name="email"
                      type="email"
                      value={formData.email}
                      onChange={(e) => {
                        setFormData(prev => ({ ...prev, email: e.target.value }));
                        if (errors.email) setErrors(prev => ({ ...prev, email: '' }));
                      }}
                      error={errors.email}
                      placeholder="you@example.com"
                      required
                    />
                    
                    <Input
                      label="Phone Number"
                      name="phone"
                      type="tel"
                      value={formData.phone}
                      onChange={(e) => setFormData(prev => ({ ...prev, phone: e.target.value }))}
                      placeholder="+1 (555) 123-4567"
                    />
                    
                    <Input
                      label="Address"
                      name="address"
                      value={formData.address}
                      onChange={(e) => setFormData(prev => ({ ...prev, address: e.target.value }))}
                      placeholder="123 Main St, City, Country"
                    />
                  </div>
                  
                  <div className="flex justify-end">
                    <Button
                      type="submit"
                      loading={loading}
                    >
                      Update Profile
                    </Button>
                  </div>
                </form>
              </Card.Body>
            </Card>
          )}

          {activeTab === 'password' && (
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Change Password</h2>
              </Card.Header>
              
              <Card.Body>
                <form onSubmit={handlePasswordUpdate} className="space-y-6">
                  <Input
                    label="Current Password *"
                    name="currentPassword"
                    type="password"
                    value={formData.currentPassword}
                    onChange={(e) => {
                      setFormData(prev => ({ ...prev, currentPassword: e.target.value }));
                      if (errors.currentPassword) setErrors(prev => ({ ...prev, currentPassword: '' }));
                    }}
                    error={errors.currentPassword}
                    placeholder="••••••••"
                    required
                  />
                  
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <Input
                      label="New Password"
                      name="newPassword"
                      type="password"
                      value={formData.newPassword}
                      onChange={(e) => {
                        setFormData(prev => ({ ...prev, newPassword: e.target.value }));
                        if (errors.newPassword) setErrors(prev => ({ ...prev, newPassword: '' }));
                      }}
                      error={errors.newPassword}
                      placeholder="••••••••"
                    />
                    
                    <Input
                      label="Confirm New Password"
                      name="confirmPassword"
                      type="password"
                      value={formData.confirmPassword}
                      onChange={(e) => {
                        setFormData(prev => ({ ...prev, confirmPassword: e.target.value }));
                        if (errors.confirmPassword) setErrors(prev => ({ ...prev, confirmPassword: '' }));
                      }}
                      error={errors.confirmPassword}
                      placeholder="••••••••"
                    />
                  </div>
                  
                  <div className="flex justify-end">
                    <Button
                      type="submit"
                      loading={loading}
                    >
                      Change Password
                    </Button>
                  </div>
                </form>
              </Card.Body>
            </Card>
          )}

          {activeTab === 'orders' && (
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Order History</h2>
              </Card.Header>
              
              <Card.Body>
                <p className="text-gray-600">
                  Your order history will appear here. You can view detailed information about each order,
                  track current orders, and reorder your favorite meals.
                </p>
                <div className="mt-4">
                  <Button
                    onClick={() => window.location.href = '/orders'}
                  >
                    View All Orders
                  </Button>
                </div>
              </Card.Body>
            </Card>
          )}
        </div>
      </div>
    </div>
  );
};

export default Profile;===== ./pages/restaurant/Dashboard.jsx =====
import React, { useState, useEffect } from 'react';
import { restaurantService } from '../../services/api/restaurants.js';
import { orderService } from '../../services/api/orders.js';
import { formatCurrency, formatDate, getStatusColor, getStatusText } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Card from '../../components/ui/Card.jsx';

const RestaurantDashboard = () => {
  const [restaurant, setRestaurant] = useState(null);
  const [orders, setOrders] = useState([]);
  const [stats, setStats] = useState({
    totalOrders: 0,
    pendingOrders: 0,
    revenue: 0,
    avgRating: 0
  });
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      setLoading(true);
      setError('');
      
      const [restaurantRes, ordersRes] = await Promise.all([
        restaurantService.getMyRestaurant(),
        orderService.getMyOrders()
      ]);
      
      if (restaurantRes.success) {
        setRestaurant(restaurantRes.data);
      } else {
        setError('Failed to load restaurant data');
      }
      
      if (ordersRes.success) {
        setOrders(ordersRes.data);
        
        // Calculate stats
        const totalOrders = ordersRes.data.length;
        const pendingOrders = ordersRes.data.filter(o => 
          ['pending', 'accepted', 'preparing', 'ready'].includes(o.status)
        ).length;
        const revenue = ordersRes.data
          .filter(o => o.status === 'delivered')
          .reduce((sum, o) => sum + o.total_price, 0);
        
        setStats({
          totalOrders,
          pendingOrders,
          revenue,
          avgRating: restaurantRes.data?.avg_rating || 0
        });
      }
    } catch (err) {
      setError('An error occurred while loading dashboard data');
      console.error('Error fetching dashboard data:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleStatusUpdate = async (orderId, newStatus) => {
    try {
      const response = await orderService.updateOrderStatus(orderId, { status: newStatus });
      
      if (response.success) {
        // Update local state
        setOrders(prev => prev.map(order =>
          order.id === orderId ? { ...order, status: newStatus } : order
        ));
      }
    } catch (err) {
      console.error('Error updating order status:', err);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading dashboard..." />
          </div>
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Alert type="error">
              {error}
              <Button
                onClick={fetchDashboardData}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          </div>
        </div>
      </div>
    );
  }

  if (!restaurant) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div className="text-center py-12">
              <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurant found</h3>
              <p className="mt-1 text-gray-500">
                You haven't registered a restaurant yet.
              </p>
              <div className="mt-6">
                <Button
                  onClick={() => window.location.href = '/restaurant/register'}
                >
                  Register Restaurant
                </Button>
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  const recentOrders = orders.slice(0, 5);

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">Dashboard</h1>
            <p className="text-gray-600">
              Welcome back, {restaurant.name}!
            </p>
          </div>

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-blue-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.totalOrders}</div>
                    <div className="text-sm text-gray-600">Total Orders</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-yellow-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.pendingOrders}</div>
                    <div className="text-sm text-gray-600">Pending Orders</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-green-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{formatCurrency(stats.revenue)}</div>
                    <div className="text-sm text-gray-600">Total Revenue</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-purple-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.avgRating.toFixed(1)}</div>
                    <div className="text-sm text-gray-600">Average Rating</div>
                  </div>
                </div>
              </Card.Body>
            </Card>
          </div>

          {/* Recent Orders */}
          <Card className="mb-8">
            <Card.Header className="flex justify-between items-center">
              <h2 className="text-lg font-medium text-gray-900">Recent Orders</h2>
              <Button
                onClick={() => window.location.href = '/restaurant/orders'}
                variant="outline"
                size="sm"
              >
                View All
              </Button>
            </Card.Header>
            
            <Card.Body>
              {recentOrders.length === 0 ? (
                <div className="text-center py-8">
                  <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  <h3 className="mt-2 text-lg font-medium text-gray-900">No recent orders</h3>
                  <p className="mt-1 text-gray-500">
                    You haven't received any orders yet.
                  </p>
                </div>
              ) : (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead>
                      <tr>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Order ID
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Customer
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Amount
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Status
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Date
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-gray-200">
                      {recentOrders.map(order => (
                        <tr key={order.id}>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                            #{order.id}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {order.customer_name}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-900">
                            {formatCurrency(order.total_price)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}>
                              {getStatusText(order.status)}
                            </span>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {formatDate(order.created_at)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium">
                            <select
                              value={order.status}
                              onChange={(e) => handleStatusUpdate(order.id, e.target.value)}
                              className="text-sm border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                              <option value="pending">Pending</option>
                              <option value="accepted">Accepted</option>
                              <option value="preparing">Preparing</option>
                              <option value="ready">Ready</option>
                              <option value="cancelled">Cancelled</option>
                            </select>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              )}
            </Card.Body>
          </Card>

          {/* Restaurant Info */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Restaurant Information</h2>
              </Card.Header>
              
              <Card.Body>
                <div className="space-y-4">
                  <div>
                    <h3 className="text-sm font-medium text-gray-500">Restaurant Name</h3>
                    <p className="mt-1 text-lg font-medium">{restaurant.name}</p>
                  </div>
                  
                  <div>
                    <h3 className="text-sm font-medium text-gray-500">Location</h3>
                    <p className="mt-1">{restaurant.location}</p>
                  </div>
                  
                  {restaurant.phone && (
                    <div>
                      <h3 className="text-sm font-medium text-gray-500">Phone</h3>
                      <p className="mt-1">{restaurant.phone}</p>
                    </div>
                  )}
                  
                  <div>
                    <h3 className="text-sm font-medium text-gray-500">Menu Items</h3>
                    <p className="mt-1">{restaurant.menu_items?.length || 0} items</p>
                  </div>
                </div>
                
                <div className="mt-6">
                  <Button
                    onClick={() => window.location.href = '/restaurant/settings'}
                    variant="outline"
                    className="w-full"
                  >
                    Edit Restaurant Info
                  </Button>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Quick Actions</h2>
              </Card.Header>
              
              <Card.Body>
                <div className="space-y-3">
                  <Button
                    onClick={() => window.location.href = '/restaurant/menu'}
                    variant="outline"
                    className="w-full justify-start"
                  >
                    <svg className="mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                    </svg>
                    Add Menu Item
                  </Button>
                  
                  <Button
                    onClick={() => window.location.href = '/restaurant/orders'}
                    variant="outline"
                    className="w-full justify-start"
                  >
                    <svg className="mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                    View All Orders
                  </Button>
                  
                  <Button
                    onClick={() => window.location.href = '/restaurant/menu'}
                    variant="outline"
                    className="w-full justify-start"
                  >
                    <svg className="mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                    </svg>
                    Manage Menu
                  </Button>
                </div>
              </Card.Body>
            </Card>
          </div>
        </div>
      </div>
    </div>
  );
};

export default RestaurantDashboard;===== ./pages/restaurant/Menu.jsx =====
import React, { useState, useEffect } from 'react';
import { restaurantService } from '../../services/api/restaurants.js';
import { menuService } from '../../services/api/menu.js';
import { formatCurrency } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import MenuItemForm from '../../components/restaurant/MenuItemForm.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Modal from '../../components/ui/Modal.jsx';
import Card from '../../components/ui/Card.jsx';

const RestaurantMenu = () => {
  const [restaurant, setRestaurant] = useState(null);
  const [menuItems, setMenuItems] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [showAddModal, setShowAddModal] = useState(false);
  const [editingItem, setEditingItem] = useState(null);
  const [deleteConfirm, setDeleteConfirm] = useState(null);

  useEffect(() => {
    fetchMenuData();
  }, []);

  const fetchMenuData = async () => {
    try {
      setLoading(true);
      setError('');
      
      const restaurantRes = await restaurantService.getMyRestaurant();
      
      if (restaurantRes.success) {
        setRestaurant(restaurantRes.data);
        setMenuItems(restaurantRes.data.menu_items || []);
      } else {
        setError('Failed to load restaurant menu');
      }
    } catch (err) {
      setError('An error occurred while loading menu data');
      console.error('Error fetching menu data:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleAddItem = async (itemData) => {
    try {
      const response = await menuService.createMenuItem(itemData);
      
      if (response.success) {
        setMenuItems(prev => [response.data, ...prev]);
        setShowAddModal(false);
        return { success: true };
      } else {
        return { success: false, message: response.message };
      }
    } catch (err) {
      return { 
        success: false, 
        message: err.response?.data?.message || 'Failed to create menu item' 
      };
    }
  };

  const handleUpdateItem = async (itemData) => {
    try {
      const response = await menuService.updateMenuItem(editingItem.id, itemData);
      
      if (response.success) {
        setMenuItems(prev => prev.map(item =>
          item.id === editingItem.id ? { ...item, ...itemData } : item
        ));
        setEditingItem(null);
        return { success: true };
      } else {
        return { success: false, message: response.message };
      }
    } catch (err) {
      return { 
        success: false, 
        message: err.response?.data?.message || 'Failed to update menu item' 
      };
    }
  };

  const handleDeleteItem = async (itemId) => {
    try {
      const response = await menuService.deleteMenuItem(itemId);
      
      if (response.success) {
        setMenuItems(prev => prev.filter(item => item.id !== itemId));
        setDeleteConfirm(null);
      }
    } catch (err) {
      console.error('Error deleting menu item:', err);
    }
  };

  const toggleAvailability = async (item) => {
    try {
      const updatedItem = { ...item, availability: !item.availability };
      const response = await menuService.updateMenuItem(item.id, updatedItem);
      
      if (response.success) {
        setMenuItems(prev => prev.map(i =>
          i.id === item.id ? { ...i, availability: !i.availability } : i
        ));
      }
    } catch (err) {
      console.error('Error toggling availability:', err);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading menu..." />
          </div>
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Alert type="error">
              {error}
              <Button
                onClick={fetchMenuData}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          </div>
        </div>
      </div>
    );
  }

  if (!restaurant) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div className="text-center py-12">
              <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurant found</h3>
              <p className="mt-1 text-gray-500">
                You need to register a restaurant first.
              </p>
            </div>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="flex justify-between items-center mb-8">
            <div>
              <h1 className="text-3xl font-bold text-gray-900">Menu Management</h1>
              <p className="text-gray-600">
                Manage your restaurant's menu items
              </p>
            </div>
            <Button
              onClick={() => setShowAddModal(true)}
            >
              <svg className="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
              </svg>
              Add Menu Item
            </Button>
          </div>

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-gray-900">{menuItems.length}</div>
                  <div className="text-sm text-gray-600">Total Items</div>
                </div>
              </Card.Body>
            </Card>
            
            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-green-600">
                    {menuItems.filter(item => item.availability).length}
                  </div>
                  <div className="text-sm text-gray-600">Available Items</div>
                </div>
              </Card.Body>
            </Card>
            
            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-red-600">
                    {menuItems.filter(item => !item.availability).length}
                  </div>
                  <div className="text-sm text-gray-600">Unavailable Items</div>
                </div>
              </Card.Body>
            </Card>
          </div>

          {/* Menu Items */}
          {menuItems.length === 0 ? (
            <Card>
              <Card.Body>
                <div className="text-center py-12">
                  <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  <h3 className="mt-2 text-lg font-medium text-gray-900">No menu items yet</h3>
                  <p className="mt-1 text-gray-500">
                    Get started by adding your first menu item.
                  </p>
                  <Button
                    onClick={() => setShowAddModal(true)}
                    className="mt-4"
                  >
                    Add Your First Item
                  </Button>
                </div>
              </Card.Body>
            </Card>
          ) : (
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {menuItems.map(item => (
                <Card key={item.id}>
                  {item.image_url && (
                    <img
                      src={item.image_url}
                      alt={item.name}
                      className="w-full h-48 object-cover rounded-t-lg"
                    />
                  )}
                  
                  <Card.Body>
                    <div className="flex justify-between items-start mb-2">
                      <h3 className="font-bold text-lg">{item.name}</h3>
                      <span className="font-bold">{formatCurrency(item.price)}</span>
                    </div>
                    
                    {item.description && (
                      <p className="text-gray-600 text-sm mb-4">{item.description}</p>
                    )}
                    
                    <div className="flex items-center justify-between">
                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${
                        item.availability 
                          ? 'bg-green-100 text-green-800' 
                          : 'bg-red-100 text-red-800'
                      }`}>
                        {item.availability ? 'Available' : 'Unavailable'}
                      </span>
                      
                      <div className="flex space-x-2">
                        <button
                          onClick={() => toggleAvailability(item)}
                          className="text-sm text-gray-600 hover:text-gray-900"
                        >
                          {item.availability ? 'Make Unavailable' : 'Make Available'}
                        </button>
                        
                        <button
                          onClick={() => setEditingItem(item)}
                          className="text-sm text-blue-600 hover:text-blue-900"
                        >
                          Edit
                        </button>
                        
                        <button
                          onClick={() => setDeleteConfirm(item)}
                          className="text-sm text-red-600 hover:text-red-900"
                        >
                          Delete
                        </button>
                      </div>
                    </div>
                  </Card.Body>
                </Card>
              ))}
            </div>
          )}

          {/* Add Menu Item Modal */}
          <Modal
            isOpen={showAddModal}
            onClose={() => setShowAddModal(false)}
            title="Add Menu Item"
            size="lg"
          >
            <MenuItemForm
              onSubmit={async (data) => {
                const result = await handleAddItem({
                  ...data,
                  restaurant_id: restaurant.id
                });
                if (result.success) {
                  setShowAddModal(false);
                }
                return result;
              }}
              onCancel={() => setShowAddModal(false)}
            />
          </Modal>

          {/* Edit Menu Item Modal */}
          <Modal
            isOpen={!!editingItem}
            onClose={() => setEditingItem(null)}
            title="Edit Menu Item"
            size="lg"
          >
            {editingItem && (
              <MenuItemForm
                item={editingItem}
                onSubmit={async (data) => {
                  const result = await handleUpdateItem(data);
                  if (result.success) {
                    setEditingItem(null);
                  }
                  return result;
                }}
                onCancel={() => setEditingItem(null)}
              />
            )}
          </Modal>

          {/* Delete Confirmation Modal */}
          <Modal
            isOpen={!!deleteConfirm}
            onClose={() => setDeleteConfirm(null)}
            title="Delete Menu Item"
            size="sm"
          >
            {deleteConfirm && (
              <div>
                <p className="text-gray-600 mb-6">
                  Are you sure you want to delete "{deleteConfirm.name}"? This action cannot be undone.
                </p>
                <div className="flex justify-end space-x-3">
                  <Button
                    onClick={() => setDeleteConfirm(null)}
                    variant="outline"
                  >
                    Cancel
                  </Button>
                  <Button
                    onClick={() => handleDeleteItem(deleteConfirm.id)}
                    variant="danger"
                  >
                    Delete
                  </Button>
                </div>
              </div>
            )}
          </Modal>
        </div>
      </div>
    </div>
  );
};

export default RestaurantMenu;===== ./pages/restaurant/RestaurantOrders.jsx =====
import React, { useState, useEffect } from 'react';
import { orderService } from '../../services/api/orders.js';
import { formatCurrency, formatDate, getStatusColor, getStatusText } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Modal from '../../components/ui/Modal.jsx';
import Card from '../../components/ui/Card.jsx';
import Input from '../../components/ui/Input.jsx';

const RestaurantOrders = () => {
  const [orders, setOrders] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [selectedOrder, setSelectedOrder] = useState(null);
  const [search, setSearch] = useState('');
  const [statusFilter, setStatusFilter] = useState('');
  const [dateFilter, setDateFilter] = useState('');

  useEffect(() => {
    fetchOrders();
  }, []);

  const fetchOrders = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await orderService.getMyOrders();
      
      if (response.success) {
        setOrders(response.data);
      } else {
        setError('Failed to load orders');
      }
    } catch (err) {
      setError('An error occurred while loading orders');
      console.error('Error fetching orders:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleStatusUpdate = async (orderId, newStatus) => {
    try {
      const response = await orderService.updateOrderStatus(orderId, { status: newStatus });
      
      if (response.success) {
        // Update local state
        setOrders(prev => prev.map(order =>
          order.id === orderId ? { ...order, status: newStatus } : order
        ));
        
        if (selectedOrder?.id === orderId) {
          setSelectedOrder(prev => ({ ...prev, status: newStatus }));
        }
      }
    } catch (err) {
      console.error('Error updating order status:', err);
    }
  };

  const filteredOrders = orders.filter(order => {
    if (search && !order.customer_name?.toLowerCase().includes(search.toLowerCase())) {
      return false;
    }
    if (statusFilter && order.status !== statusFilter) {
      return false;
    }
    if (dateFilter) {
      const orderDate = new Date(order.created_at).toISOString().split('T')[0];
      return orderDate === dateFilter;
    }
    return true;
  });

  const getStatusCount = (status) => {
    return orders.filter(order => order.status === status).length;
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading orders..." />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">Restaurant Orders</h1>
            <p className="text-gray-600">
              Manage and track all orders from your restaurant
            </p>
          </div>

          {error && (
            <Alert type="error" className="mb-6">
              {error}
              <Button
                onClick={fetchOrders}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          )}

          {/* Stats */}
          <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold">{orders.length}</div>
                <div className="text-sm text-gray-600">Total</div>
              </Card.Body>
            </Card>
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold text-yellow-600">{getStatusCount('pending')}</div>
                <div className="text-sm text-gray-600">Pending</div>
              </Card.Body>
            </Card>
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold text-blue-600">{getStatusCount('accepted') + getStatusCount('preparing')}</div>
                <div className="text-sm text-gray-600">In Progress</div>
              </Card.Body>
            </Card>
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold text-green-600">{getStatusCount('ready')}</div>
                <div className="text-sm text-gray-600">Ready</div>
              </Card.Body>
            </Card>
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold text-red-600">{getStatusCount('cancelled')}</div>
                <div className="text-sm text-gray-600">Cancelled</div>
              </Card.Body>
            </Card>
          </div>

          {/* Filters */}
          <Card className="mb-8">
            <Card.Body>
              <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div>
                  <Input
                    placeholder="Search by customer..."
                    value={search}
                    onChange={(e) => setSearch(e.target.value)}
                    leftIcon={
                      <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                      </svg>
                    }
                  />
                </div>
                
                <div>
                  <select
                    value={statusFilter}
                    onChange={(e) => setStatusFilter(e.target.value)}
                    className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                  >
                    <option value="">All Status</option>
                    <option value="pending">Pending</option>
                    <option value="accepted">Accepted</option>
                    <option value="preparing">Preparing</option>
                    <option value="ready">Ready</option>
                    <option value="cancelled">Cancelled</option>
                  </select>
                </div>
                
                <div>
                  <Input
                    type="date"
                    value={dateFilter}
                    onChange={(e) => setDateFilter(e.target.value)}
                  />
                </div>
                
                <div className="flex space-x-2">
                  <Button
                    onClick={fetchOrders}
                    loading={loading}
                    className="flex-1"
                  >
                    Refresh
                  </Button>
                  <Button
                    onClick={() => {
                      setSearch('');
                      setStatusFilter('');
                      setDateFilter('');
                    }}
                    variant="outline"
                    className="flex-1"
                    disabled={!search && !statusFilter && !dateFilter}
                  >
                    Clear
                  </Button>
                </div>
              </div>
            </Card.Body>
          </Card>

          {/* Orders Table */}
          <Card>
            <Card.Header className="flex justify-between items-center">
              <h2 className="text-lg font-medium text-gray-900">All Orders</h2>
              <span className="text-sm text-gray-600">
                {filteredOrders.length} orders found
              </span>
            </Card.Header>
            
            <Card.Body>
              {filteredOrders.length === 0 ? (
                <div className="text-center py-12">
                  <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  <h3 className="mt-2 text-lg font-medium text-gray-900">No orders found</h3>
                  <p className="mt-1 text-gray-500">
                    {orders.length === 0 
                      ? "You haven't received any orders yet." 
                      : "No orders match your filters."}
                  </p>
                </div>
              ) : (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead>
                      <tr>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Order ID
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Customer
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Items
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Amount
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Status
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Date
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-gray-200">
                      {filteredOrders.map(order => (
                        <tr key={order.id} className="hover:bg-gray-50">
                          <td className="px-4 py-4 whitespace-nowrap">
                            <button
                              onClick={() => setSelectedOrder(order)}
                              className="text-blue-600 hover:text-blue-900 font-medium"
                            >
                              #{order.id}
                            </button>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <div>
                              <div className="font-medium">{order.customer_name}</div>
                              {order.customer_phone && (
                                <div className="text-sm text-gray-500">{order.customer_phone}</div>
                              )}
                            </div>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <div className="text-sm text-gray-900">
                              {order.items?.length || 0} items
                            </div>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium">
                            {formatCurrency(order.total_price)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}>
                              {getStatusText(order.status)}
                            </span>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {formatDate(order.created_at)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium">
                            <div className="flex items-center space-x-2">
                              <select
                                value={order.status}
                                onChange={(e) => handleStatusUpdate(order.id, e.target.value)}
                                className="text-sm border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                              >
                                <option value="pending">Pending</option>
                                <option value="accepted">Accepted</option>
                                <option value="preparing">Preparing</option>
                                <option value="ready">Ready</option>
                                <option value="cancelled">Cancelled</option>
                              </select>
                              
                              <button
                                onClick={() => setSelectedOrder(order)}
                                className="text-blue-600 hover:text-blue-900"
                              >
                                View
                              </button>
                            </div>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              )}
            </Card.Body>
          </Card>

          {/* Order Details Modal */}
          <Modal
            isOpen={!!selectedOrder}
            onClose={() => setSelectedOrder(null)}
            title={`Order #${selectedOrder?.id}`}
            size="lg"
          >
            {selectedOrder && (
              <div className="space-y-6">
                {/* Order Summary */}
                <div className="bg-gray-50 rounded-lg p-4">
                  <div className="grid grid-cols-2 gap-4">
                    <div>
                      <h4 className="text-sm font-medium text-gray-500">Customer</h4>
                      <p className="mt-1 font-medium">{selectedOrder.customer_name}</p>
                      {selectedOrder.customer_phone && (
                        <p className="text-sm text-gray-600">{selectedOrder.customer_phone}</p>
                      )}
                    </div>
                    <div>
                      <h4 className="text-sm font-medium text-gray-500">Order Type</h4>
                      <p className="mt-1 font-medium capitalize">{selectedOrder.type}</p>
                    </div>
                    <div>
                      <h4 className="text-sm font-medium text-gray-500">Status</h4>
                      <div className="mt-1">
                        <select
                          value={selectedOrder.status}
                          onChange={(e) => handleStatusUpdate(selectedOrder.id, e.target.value)}
                          className="text-sm border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                          <option value="pending">Pending</option>
                          <option value="accepted">Accepted</option>
                          <option value="preparing">Preparing</option>
                          <option value="ready">Ready</option>
                          <option value="cancelled">Cancelled</option>
                        </select>
                      </div>
                    </div>
                    <div>
                      <h4 className="text-sm font-medium text-gray-500">Total Amount</h4>
                      <p className="mt-1 font-bold text-lg">{formatCurrency(selectedOrder.total_price)}</p>
                    </div>
                  </div>
                  
                  <div className="mt-4 pt-4 border-t border-gray-200">
                    <h4 className="text-sm font-medium text-gray-500">Order Date</h4>
                    <p className="mt-1">{formatDate(selectedOrder.created_at)}</p>
                  </div>
                </div>

                {/* Order Items */}
                <div>
                  <h3 className="text-lg font-medium text-gray-900 mb-4">Order Items</h3>
                  <div className="space-y-3">
                    {selectedOrder.items?.map((item, index) => (
                      <div key={index} className="flex justify-between items-center py-2 border-b border-gray-200 last:border-0">
                        <div>
                          <div className="font-medium">{item.quantity}x {item.item_name}</div>
                          {item.description && (
                            <div className="text-sm text-gray-600">{item.description}</div>
                          )}
                        </div>
                        <div className="font-medium">
                          {formatCurrency(item.price * item.quantity)}
                        </div>
                      </div>
                    ))}
                  </div>
                  
                  <div className="mt-4 pt-4 border-t border-gray-200">
                    <div className="flex justify-between font-bold text-lg">
                      <span>Total</span>
                      <span>{formatCurrency(selectedOrder.total_price)}</span>
                    </div>
                  </div>
                </div>

                {/* Order Notes */}
                {selectedOrder.notes && (
                  <div>
                    <h3 className="text-lg font-medium text-gray-900 mb-2">Customer Notes</h3>
                    <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                      <p className="text-gray-700">{selectedOrder.notes}</p>
                    </div>
                  </div>
                )}

                {/* Actions */}
                <div className="flex justify-end space-x-3 pt-4 border-t">
                  <Button
                    onClick={() => setSelectedOrder(null)}
                    variant="outline"
                  >
                    Close
                  </Button>
                  <Button
                    onClick={() => {
                      // Mark as ready
                      handleStatusUpdate(selectedOrder.id, 'ready');
                    }}
                    disabled={selectedOrder.status === 'ready' || selectedOrder.status === 'cancelled'}
                  >
                    Mark as Ready
                  </Button>
                </div>
              </div>
            )}
          </Modal>
        </div>
      </div>
    </div>
  );
};

export default RestaurantOrders;===== ./pages/driver/Dashboard.jsx =====
import React, { useState, useEffect } from 'react';
import { deliveryService } from '../../services/api/delivery.js';
import { formatCurrency, formatDate } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Card from '../../components/ui/Card.jsx';

const DriverDashboard = () => {
  const [deliveryRequests, setDeliveryRequests] = useState([]);
  const [deliveryHistory, setDeliveryHistory] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [stats, setStats] = useState({
    totalDeliveries: 0,
    pendingRequests: 0,
    earnings: 0,
    completedToday: 0
  });

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      setLoading(true);
      setError('');
      
      const [requestsRes, historyRes] = await Promise.all([
        deliveryService.getDeliveryRequests(),
        deliveryService.getDeliveryHistory()
      ]);
      
      if (requestsRes.success) {
        setDeliveryRequests(requestsRes.data);
      }
      
      if (historyRes.success) {
        setDeliveryHistory(historyRes.data);
        
        // Calculate stats
        const totalDeliveries = historyRes.data.length;
        const pendingRequests = requestsRes.success ? requestsRes.data.length : 0;
        const earnings = historyRes.data.reduce((sum, delivery) => sum + (delivery.total_price * 0.2), 0); // 20% commission
        const completedToday = historyRes.data.filter(delivery => {
          const deliveryDate = new Date(delivery.completed_at || delivery.assigned_at).toDateString();
          const today = new Date().toDateString();
          return deliveryDate === today;
        }).length;
        
        setStats({
          totalDeliveries,
          pendingRequests,
          earnings,
          completedToday
        });
      }
    } catch (err) {
      setError('An error occurred while loading dashboard data');
      console.error('Error fetching dashboard data:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleAcceptRequest = async (requestId) => {
    try {
      const response = await deliveryService.acceptDeliveryRequest(requestId);
      
      if (response.success) {
        fetchDashboardData(); // Refresh data
      }
    } catch (err) {
      console.error('Error accepting delivery request:', err);
    }
  };

  const handleRejectRequest = async (requestId) => {
    try {
      const response = await deliveryService.rejectDeliveryRequest(requestId);
      
      if (response.success) {
        fetchDashboardData(); // Refresh data
      }
    } catch (err) {
      console.error('Error rejecting delivery request:', err);
    }
  };

  const handleCompleteDelivery = async (orderId) => {
    try {
      const response = await deliveryService.completeDelivery(orderId);
      
      if (response.success) {
        fetchDashboardData(); // Refresh data
      }
    } catch (err) {
      console.error('Error completing delivery:', err);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading dashboard..." />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">Driver Dashboard</h1>
            <p className="text-gray-600">
              Manage your delivery requests and track your earnings
            </p>
          </div>

          {error && (
            <Alert type="error" className="mb-6">
              {error}
              <Button
                onClick={fetchDashboardData}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          )}

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-blue-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM12 8h.01M12 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.pendingRequests}</div>
                    <div className="text-sm text-gray-600">Pending Requests</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-green-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.totalDeliveries}</div>
                    <div className="text-sm text-gray-600">Total Deliveries</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-yellow-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.completedToday}</div>
                    <div className="text-sm text-gray-600">Today's Deliveries</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-purple-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{formatCurrency(stats.earnings)}</div>
                    <div className="text-sm text-gray-600">Total Earnings</div>
                  </div>
                </div>
              </Card.Body>
            </Card>
          </div>

          {/* Delivery Requests */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <Card>
              <Card.Header className="flex justify-between items-center">
                <h2 className="text-lg font-medium text-gray-900">Delivery Requests</h2>
                <Button
                  onClick={fetchDashboardData}
                  variant="outline"
                  size="sm"
                  loading={loading}
                >
                  Refresh
                </Button>
              </Card.Header>
              
              <Card.Body>
                {deliveryRequests.length === 0 ? (
                  <div className="text-center py-8">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM12 8h.01M12 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No delivery requests</h3>
                    <p className="mt-1 text-gray-500">
                      No pending delivery requests at the moment.
                    </p>
                  </div>
                ) : (
                  <div className="space-y-4">
                    {deliveryRequests.map(request => (
                      <div key={request.id} className="border border-gray-200 rounded-lg p-4">
                        <div className="flex justify-between items-start mb-2">
                          <div>
                            <h4 className="font-medium">Order #{request.order_id}</h4>
                            <p className="text-sm text-gray-600">{request.restaurant_name}</p>
                          </div>
                          <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                            Pending
                          </span>
                        </div>
                        
                        <div className="space-y-2 text-sm mb-4">
                          <div className="flex justify-between">
                            <span className="text-gray-600">From:</span>
                            <span>{request.restaurant_location}</span>
                          </div>
                          <div className="flex justify-between">
                            <span className="text-gray-600">To:</span>
                            <span>{request.customer_address}</span>
                          </div>
                          <div className="flex justify-between">
                            <span className="text-gray-600">Amount:</span>
                            <span className="font-medium">{formatCurrency(request.total_price)}</span>
                          </div>
                        </div>
                        
                        <div className="flex space-x-2">
                          <Button
                            onClick={() => handleAcceptRequest(request.id)}
                            variant="success"
                            size="sm"
                            className="flex-1"
                          >
                            Accept
                          </Button>
                          <Button
                            onClick={() => handleRejectRequest(request.id)}
                            variant="outline"
                            size="sm"
                            className="flex-1"
                          >
                            Reject
                          </Button>
                        </div>
                      </div>
                    ))}
                  </div>
                )}
              </Card.Body>
            </Card>

            {/* Recent Deliveries */}
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Recent Deliveries</h2>
              </Card.Header>
              
              <Card.Body>
                {deliveryHistory.length === 0 ? (
                  <div className="text-center py-8">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No delivery history</h3>
                    <p className="mt-1 text-gray-500">
                      Your delivery history will appear here.
                    </p>
                  </div>
                ) : (
                  <div className="space-y-4">
                    {deliveryHistory.slice(0, 5).map(delivery => (
                      <div key={delivery.id} className="border border-gray-200 rounded-lg p-4">
                        <div className="flex justify-between items-start mb-2">
                          <div>
                            <h4 className="font-medium">Order #{delivery.order_id}</h4>
                            <p className="text-sm text-gray-600">{delivery.restaurant_name}</p>
                          </div>
                          <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            Completed
                          </span>
                        </div>
                        
                        <div className="space-y-2 text-sm">
                          <div className="flex justify-between">
                            <span className="text-gray-600">Customer:</span>
                            <span>{delivery.customer_name}</span>
                          </div>
                          <div className="flex justify-between">
                            <span className="text-gray-600">Completed:</span>
                            <span>{formatDate(delivery.completed_at || delivery.assigned_at)}</span>
                          </div>
                          <div className="flex justify-between">
                            <span className="text-gray-600">Earnings:</span>
                            <span className="font-medium">
                              {formatCurrency(delivery.total_price * 0.2)}
                            </span>
                          </div>
                        </div>
                      </div>
                    ))}
                    
                    <div className="text-center">
                      <Button
                        onClick={() => window.location.href = '/driver/deliveries'}
                        variant="outline"
                        size="sm"
                      >
                        View All History
                      </Button>
                    </div>
                  </div>
                )}
              </Card.Body>
            </Card>
          </div>
        </div>
      </div>
    </div>
  );
};

export default DriverDashboard;===== ./pages/driver/Deliveries.jsx =====
import React, { useState, useEffect } from 'react';
import { deliveryService } from '../../services/api/delivery.js';
import DeliveryCard from '../../components/driver/DeliveryCard.jsx';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Input from '../../components/ui/Input.jsx';

const DriverDeliveries = () => {
  const [deliveryRequests, setDeliveryRequests] = useState([]);
  const [deliveryHistory, setDeliveryHistory] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [activeTab, setActiveTab] = useState('requests');
  const [search, setSearch] = useState('');

  useEffect(() => {
    fetchDeliveries();
  }, []);

  const fetchDeliveries = async () => {
    try {
      setLoading(true);
      setError('');
      
      const [requestsRes, historyRes] = await Promise.all([
        deliveryService.getDeliveryRequests(),
        deliveryService.getDeliveryHistory()
      ]);
      
      if (requestsRes.success) {
        setDeliveryRequests(requestsRes.data);
      }
      
      if (historyRes.success) {
        setDeliveryHistory(historyRes.data);
      }
    } catch (err) {
      setError('An error occurred while loading deliveries');
      console.error('Error fetching deliveries:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleAcceptRequest = async (requestId) => {
    try {
      const response = await deliveryService.acceptDeliveryRequest(requestId);
      
      if (response.success) {
        fetchDeliveries(); // Refresh data
      }
    } catch (err) {
      console.error('Error accepting delivery request:', err);
    }
  };

  const handleRejectRequest = async (requestId) => {
    try {
      const response = await deliveryService.rejectDeliveryRequest(requestId);
      
      if (response.success) {
        fetchDeliveries(); // Refresh data
      }
    } catch (err) {
      console.error('Error rejecting delivery request:', err);
    }
  };

  const handleCompleteDelivery = async (orderId) => {
    try {
      const response = await deliveryService.completeDelivery(orderId);
      
      if (response.success) {
        fetchDeliveries(); // Refresh data
      }
    } catch (err) {
      console.error('Error completing delivery:', err);
    }
  };

  const filteredHistory = deliveryHistory.filter(delivery => {
    if (!search) return true;
    const searchTerm = search.toLowerCase();
    return (
      delivery.restaurant_name.toLowerCase().includes(searchTerm) ||
      delivery.customer_name.toLowerCase().includes(searchTerm) ||
      delivery.order_id.toString().includes(searchTerm)
    );
  });

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading deliveries..." />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="flex justify-between items-center mb-8">
            <div>
              <h1 className="text-3xl font-bold text-gray-900">Deliveries</h1>
              <p className="text-gray-600">
                Manage delivery requests and track your delivery history
              </p>
            </div>
            <Button
              onClick={fetchDeliveries}
              loading={loading}
            >
              Refresh
            </Button>
          </div>

          {error && (
            <Alert type="error" className="mb-6">
              {error}
              <Button
                onClick={fetchDeliveries}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          )}

          {/* Tabs */}
          <div className="border-b border-gray-200 mb-6">
            <nav className="-mb-px flex space-x-8">
              <button
                onClick={() => setActiveTab('requests')}
                className={`py-2 px-1 border-b-2 font-medium text-sm ${
                  activeTab === 'requests'
                    ? 'border-blue-500 text-blue-600'
                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                }`}
              >
                Delivery Requests
                {deliveryRequests.length > 0 && (
                  <span className="ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                    {deliveryRequests.length}
                  </span>
                )}
              </button>
              <button
                onClick={() => setActiveTab('history')}
                className={`py-2 px-1 border-b-2 font-medium text-sm ${
                  activeTab === 'history'
                    ? 'border-blue-500 text-blue-600'
                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                }`}
              >
                Delivery History
              </button>
            </nav>
          </div>

          {/* Tab Content */}
          <div className="mt-6">
            {activeTab === 'requests' && (
              <div>
                <div className="mb-6">
                  <h2 className="text-lg font-medium text-gray-900 mb-4">
                    Available Delivery Requests
                  </h2>
                  <p className="text-gray-600">
                    Accept delivery requests to earn money. You'll receive 20% of the order total as commission.
                  </p>
                </div>

                {deliveryRequests.length === 0 ? (
                  <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM12 8h.01M12 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No delivery requests</h3>
                    <p className="mt-1 text-gray-500">
                      No pending delivery requests at the moment. Check back later!
                    </p>
                  </div>
                ) : (
                  <div className="space-y-6">
                    {deliveryRequests.map(request => (
                      <DeliveryCard
                        key={request.id}
                        delivery={request}
                        onAccept={handleAcceptRequest}
                        onReject={handleRejectRequest}
                        onComplete={handleCompleteDelivery}
                      />
                    ))}
                  </div>
                )}
              </div>
            )}

            {activeTab === 'history' && (
              <div>
                <div className="flex flex-col md:flex-row md:items-center justify-between mb-6">
                  <div>
                    <h2 className="text-lg font-medium text-gray-900">Delivery History</h2>
                    <p className="text-gray-600">
                      Track all your completed deliveries and earnings
                    </p>
                  </div>
                  
                  <div className="mt-4 md:mt-0 w-full md:w-auto">
                    <Input
                      placeholder="Search by restaurant, customer, or order ID..."
                      value={search}
                      onChange={(e) => setSearch(e.target.value)}
                      leftIcon={
                        <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                      }
                    />
                  </div>
                </div>

                {deliveryHistory.length === 0 ? (
                  <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No delivery history</h3>
                    <p className="mt-1 text-gray-500">
                      Your delivery history will appear here after you complete deliveries.
                    </p>
                  </div>
                ) : filteredHistory.length === 0 ? (
                  <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No matching deliveries</h3>
                    <p className="mt-1 text-gray-500">
                      No deliveries match your search.
                    </p>
                    <Button
                      onClick={() => setSearch('')}
                      variant="outline"
                      className="mt-4"
                    >
                      Clear Search
                    </Button>
                  </div>
                ) : (
                  <div className="space-y-6">
                    {filteredHistory.map(delivery => (
                      <DeliveryCard
                        key={delivery.id}
                        delivery={delivery}
                        isHistory={true}
                      />
                    ))}
                  </div>
                )}
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

export default DriverDeliveries;===== ./pages/admin/Dashboard.jsx =====
import React, { useState, useEffect } from 'react';
import { adminService } from '../../services/api/admin.js';
import { formatCurrency, formatDate } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Card from '../../components/ui/Card.jsx';

const AdminDashboard = () => {
  const [stats, setStats] = useState(null);
  const [recentOrders, setRecentOrders] = useState([]);
  const [topRestaurants, setTopRestaurants] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await adminService.getStatistics();
      
      if (response.success) {
        setStats(response.data);
        setRecentOrders(response.data.recent_orders || []);
        setTopRestaurants(response.data.top_restaurants || []);
      } else {
        setError('Failed to load dashboard data');
      }
    } catch (err) {
      setError('An error occurred while loading dashboard data');
      console.error('Error fetching dashboard data:', err);
    } finally {
      setLoading(false);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading dashboard..." />
          </div>
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Alert type="error">
              {error}
              <Button
                onClick={fetchDashboardData}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">Admin Dashboard</h1>
            <p className="text-gray-600">
              Overview of platform statistics and performance
            </p>
          </div>

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-gray-900">
                    {stats?.order_stats?.total_orders || 0}
                  </div>
                  <div className="text-sm text-gray-600">Total Orders</div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-green-600">
                    {formatCurrency(stats?.order_stats?.total_revenue || 0)}
                  </div>
                  <div className="text-sm text-gray-600">Total Revenue</div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-blue-600">
                    {stats?.restaurant_stats?.total_restaurants || 0}
                  </div>
                  <div className="text-sm text-gray-600">Restaurants</div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-purple-600">
                    {stats?.user_counts?.reduce((sum, user) => sum + user.count, 0) || 0}
                  </div>
                  <div className="text-sm text-gray-600">Total Users</div>
                </div>
              </Card.Body>
            </Card>
          </div>

          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            {/* Recent Orders */}
            <Card>
              <Card.Header className="flex justify-between items-center">
                <h2 className="text-lg font-medium text-gray-900">Recent Orders</h2>
                <Button
                  onClick={() => window.location.href = '/admin/orders'}
                  variant="outline"
                  size="sm"
                >
                  View All
                </Button>
              </Card.Header>
              
              <Card.Body>
                {recentOrders.length === 0 ? (
                  <div className="text-center py-8">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No recent orders</h3>
                    <p className="mt-1 text-gray-500">
                      No orders have been placed yet.
                    </p>
                  </div>
                ) : (
                  <div className="overflow-x-auto">
                    <table className="min-w-full divide-y divide-gray-200">
                      <thead>
                        <tr>
                          <th className="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Order ID
                          </th>
                          <th className="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Customer
                          </th>
                          <th className="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Amount
                          </th>
                          <th className="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Status
                          </th>
                        </tr>
                      </thead>
                      <tbody className="divide-y divide-gray-200">
                        {recentOrders.map(order => (
                          <tr key={order.id}>
                            <td className="px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-900">
                              #{order.id}
                            </td>
                            <td className="px-3 py-3 whitespace-nowrap text-sm text-gray-500">
                              {order.customer_name}
                            </td>
                            <td className="px-3 py-3 whitespace-nowrap text-sm text-gray-900">
                              {formatCurrency(order.total_price)}
                            </td>
                            <td className="px-3 py-3 whitespace-nowrap">
                              <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${
                                order.status === 'delivered' ? 'bg-green-100 text-green-800' :
                                order.status === 'cancelled' ? 'bg-red-100 text-red-800' :
                                'bg-yellow-100 text-yellow-800'
                              }`}>
                                {order.status}
                              </span>
                            </td>
                          </tr>
                        ))}
                      </tbody>
                    </table>
                  </div>
                )}
              </Card.Body>
            </Card>

            {/* Top Restaurants */}
            <Card>
              <Card.Header className="flex justify-between items-center">
                <h2 className="text-lg font-medium text-gray-900">Top Restaurants</h2>
                <Button
                  onClick={() => window.location.href = '/admin/restaurants'}
                  variant="outline"
                  size="sm"
                >
                  View All
                </Button>
              </Card.Header>
              
              <Card.Body>
                {topRestaurants.length === 0 ? (
                  <div className="text-center py-8">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurants</h3>
                    <p className="mt-1 text-gray-500">
                      No restaurants registered yet.
                    </p>
                  </div>
                ) : (
                  <div className="space-y-4">
                    {topRestaurants.map((restaurant, index) => (
                      <div key={index} className="flex items-center justify-between py-3 border-b border-gray-200 last:border-0">
                        <div className="flex items-center">
                          <div className="flex-shrink-0 w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center text-gray-600 font-bold">
                            {index + 1}
                          </div>
                          <div className="ml-4">
                            <div className="font-medium">{restaurant.name}</div>
                            <div className="text-sm text-gray-500">
                              {restaurant.order_count} orders
                            </div>
                          </div>
                        </div>
                        <div className="text-right">
                          <div className="font-medium">{formatCurrency(restaurant.revenue || 0)}</div>
                          <div className="text-sm text-gray-500">
                            {restaurant.avg_rating ? `${restaurant.avg_rating.toFixed(1)} ★` : 'No rating'}
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                )}
              </Card.Body>
            </Card>
          </div>

          {/* User Statistics */}
          <Card className="mt-8">
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">User Statistics</h2>
            </Card.Header>
            
            <Card.Body>
              {stats?.user_counts ? (
                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                  {stats.user_counts.map(userCount => (
                    <div key={userCount.role} className="text-center">
                      <div className="text-2xl font-bold">{userCount.count}</div>
                      <div className="text-sm text-gray-600 capitalize">{userCount.role}s</div>
                    </div>
                  ))}
                </div>
              ) : (
                <div className="text-center py-8">
                  <p className="text-gray-500">No user statistics available</p>
                </div>
              )}
            </Card.Body>
          </Card>

          {/* Order Status Statistics */}
          <Card className="mt-8">
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">Order Status Distribution</h2>
            </Card.Header>
            
            <Card.Body>
              {stats?.order_status_counts ? (
                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                  {stats.order_status_counts.map(statusCount => (
                    <div key={statusCount.status} className="text-center">
                      <div className="text-2xl font-bold">{statusCount.count}</div>
                      <div className="text-sm text-gray-600 capitalize">{statusCount.status}</div>
                    </div>
                  ))}
                </div>
              ) : (
                <div className="text-center py-8">
                  <p className="text-gray-500">No order status statistics available</p>
                </div>
              )}
            </Card.Body>
          </Card>
        </div>
      </div>
    </div>
  );
};

export default AdminDashboard;===== ./pages/admin/Users.jsx =====
import React, { useState, useEffect } from 'react';
import { adminService } from '../../services/api/admin.js';
import { formatDate } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Modal from '../../components/ui/Modal.jsx';
import Input from '../../components/ui/Input.jsx';
import Card from '../../components/ui/Card.jsx';

const AdminUsers = () => {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [search, setSearch] = useState('');
  const [roleFilter, setRoleFilter] = useState('');
  const [deleteConfirm, setDeleteConfirm] = useState(null);
  const [roleUpdate, setRoleUpdate] = useState(null);
  const [newRole, setNewRole] = useState('');

  useEffect(() => {
    fetchUsers();
  }, []);

  const fetchUsers = async () => {
    try {
      setLoading(true);
      setError('');
      
      const params = {};
      if (roleFilter) params.role = roleFilter;
      
      const response = await adminService.getAllUsers(params);
      
      if (response.success) {
        setUsers(response.data);
      } else {
        setError('Failed to load users');
      }
    } catch (err) {
      setError('An error occurred while loading users');
      console.error('Error fetching users:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleDeleteUser = async (userId) => {
    try {
      const response = await adminService.deleteUser(userId);
      
      if (response.success) {
        setUsers(prev => prev.filter(user => user.id !== userId));
        setDeleteConfirm(null);
      }
    } catch (err) {
      console.error('Error deleting user:', err);
    }
  };

  const handleUpdateRole = async (userId) => {
    if (!newRole) return;
    
    try {
      const response = await adminService.updateUserRole(userId, { role: newRole });
      
      if (response.success) {
        setUsers(prev => prev.map(user =>
          user.id === userId ? { ...user, role: newRole } : user
        ));
        setRoleUpdate(null);
        setNewRole('');
      }
    } catch (err) {
      console.error('Error updating user role:', err);
    }
  };

  const filteredUsers = users.filter(user => {
    if (search && !user.name.toLowerCase().includes(search.toLowerCase()) && 
        !user.email.toLowerCase().includes(search.toLowerCase())) {
      return false;
    }
    return true;
  });

  const getRoleColor = (role) => {
    const colors = {
      admin: 'bg-purple-100 text-purple-800',
      restaurant: 'bg-blue-100 text-blue-800',
      driver: 'bg-green-100 text-green-800',
      customer: 'bg-gray-100 text-gray-800'
    };
    return colors[role] || 'bg-gray-100 text-gray-800';
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading users..." />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">User Management</h1>
            <p className="text-gray-600">
              Manage all users and their roles on the platform
            </p>
          </div>

          {error && (
            <Alert type="error" className="mb-6">
              {error}
              <Button
                onClick={fetchUsers}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          )}

          {/* Filters */}
          <Card className="mb-8">
            <Card.Body>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <Input
                    placeholder="Search by name or email..."
                    value={search}
                    onChange={(e) => setSearch(e.target.value)}
                    leftIcon={
                      <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                      </svg>
                    }
                  />
                </div>
                
                <div>
                  <select
                    value={roleFilter}
                    onChange={(e) => setRoleFilter(e.target.value)}
                    className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                  >
                    <option value="">All Roles</option>
                    <option value="admin">Admin</option>
                    <option value="restaurant">Restaurant</option>
                    <option value="driver">Driver</option>
                    <option value="customer">Customer</option>
                  </select>
                </div>
                
                <div className="flex space-x-2">
                  <Button
                    onClick={fetchUsers}
                    loading={loading}
                    className="flex-1"
                  >
                    Refresh
                  </Button>
                  <Button
                    onClick={() => {
                      setSearch('');
                      setRoleFilter('');
                    }}
                    variant="outline"
                    className="flex-1"
                    disabled={!search && !roleFilter}
                  >
                    Clear Filters
                  </Button>
                </div>
              </div>
            </Card.Body>
          </Card>

          {/* Users Table */}
          <Card>
            <Card.Header className="flex justify-between items-center">
              <h2 className="text-lg font-medium text-gray-900">All Users</h2>
              <span className="text-sm text-gray-600">
                {filteredUsers.length} users found
              </span>
            </Card.Header>
            
            <Card.Body>
              {filteredUsers.length === 0 ? (
                <div className="text-center py-12">
                  <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.67 3.623a10.953 10.953 0 01-.707.785 9.958 9.958 0 01-12.682 0 10.953 10.953 0 01-.707-.785" />
                  </svg>
                  <h3 className="mt-2 text-lg font-medium text-gray-900">No users found</h3>
                  <p className="mt-1 text-gray-500">
                    {users.length === 0 
                      ? "No users registered yet." 
                      : "No users match your filters."}
                  </p>
                </div>
              ) : (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead>
                      <tr>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          User
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Email
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Role
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Joined
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-gray-200">
                      {filteredUsers.map(user => (
                        <tr key={user.id} className="hover:bg-gray-50">
                          <td className="px-4 py-4 whitespace-nowrap">
                            <div className="flex items-center">
                              <div className="h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center">
                                <span className="font-medium text-gray-600">
                                  {user.name.charAt(0).toUpperCase()}
                                </span>
                              </div>
                              <div className="ml-4">
                                <div className="font-medium text-gray-900">{user.name}</div>
                                {user.phone && (
                                  <div className="text-sm text-gray-500">{user.phone}</div>
                                )}
                              </div>
                            </div>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {user.email}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getRoleColor(user.role)}`}>
                              {user.role}
                            </span>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {formatDate(user.created_at)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium">
                            <div className="flex space-x-2">
                              <button
                                onClick={() => {
                                  setRoleUpdate(user);
                                  setNewRole(user.role);
                                }}
                                className="text-blue-600 hover:text-blue-900"
                              >
                                Change Role
                              </button>
                              <button
                                onClick={() => setDeleteConfirm(user)}
                                className="text-red-600 hover:text-red-900"
                              >
                                Delete
                              </button>
                            </div>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              )}
            </Card.Body>
          </Card>

          {/* Delete Confirmation Modal */}
          <Modal
            isOpen={!!deleteConfirm}
            onClose={() => setDeleteConfirm(null)}
            title="Delete User"
            size="sm"
          >
            {deleteConfirm && (
              <div>
                <p className="text-gray-600 mb-6">
                  Are you sure you want to delete user "{deleteConfirm.name}"? This action cannot be undone.
                </p>
                <div className="flex justify-end space-x-3">
                  <Button
                    onClick={() => setDeleteConfirm(null)}
                    variant="outline"
                  >
                    Cancel
                  </Button>
                  <Button
                    onClick={() => handleDeleteUser(deleteConfirm.id)}
                    variant="danger"
                  >
                    Delete
                  </Button>
                </div>
              </div>
            )}
          </Modal>

          {/* Role Update Modal */}
          <Modal
            isOpen={!!roleUpdate}
            onClose={() => {
              setRoleUpdate(null);
              setNewRole('');
            }}
            title="Change User Role"
            size="sm"
          >
            {roleUpdate && (
              <div>
                <p className="text-gray-600 mb-4">
                  Change role for user: <span className="font-medium">{roleUpdate.name}</span>
                </p>
                
                <div className="mb-6">
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Select New Role
                  </label>
                  <div className="grid grid-cols-2 gap-3">
                    {['admin', 'restaurant', 'driver', 'customer'].map(role => (
                      <div key={role} className="relative">
                        <input
                          id={`role-${role}`}
                          type="radio"
                          value={role}
                          checked={newRole === role}
                          onChange={(e) => setNewRole(e.target.value)}
                          className="sr-only"
                        />
                        <label
                          htmlFor={`role-${role}`}
                          className={`
                            flex flex-col items-center justify-center p-3 border rounded-lg cursor-pointer
                            ${newRole === role 
                              ? 'border-blue-500 bg-blue-50' 
                              : 'border-gray-300 hover:bg-gray-50'
                            }
                          `}
                        >
                          <span className="text-sm font-medium capitalize">
                            {role}
                          </span>
                        </label>
                      </div>
                    ))}
                  </div>
                </div>
                
                <div className="flex justify-end space-x-3">
                  <Button
                    onClick={() => {
                      setRoleUpdate(null);
                      setNewRole('');
                    }}
                    variant="outline"
                  >
                    Cancel
                  </Button>
                  <Button
                    onClick={() => handleUpdateRole(roleUpdate.id)}
                    disabled={!newRole || newRole === roleUpdate.role}
                  >
                    Update Role
                  </Button>
                </div>
              </div>
            )}
          </Modal>
        </div>
      </div>
    </div>
  );
};

export default AdminUsers;===== ./pages/shared/NotFound.jsx =====
import React from 'react';
import { Link } from 'react-router-dom';
import Button from '../../components/ui/Button.jsx';

const NotFound = () => {
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="text-center">
        <h1 className="text-9xl font-bold text-gray-900">404</h1>
        <h2 className="mt-4 text-3xl font-bold text-gray-900">Page not found</h2>
        <p className="mt-2 text-lg text-gray-600">
          Sorry, we couldn't find the page you're looking for.
        </p>
        <div className="mt-8">
          <Link to="/">
            <Button size="lg">
              Go back home
            </Button>
          </Link>
        </div>
      </div>
    </div>
  );
};

export default NotFound;===== ./pages/shared/Unauthorized.jsx =====
import React from 'react';
import { Link } from 'react-router-dom';
import Button from '../../components/ui/Button.jsx';

const Unauthorized = () => {
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="text-center">
        <div className="inline-flex items-center justify-center h-16 w-16 rounded-full bg-red-100 text-red-600 mb-4">
          <svg className="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
          </svg>
        </div>
        <h1 className="text-4xl font-bold text-gray-900">Unauthorized</h1>
        <h2 className="mt-4 text-xl font-semibold text-gray-700">Access Denied</h2>
        <p className="mt-2 text-lg text-gray-600">
          You don't have permission to access this page.
        </p>
        <div className="mt-8 space-x-4">
          <Link to="/">
            <Button variant="outline">
              Go Home
            </Button>
          </Link>
          <Button
            onClick={() => window.history.back()}
          >
            Go Back
          </Button>
        </div>
      </div>
    </div>
  );
};

export default Unauthorized;===== ./hooks/useAuth.js =====
import { useContext } from 'react';
import { AuthContext } from '../context/AuthContext.jsx';

export const useAuth = () => {
  const context = useContext(AuthContext);
  
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  
  return context;
};===== ./hooks/useCart.js =====
import { useContext } from 'react';
import { CartContext } from '../context/CartContext.jsx';

export const useCart = () => {
  const context = useContext(CartContext);
  
  if (!context) {
    throw new Error('useCart must be used within a CartProvider');
  }
  
  return context;
};===== ./services/api/auth.js =====
import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const authService = {
  register: async (userData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.AUTH.REGISTER, userData);
    return response.data;
  },

  login: async (credentials) => {
    const response = await axiosInstance.post(API_ENDPOINTS.AUTH.LOGIN, credentials);
    const payload = response.data || {};
    // support responses like { token, user } or { data: { token, user } }
    const token = payload.token || payload.data?.token;
    const user = payload.user || payload.data?.user || payload.data;
    if (token) {
      localStorage.setItem('token', token.startsWith('Bearer ') ? token : `Bearer ${token}`);
    }
    if (user) {
      localStorage.setItem('user', JSON.stringify(user));
    }
    return payload;
  },

  getMe: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.AUTH.ME);
    return response.data;
  },

  logout: () => {
    localStorage.removeItem('token');
    localStorage.removeItem('user');
  }
};===== ./services/api/restaurants.js =====
import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const restaurantService = {
  getAllRestaurants: async (params = {}) => {
    const response = await axiosInstance.get(API_ENDPOINTS.RESTAURANTS.BASE, { params });
    return response.data;
  },

  getRestaurant: async (id) => {
    const response = await axiosInstance.get(`${API_ENDPOINTS.RESTAURANTS.BASE}/${id}`);
    return response.data;
  },

  createRestaurant: async (restaurantData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.RESTAURANTS.BASE, restaurantData);
    return response.data;
  },

  updateRestaurant: async (id, restaurantData) => {
    const response = await axiosInstance.put(`${API_ENDPOINTS.RESTAURANTS.BASE}/${id}`, restaurantData);
    return response.data;
  },

  getMyRestaurant: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.RESTAURANTS.MY_RESTAURANT);
    return response.data;
  }
};===== ./services/api/menu.js =====
import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const menuService = {
  getMenuItems: async (restaurantId) => {
    const response = await axiosInstance.get(
      API_ENDPOINTS.MENU.GET.replace(':restaurantId', restaurantId)
    );
    return response.data;
  },

  createMenuItem: async (menuItemData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.MENU.BASE, menuItemData);
    return response.data;
  },

  updateMenuItem: async (id, menuItemData) => {
    const response = await axiosInstance.put(`${API_ENDPOINTS.MENU.BASE}/${id}`, menuItemData);
    return response.data;
  },

  deleteMenuItem: async (id) => {
    const response = await axiosInstance.delete(`${API_ENDPOINTS.MENU.BASE}/${id}`);
    return response.data;
  }
};===== ./services/api/orders.js =====
import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const orderService = {
  createOrder: async (orderData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.ORDERS.BASE, orderData);
    return response.data;
  },

  getMyOrders: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.ORDERS.MY_ORDERS);
    return response.data;
  },

  getOrder: async (id) => {
    const response = await axiosInstance.get(`${API_ENDPOINTS.ORDERS.BASE}/${id}`);
    return response.data;
  },

  updateOrderStatus: async (id, statusData) => {
    const response = await axiosInstance.put(
      API_ENDPOINTS.ORDERS.UPDATE_STATUS.replace(':id', id),
      statusData
    );
    return response.data;
  }
};===== ./services/api/delivery.js =====
import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const deliveryService = {
  getDeliveryRequests: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.DELIVERY.REQUESTS);
    return response.data;
  },

  acceptDeliveryRequest: async (id) => {
    const response = await axiosInstance.put(
      API_ENDPOINTS.DELIVERY.ACCEPT_REQUEST.replace(':id', id)
    );
    return response.data;
  },

  rejectDeliveryRequest: async (id) => {
    const response = await axiosInstance.put(
      API_ENDPOINTS.DELIVERY.REJECT_REQUEST.replace(':id', id)
    );
    return response.data;
  },

  completeDelivery: async (id) => {
    const response = await axiosInstance.put(
      API_ENDPOINTS.DELIVERY.COMPLETE_DELIVERY.replace(':id', id)
    );
    return response.data;
  },

  getDeliveryHistory: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.DELIVERY.HISTORY);
    return response.data;
  }
};===== ./services/api/admin.js =====
import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const adminService = {
  getAllUsers: async (params = {}) => {
    const response = await axiosInstance.get(API_ENDPOINTS.ADMIN.USERS, { params });
    return response.data;
  },

  deleteUser: async (id) => {
    const response = await axiosInstance.delete(`${API_ENDPOINTS.ADMIN.USERS}/${id}`);
    return response.data;
  },

  updateUserRole: async (id, roleData) => {
    const response = await axiosInstance.put(
      `${API_ENDPOINTS.ADMIN.USERS}/${id}/role`,
      roleData
    );
    return response.data;
  },

  getStatistics: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.ADMIN.STATISTICS);
    return response.data;
  },

  generateReport: async (reportData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.ADMIN.REPORTS, reportData);
    return response.data;
  },

  getReports: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.ADMIN.REPORTS);
    return response.data;
  },

  getAllDeliveryRequests: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.ADMIN.DELIVERY_REQUESTS);
    return response.data;
  }
};===== ./services/api/axiosConfig.js =====
import axios from 'axios';

const axiosInstance = axios.create({
  baseURL: import.meta.env.VITE_API_URL,
  headers: {
    'Content-Type': 'application/json'
  }
});

// Request interceptor to add auth token
axiosInstance.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// Response interceptor to handle errors
axiosInstance.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem('token');
      localStorage.removeItem('user');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default axiosInstance;===== ./services/storage.js =====
export const storage = {
  setItem: (key, value) => {
    try {
      localStorage.setItem(key, JSON.stringify(value));
    } catch (error) {
      console.error('Error saving to localStorage:', error);
    }
  },

  getItem: (key) => {
    try {
      const item = localStorage.getItem(key);
      return item ? JSON.parse(item) : null;
    } catch (error) {
      console.error('Error reading from localStorage:', error);
      return null;
    }
  },

  removeItem: (key) => {
    localStorage.removeItem(key);
  },

  clear: () => {
    localStorage.clear();
  }
};===== ./context/AuthContext.jsx =====
import React, { createContext, useState, useContext, useEffect } from 'react';
import { authService } from '../services/api/auth.js';
import { storage } from '../services/storage.js';

export const AuthContext = createContext();

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    checkUser();
  }, []);

  const checkUser = async () => {
  const token = storage.getItem('token');
  const savedUser = storage.getItem('user');
  
  if (token && savedUser) {
    try {
      const response = await authService.getMe();
      if (response.success) {
        setUser(response.user);
        storage.setItem('user', response.user);
      } else {
        // Token invalid
        logout();
      }
    } catch (err) {
      console.error('Auth check failed:', err);
      logout(); // Auto-logout on 401
    }
  }
  setLoading(false);
};

  const login = async (email, password) => {
    try {
      setError(null);
      const response = await authService.login({ email, password });
      
      if (response.success) {
        setUser(response.user);
        storage.setItem('token', response.token);
        storage.setItem('user', response.user);
        return { success: true };
      } else {
        setError(response.message);
        return { success: false, message: response.message };
      }
    } catch (err) {
      const message = err.response?.data?.message || 'Login failed';
      setError(message);
      return { success: false, message };
    }
  };

  const register = async (userData) => {
    try {
      setError(null);
      const response = await authService.register(userData);
      
      if (response.success) {
        setUser(response.user);
        storage.setItem('token', response.token);
        storage.setItem('user', response.user);
        return { success: true };
      } else {
        setError(response.message);
        return { success: false, message: response.message };
      }
    } catch (err) {
      const message = err.response?.data?.message || 'Registration failed';
      setError(message);
      return { success: false, message };
    }
  };

  const logout = () => {
    authService.logout();
    setUser(null);
    setError(null);
  };

  const updateUser = (updatedUser) => {
    setUser(updatedUser);
    storage.setItem('user', updatedUser);
  };

  const value = {
    user,
    loading,
    error,
    login,
    register,
    logout,
    updateUser,
    isAuthenticated: !!user
  };

  return (
    <AuthContext.Provider value={value}>
      {children}
    </AuthContext.Provider>
  );
};

===== ./context/CartContext.jsx =====
import React, { createContext, useState, useContext, useEffect } from 'react';
import { storage } from '../services/storage.js';

const CartContext = createContext();

export const useCart = () => {
  const context = useContext(CartContext);
  if (!context) {
    throw new Error('useCart must be used within a CartProvider');
  }
  return context;
};

export const CartProvider = ({ children }) => {
  const [cart, setCart] = useState([]);
  const [restaurant, setRestaurant] = useState(null);

  useEffect(() => {
    const savedCart = storage.getItem('cart');
    const savedRestaurant = storage.getItem('cartRestaurant');
    
    if (savedCart) {
      setCart(savedCart);
    }
    if (savedRestaurant) {
      setRestaurant(savedRestaurant);
    }
  }, []);

  const saveToStorage = (cartItems, restaurantData) => {
    storage.setItem('cart', cartItems);
    if (restaurantData) {
      storage.setItem('cartRestaurant', restaurantData);
    }
  };

  const addToCart = (item, restaurantData) => {
    setCart(prevCart => {
      const existingItemIndex = prevCart.findIndex(
        cartItem => cartItem.id === item.id
      );

      let newCart;
      if (existingItemIndex >= 0) {
        newCart = [...prevCart];
        newCart[existingItemIndex].quantity += item.quantity;
      } else {
        newCart = [...prevCart, item];
      }

      saveToStorage(newCart, restaurantData);
      setRestaurant(restaurantData);
      return newCart;
    });
  };

  const updateQuantity = (itemId, quantity) => {
    if (quantity <= 0) {
      removeFromCart(itemId);
      return;
    }

    setCart(prevCart => {
      const newCart = prevCart.map(item =>
        item.id === itemId ? { ...item, quantity } : item
      );
      saveToStorage(newCart, restaurant);
      return newCart;
    });
  };

  const removeFromCart = (itemId) => {
    setCart(prevCart => {
      const newCart = prevCart.filter(item => item.id !== itemId);
      saveToStorage(newCart, restaurant);
      
      if (newCart.length === 0) {
        setRestaurant(null);
        storage.removeItem('cartRestaurant');
      }
      
      return newCart;
    });
  };

  const clearCart = () => {
    setCart([]);
    setRestaurant(null);
    storage.removeItem('cart');
    storage.removeItem('cartRestaurant');
  };

  const getCartTotal = () => {
    return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
  };

  const getItemCount = () => {
    return cart.reduce((count, item) => count + item.quantity, 0);
  };

  const isSameRestaurant = (restaurantId) => {
    return restaurant && restaurant.id === restaurantId;
  };

  const value = {
    cart,
    restaurant,
    addToCart,
    updateQuantity,
    removeFromCart,
    clearCart,
    getCartTotal,
    getItemCount,
    isSameRestaurant
  };

  return (
    <CartContext.Provider value={value}>
      {children}
    </CartContext.Provider>
  );
};

export { CartContext };===== ./utils/constants.js =====
export const USER_ROLES = {
  CUSTOMER: 'customer',
  RESTAURANT: 'restaurant',
  DRIVER: 'driver',
  ADMIN: 'admin'
};

export const ORDER_STATUS = {
  PENDING: 'pending',
  ACCEPTED: 'accepted',
  PREPARING: 'preparing',
  READY: 'ready',
  ON_THE_WAY: 'on_the_way',
  DELIVERED: 'delivered',
  CANCELLED: 'cancelled'
};

export const ORDER_TYPE = {
  DELIVERY: 'delivery',
  PICKUP: 'pickup'
};

export const PAYMENT_METHODS = {
  CASH: 'cash',
  CARD: 'card',
  ONLINE: 'online'
};

export const API_ENDPOINTS = {
  AUTH: {
    REGISTER: '/auth/register',
    LOGIN: '/auth/login',
    ME: '/auth/me'
  },
  RESTAURANTS: {
    BASE: '/restaurants',
    MY_RESTAURANT: '/restaurants/owner/my-restaurant'
  },
  MENU: {
    GET: '/menu/restaurants/:restaurantId/menu',
    BASE: '/menu'
  },
  ORDERS: {
    BASE: '/orders',
    MY_ORDERS: '/orders/my-orders',
    UPDATE_STATUS: '/orders/:id/status'
  },
  REVIEWS: {
    BASE: '/reviews',
    RESTAURANT_REVIEWS: '/reviews/restaurants/:restaurantId/reviews',
    MY_REVIEWS: '/reviews/my-reviews'
  },
  DELIVERY: {
    REQUESTS: '/delivery/requests',
    ACCEPT_REQUEST: '/delivery/requests/:id/accept',
    REJECT_REQUEST: '/delivery/requests/:id/reject',
    COMPLETE_DELIVERY: '/delivery/orders/:id/complete',
    HISTORY: '/delivery/history'
  },
  ADMIN: {
    USERS: '/admin/users',
    STATISTICS: '/admin/statistics',
    REPORTS: '/admin/reports',
    DELIVERY_REQUESTS: '/admin/delivery-requests'
  }
};===== ./utils/helpers.js =====
export const formatCurrency = (amount) => {
  return new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD'
  }).format(amount);
};

export const formatDate = (dateString) => {
  const date = new Date(dateString);
  return new Intl.DateTimeFormat('en-US', {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
  }).format(date);
};

export const getStatusColor = (status) => {
  const colors = {
    pending: 'bg-yellow-100 text-yellow-800',
    accepted: 'bg-blue-100 text-blue-800',
    preparing: 'bg-purple-100 text-purple-800',
    ready: 'bg-green-100 text-green-800',
    on_the_way: 'bg-indigo-100 text-indigo-800',
    delivered: 'bg-green-100 text-green-800',
    cancelled: 'bg-red-100 text-red-800'
  };
  return colors[status] || 'bg-gray-100 text-gray-800';
};

export const getStatusText = (status) => {
  const texts = {
    pending: 'Pending',
    accepted: 'Accepted',
    preparing: 'Preparing',
    ready: 'Ready',
    on_the_way: 'On the way',
    delivered: 'Delivered',
    cancelled: 'Cancelled'
  };
  return texts[status] || status;
};

export const getRatingStars = (rating) => {
  const stars = [];
  for (let i = 1; i <= 5; i++) {
    stars.push({
      id: i,
      filled: i <= rating,
      className: i <= rating ? 'text-yellow-400' : 'text-gray-300'
    });
  }
  return stars;
};===== ./router/AppRouter.jsx =====
import React from 'react';
import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';
import { useAuth } from '../hooks/useAuth.js';
import { USER_ROLES } from '../utils/constants.js';
import Layout from '../components/layout/Layout.jsx';
import PrivateRoute from './PrivateRoute.jsx';
import RoleRoute from './RoleRoute.jsx';

// Auth Pages
import Login from '../pages/auth/Login.jsx';
import Register from '../pages/auth/Register.jsx';

// Customer Pages
import Home from '../pages/customer/Home.jsx';
import RestaurantList from '../pages/customer/RestaurantList.jsx';
import RestaurantDetail from '../pages/customer/RestaurantDetail.jsx';
import Cart from '../pages/customer/Cart.jsx';
import Checkout from '../pages/customer/Checkout.jsx';
import Orders from '../pages/customer/Orders.jsx';
import Profile from '../pages/customer/Profile.jsx';

// Restaurant Pages
import RestaurantDashboard from '../pages/restaurant/Dashboard.jsx';
import RestaurantMenu from '../pages/restaurant/Menu.jsx';
import RestaurantOrders from '../pages/restaurant/RestaurantOrders.jsx';

// Driver Pages
import DriverDashboard from '../pages/driver/Dashboard.jsx';
import DriverDeliveries from '../pages/driver/Deliveries.jsx';

// Admin Pages
import AdminDashboard from '../pages/admin/Dashboard.jsx';
import AdminUsers from '../pages/admin/Users.jsx';

// Shared Pages
import NotFound from '../pages/shared/NotFound.jsx';
import Unauthorized from '../pages/shared/Unauthorized.jsx';

const AppRouter = () => {
  const { user } = useAuth();

  return (
    <BrowserRouter>
      <Routes>
        {/* Public Routes */}
        <Route path="/login" element={<Login />} />
        <Route path="/register" element={<Register />} />
        
        {/* Layout Routes */}
        <Route path="/" element={<Layout />}>
          {/* Public Routes */}
          <Route index element={<Home />} />
          <Route path="restaurants" element={<RestaurantList />} />
          <Route path="restaurants/:id" element={<RestaurantDetail />} />
          <Route path="unauthorized" element={<Unauthorized />} />
          
          {/* Protected Customer Routes */}
          <Route path="cart" element={
            <PrivateRoute>
              <Cart />
            </PrivateRoute>
          } />
          <Route path="checkout" element={
            <PrivateRoute>
              <RoleRoute allowedRoles={[USER_ROLES.CUSTOMER]}>
                <Checkout />
              </RoleRoute>
            </PrivateRoute>
          } />
          <Route path="orders" element={
            <PrivateRoute>
              <RoleRoute allowedRoles={[USER_ROLES.CUSTOMER]}>
                <Orders />
              </RoleRoute>
            </PrivateRoute>
          } />
          <Route path="orders/:id" element={
            <PrivateRoute>
              <RoleRoute allowedRoles={[USER_ROLES.CUSTOMER]}>
                {/* Order Detail Page - to be implemented */}
                <div>Order Detail Page</div>
              </RoleRoute>
            </PrivateRoute>
          } />
          <Route path="profile" element={
            <PrivateRoute>
              <Profile />
            </PrivateRoute>
          } />
          
          {/* Protected Restaurant Routes */}
          <Route path="restaurant">
            <Route path="dashboard" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.RESTAURANT]}>
                  <RestaurantDashboard />
                </RoleRoute>
              </PrivateRoute>
            } />
            <Route path="menu" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.RESTAURANT]}>
                  <RestaurantMenu />
                </RoleRoute>
              </PrivateRoute>
            } />
            <Route path="orders" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.RESTAURANT]}>
                  <RestaurantOrders />
                </RoleRoute>
              </PrivateRoute>
            } />
          </Route>
          
          {/* Protected Driver Routes */}
          <Route path="driver">
            <Route path="dashboard" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.DRIVER]}>
                  <DriverDashboard />
                </RoleRoute>
              </PrivateRoute>
            } />
            <Route path="deliveries" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.DRIVER]}>
                  <DriverDeliveries />
                </RoleRoute>
              </PrivateRoute>
            } />
          </Route>
          
          {/* Protected Admin Routes */}
          <Route path="admin">
            <Route path="dashboard" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.ADMIN]}>
                  <AdminDashboard />
                </RoleRoute>
              </PrivateRoute>
            } />
            <Route path="users" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.ADMIN]}>
                  <AdminUsers />
                </RoleRoute>
              </PrivateRoute>
            } />
          </Route>
          
          {/* Catch-all route */}
          <Route path="*" element={<NotFound />} />
        </Route>
      </Routes>
    </BrowserRouter>
  );
};

export default AppRouter;===== ./router/PrivateRoute.jsx =====
import React from 'react';
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../hooks/useAuth.js';
import Loader from '../components/ui/Loader.jsx';

const PrivateRoute = ({ children }) => {
  const { user, loading } = useAuth();
  const location = useLocation();

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <Loader size="lg" text="Loading..." />
      </div>
    );
  }

  if (!user) {
    return <Navigate to="/login" state={{ from: location }} replace />;
  }

  return children;
};

export default PrivateRoute;===== ./router/RoleRoute.jsx =====
import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../hooks/useAuth.js';
import PrivateRoute from './PrivateRoute.jsx';

const RoleRoute = ({ children, allowedRoles }) => {
  const { user } = useAuth();

  if (!allowedRoles.includes(user?.role)) {
    return <Navigate to="/unauthorized" replace />;
  }

  return children;
};

export default RoleRoute;===== ./all_files.txt =====

===== ./App.jsx =====

import React from 'react';
import { AuthProvider } from './context/AuthContext.jsx';
import { CartProvider } from './context/CartContext.jsx';
import AppRouter from './router/AppRouter.jsx';

function App() {
  return (
    <AuthProvider>
      <CartProvider>
        <AppRouter />
      </CartProvider>
    </AuthProvider>
  );
}

export default App;
===== ./assets/react.svg =====

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
===== ./assets/images/logo.png =====


===== ./assets/images/restaurant-placeholder.jpg =====


===== ./assets/images/food-placeholder.jpg =====


===== ./assets/images/avatar.png =====


===== ./assets/styles/globals.css =====


===== ./index.css =====

@import "tailwindcss";

@layer base {
  body {
    background-color: #f9fafb; /* This is the equivalent of bg-gray-50 */
  }
}

@layer components {
  /* We'll define our custom component classes here, but without using @apply */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem 1rem;
    border: 1px solid transparent;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    font-weight: 500;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    outline: 2px solid transparent;
    outline-offset: 2px;
  }

  .btn:focus {
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5); /* focus:ring-blue-500 */
  }

  .btn-primary {
    background-color: #2563eb; /* bg-blue-600 */
    color: white;
  }

  .btn-primary:hover {
    background-color: #1d4ed8; /* hover:bg-blue-700 */
  }

  .btn-secondary {
    background-color: #e5e7eb; /* bg-gray-200 */
    color: #111827; /* text-gray-900 */
  }

  .btn-secondary:hover {
    background-color: #d1d5db; /* hover:bg-gray-300 */
  }

  .btn-secondary:focus {
    box-shadow: 0 0 0 2px rgba(107, 114, 128, 0.5); /* focus:ring-gray-500 */
  }

  .input {
    display: block;
    width: 100%;
    border-radius: 0.375rem;
    border: 1px solid #d1d5db; /* border-gray-300 */
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    font-size: 0.875rem;
  }

  .input:focus {
    border-color: #3b82f6; /* focus:border-blue-500 */
    outline: none;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); /* focus:ring-blue-500 */
  }
}
===== ./main.jsx =====

import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App.jsx';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
===== ./components/layout/Header.jsx =====

import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth.js';
import { useCart } from '../../hooks/useCart.js';
import { USER_ROLES } from '../../utils/constants.js';
import logo from '../../assets/images/logo.png';

const Header = () => {
  const { user, logout, isAuthenticated } = useAuth();
  const { getItemCount } = useCart();
  const navigate = useNavigate();
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isProfileMenuOpen, setIsProfileMenuOpen] = useState(false);

  const handleLogout = () => {
    logout();
    navigate('/login');
  };

  const getDashboardLink = () => {
    if (!user) return '/';
    switch (user.role) {
      case USER_ROLES.RESTAURANT:
        return '/restaurant/dashboard';
      case USER_ROLES.DRIVER:
        return '/driver/dashboard';
      case USER_ROLES.ADMIN:
        return '/admin/dashboard';
      default:
        return '/';
    }
  };

  const getRoleBasedLinks = () => {
    if (!user) return [];
    
    const commonLinks = [
      { to: '/profile', label: 'Profile' },
    ];

    switch (user.role) {
      case USER_ROLES.CUSTOMER:
        return [
          { to: '/orders', label: 'My Orders' },
          ...commonLinks
        ];
      case USER_ROLES.RESTAURANT:
        return [
          { to: '/restaurant/menu', label: 'Menu' },
          { to: '/restaurant/orders', label: 'Orders' },
          ...commonLinks
        ];
      case USER_ROLES.DRIVER:
        return [
          { to: '/driver/deliveries', label: 'Deliveries' },
          ...commonLinks
        ];
      case USER_ROLES.ADMIN:
        return [
          { to: '/admin/users', label: 'Users' },
          ...commonLinks
        ];
      default:
        return commonLinks;
    }
  };

  return (
    <nav className="bg-white shadow-lg">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between h-16">
          <div className="flex">
            <div className="flex-shrink-0 flex items-center">
              <Link to="/" className="flex items-center">
                <img className="h-8 w-auto" src={logo} alt="Logo" />
                <span className="ml-2 text-xl font-bold text-gray-900">
                  {import.meta.env.VITE_APP_NAME}
                </span>
              </Link>
            </div>
            
            <div className="hidden sm:ml-6 sm:flex sm:space-x-8">
              <Link
                to="/"
                className="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
              >
                Home
              </Link>
              <Link
                to="/restaurants"
                className="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
              >
                Restaurants
              </Link>
            </div>
          </div>

          <div className="hidden sm:ml-6 sm:flex sm:items-center sm:space-x-4">
            {isAuthenticated ? (
              <>
                {user?.role === USER_ROLES.CUSTOMER && (
                  <Link
                    to="/cart"
                    className="relative p-2 text-gray-400 hover:text-gray-500"
                  >
                    <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    {getItemCount() > 0 && (
                      <span className="absolute -top-1 -right-1 bg-red-500 text-white rounded-full h-5 w-5 flex items-center justify-center text-xs">
                        {getItemCount()}
                      </span>
                    )}
                  </Link>
                )}

                <div className="relative">
                  <button
                    onClick={() => setIsProfileMenuOpen(!isProfileMenuOpen)}
                    className="flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                  >
                    <span className="sr-only">Open user menu</span>
                    <div className="h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center">
                      <span className="text-gray-600 font-medium">
                        {user?.name?.charAt(0).toUpperCase()}
                      </span>
                    </div>
                    <span className="ml-2 text-gray-700">{user?.name}</span>
                    <svg className="ml-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fillRule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clipRule="evenodd" />
                    </svg>
                  </button>

                  {isProfileMenuOpen && (
                    <div className="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5">
                      {getRoleBasedLinks().map((link) => (
                        <Link
                          key={link.to}
                          to={link.to}
                          className="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                          onClick={() => setIsProfileMenuOpen(false)}
                        >
                          {link.label}
                        </Link>
                      ))}
                      <button
                        onClick={handleLogout}
                        className="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                      >
                        Sign out
                      </button>
                    </div>
                  )}
                </div>
              </>
            ) : (
              <div className="flex space-x-4">
                <Link
                  to="/login"
                  className="text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium"
                >
                  Login
                </Link>
                <Link
                  to="/register"
                  className="bg-blue-600 text-white hover:bg-blue-700 px-3 py-2 rounded-md text-sm font-medium"
                >
                  Register
                </Link>
              </div>
            )}
          </div>

          <div className="flex items-center sm:hidden">
            {isAuthenticated && user?.role === USER_ROLES.CUSTOMER && (
              <Link
                to="/cart"
                className="relative p-2 text-gray-400 hover:text-gray-500 mr-2"
              >
                <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
                {getItemCount() > 0 && (
                  <span className="absolute -top-1 -right-1 bg-red-500 text-white rounded-full h-5 w-5 flex items-center justify-center text-xs">
                    {getItemCount()}
                  </span>
                )}
              </Link>
            )}

            <button
              onClick={() => setIsMenuOpen(!isMenuOpen)}
              className="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100"
            >
              <span className="sr-only">Open main menu</span>
              <svg className="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      {isMenuOpen && (
        <div className="sm:hidden">
          <div className="pt-2 pb-3 space-y-1">
            <Link
              to="/"
              className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
              onClick={() => setIsMenuOpen(false)}
            >
              Home
            </Link>
            <Link
              to="/restaurants"
              className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
              onClick={() => setIsMenuOpen(false)}
            >
              Restaurants
            </Link>

            {isAuthenticated ? (
              <>
                {getRoleBasedLinks().map((link) => (
                  <Link
                    key={link.to}
                    to={link.to}
                    className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
                    onClick={() => setIsMenuOpen(false)}
                  >
                    {link.label}
                  </Link>
                ))}
                <button
                  onClick={() => {
                    handleLogout();
                    setIsMenuOpen(false);
                  }}
                  className="w-full text-left border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
                >
                  Sign out
                </button>
              </>
            ) : (
              <>
                <Link
                  to="/login"
                  className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
                  onClick={() => setIsMenuOpen(false)}
                >
                  Login
                </Link>
                <Link
                  to="/register"
                  className="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium"
                  onClick={() => setIsMenuOpen(false)}
                >
                  Register
                </Link>
              </>
            )}
          </div>
        </div>
      )}
    </nav>
  );
};

export default Header;
===== ./components/layout/Footer.jsx =====

import React from 'react';
import { Link } from 'react-router-dom';

const Footer = () => {
  return (
    <footer className="bg-gray-800 text-white">
      <div className="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h3 className="text-lg font-semibold mb-4">FoodDelivery</h3>
            <p className="text-gray-300">
              Delivering delicious food to your doorstep since 2024.
            </p>
          </div>
          
          <div>
            <h4 className="text-lg font-semibold mb-4">Quick Links</h4>
            <ul className="space-y-2">
              <li><Link to="/" className="text-gray-300 hover:text-white">Home</Link></li>
              <li><Link to="/restaurants" className="text-gray-300 hover:text-white">Restaurants</Link></li>
              <li><Link to="/about" className="text-gray-300 hover:text-white">About Us</Link></li>
              <li><Link to="/contact" className="text-gray-300 hover:text-white">Contact</Link></li>
            </ul>
          </div>
          
          <div>
            <h4 className="text-lg font-semibold mb-4">Services</h4>
            <ul className="space-y-2">
              <li><Link to="/food-delivery" className="text-gray-300 hover:text-white">Food Delivery</Link></li>
              <li><Link to="/restaurant-partners" className="text-gray-300 hover:text-white">Restaurant Partners</Link></li>
              <li><Link to="/driver-app" className="text-gray-300 hover:text-white">Driver App</Link></li>
              <li><Link to="/business-solutions" className="text-gray-300 hover:text-white">Business Solutions</Link></li>
            </ul>
          </div>
          
          <div>
            <h4 className="text-lg font-semibold mb-4">Contact Us</h4>
            <ul className="space-y-2">
              <li className="text-gray-300">support@fooddelivery.com</li>
              <li className="text-gray-300">+1 (555) 123-4567</li>
              <li className="text-gray-300">123 Food Street, City, Country</li>
            </ul>
          </div>
        </div>
        
        <div className="mt-8 pt-8 border-t border-gray-700">
          <div className="flex flex-col md:flex-row justify-between items-center">
            <p className="text-gray-300">
              &copy; {new Date().getFullYear()} FoodDelivery. All rights reserved.
            </p>
            <div className="flex space-x-6 mt-4 md:mt-0">
              <Link to="/privacy" className="text-gray-300 hover:text-white">
                Privacy Policy
              </Link>
              <Link to="/terms" className="text-gray-300 hover:text-white">
                Terms of Service
              </Link>
            </div>
          </div>
        </div>
      </div>
    </footer>
  );
};

export default Footer;
===== ./components/layout/Sidebar.jsx =====

import React from 'react';
import { NavLink } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth.js';
import { USER_ROLES } from '../../utils/constants.js';

const Sidebar = () => {
  const { user } = useAuth();

  const getMenuItems = () => {
    if (!user) return [];

    switch (user.role) {
      case USER_ROLES.RESTAURANT:
        return [
          { to: '/restaurant/dashboard', label: 'Dashboard', icon: 'dashboard' },
          { to: '/restaurant/menu', label: 'Menu Management', icon: 'restaurant' },
          { to: '/restaurant/orders', label: 'Orders', icon: 'receipt' },
          { to: '/restaurant/settings', label: 'Settings', icon: 'settings' },
        ];
      case USER_ROLES.DRIVER:
        return [
          { to: '/driver/dashboard', label: 'Dashboard', icon: 'dashboard' },
          { to: '/driver/deliveries', label: 'Delivery Requests', icon: 'delivery' },
          { to: '/driver/history', label: 'History', icon: 'history' },
        ];
      case USER_ROLES.ADMIN:
        return [
          { to: '/admin/dashboard', label: 'Dashboard', icon: 'dashboard' },
          { to: '/admin/users', label: 'Users', icon: 'people' },
          { to: '/admin/restaurants', label: 'Restaurants', icon: 'restaurant' },
          { to: '/admin/orders', label: 'Orders', icon: 'receipt' },
          { to: '/admin/reports', label: 'Reports', icon: 'analytics' },
        ];
      default:
        return [];
    }
  };

  const getIcon = (iconName) => {
    const icons = {
      dashboard: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
        </svg>
      ),
      restaurant: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
        </svg>
      ),
      receipt: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
        </svg>
      ),
      settings: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      ),
      delivery: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" />
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" />
        </svg>
      ),
      history: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      ),
      people: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.67 3.623a10.953 10.953 0 01-.707.785 9.958 9.958 0 01-12.682 0 10.953 10.953 0 01-.707-.785" />
        </svg>
      ),
      analytics: (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
        </svg>
      ),
    };

    return icons[iconName] || null;
  };

  const menuItems = getMenuItems();

  if (menuItems.length === 0) return null;

  return (
    <div className="bg-gray-800 text-white w-64 min-h-screen">
      <div className="p-6">
        <h2 className="text-xl font-semibold">Dashboard</h2>
      </div>
      
      <nav className="mt-6">
        {menuItems.map((item) => (
          <NavLink
            key={item.to}
            to={item.to}
            className={({ isActive }) =>
              `flex items-center px-6 py-3 text-gray-300 hover:bg-gray-700 hover:text-white ${
                isActive ? 'bg-gray-900 text-white' : ''
              }`
            }
          >
            <span className="mr-3">{getIcon(item.icon)}</span>
            {item.label}
          </NavLink>
        ))}
      </nav>
    </div>
  );
};

export default Sidebar;
===== ./components/layout/Layout.jsx =====

import React from 'react';
import { Outlet } from 'react-router-dom';
import Header from './Header.jsx';
import Footer from './Footer.jsx';
import { useAuth } from '../../hooks/useAuth.js';
import { USER_ROLES } from '../../utils/constants.js';

const Layout = ({ children }) => {
  const { user } = useAuth();

  const isDashboardLayout = user && [
    USER_ROLES.RESTAURANT,
    USER_ROLES.DRIVER,
    USER_ROLES.ADMIN
  ].includes(user.role);

  if (isDashboardLayout) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Header />
        <div className="flex">
          <aside className="hidden md:block">
            <div className="sticky top-0">
              {/* Sidebar will be conditionally rendered in dashboard pages */}
            </div>
          </aside>
          <main className="flex-1">
            <div className="py-6">
              <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <Outlet />
              </div>
            </div>
          </main>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen flex flex-col">
      <Header />
      <main className="flex-1">
        <Outlet />
      </main>
      <Footer />
    </div>
  );
};

export default Layout;
===== ./components/ui/Button.jsx =====

import React from 'react';

const Button = ({
  children,
  type = 'button',
  variant = 'primary',
  size = 'md',
  fullWidth = false,
  disabled = false,
  loading = false,
  onClick,
  className = '',
  ...props
}) => {
  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2';
  
  const variants = {
    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',
    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500',
    success: 'bg-green-600 text-white hover:bg-green-700 focus:ring-green-500',
    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',
    outline: 'border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-blue-500',
    ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500'
  };

  const sizes = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg'
  };

  const widthClass = fullWidth ? 'w-full' : '';
  const disabledClass = disabled || loading ? 'opacity-50 cursor-not-allowed' : '';

  return (
    <button
      type={type}
      className={`${baseClasses} ${variants[variant]} ${sizes[size]} ${widthClass} ${disabledClass} ${className}`}
      disabled={disabled || loading}
      onClick={onClick}
      {...props}
    >
      {loading && (
        <svg className="animate-spin -ml-1 mr-2 h-4 w-4 text-current" fill="none" viewBox="0 0 24 24">
          <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" />
          <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
        </svg>
      )}
      {children}
    </button>
  );
};

export default Button;
===== ./components/ui/Card.jsx =====

import React from 'react';

const Card = ({ children, className = '', ...props }) => {
  return (
    <div
      className={`bg-white rounded-lg shadow-md ${className}`}
      {...props}
    >
      {children}
    </div>
  );
};

const CardHeader = ({ children, className = '' }) => {
  return (
    <div className={`px-6 py-4 border-b border-gray-200 ${className}`}>
      {children}
    </div>
  );
};

const CardBody = ({ children, className = '' }) => {
  return (
    <div className={`px-6 py-4 ${className}`}>
      {children}
    </div>
  );
};

const CardFooter = ({ children, className = '' }) => {
  return (
    <div className={`px-6 py-4 border-t border-gray-200 ${className}`}>
      {children}
    </div>
  );
};

Card.Header = CardHeader;
Card.Body = CardBody;
Card.Footer = CardFooter;

export default Card;
===== ./components/ui/Modal.jsx =====

import React, { useEffect } from 'react';

const Modal = ({ isOpen, onClose, title, children, size = 'md' }) => {
  useEffect(() => {
    const handleEscape = (e) => {
      if (e.key === 'Escape') onClose();
    };

    if (isOpen) {
      document.addEventListener('keydown', handleEscape);
      document.body.style.overflow = 'hidden';
    }

    return () => {
      document.removeEventListener('keydown', handleEscape);
      document.body.style.overflow = 'unset';
    };
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  const sizes = {
    sm: 'max-w-md',
    md: 'max-w-lg',
    lg: 'max-w-2xl',
    xl: 'max-w-4xl'
  };

  return (
    <div className="fixed inset-0 z-50 overflow-y-auto">
      <div className="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
        <div
          className="fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75"
          onClick={onClose}
        />

        <span className="hidden sm:inline-block sm:align-middle sm:h-screen">&#8203;</span>

        <div
          className={`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${sizes[size]} sm:w-full`}
        >
          <div className="px-6 py-4 border-b border-gray-200">
            <div className="flex items-center justify-between">
              <h3 className="text-lg font-medium text-gray-900">
                {title}
              </h3>
              <button
                onClick={onClose}
                className="text-gray-400 hover:text-gray-500"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
          </div>

          <div className="px-6 py-4">
            {children}
          </div>
        </div>
      </div>
    </div>
  );
};

export default Modal;
===== ./components/ui/Loader.jsx =====

import React from 'react';

const Loader = ({ size = 'md', text = 'Loading...' }) => {
  const sizes = {
    sm: 'w-4 h-4',
    md: 'w-8 h-8',
    lg: 'w-12 h-12'
  };

  return (
    <div className="flex flex-col items-center justify-center space-y-4">
      <div className="relative">
        <div className={`${sizes[size]} animate-spin rounded-full border-4 border-gray-200`} />
        <div className={`${sizes[size]} absolute top-0 left-0 animate-spin rounded-full border-4 border-blue-500 border-t-transparent`} />
      </div>
      {text && <p className="text-gray-600">{text}</p>}
    </div>
  );
};

export const PageLoader = () => {
  return (
    <div className="flex items-center justify-center min-h-screen">
      <Loader size="lg" text="Loading application..." />
    </div>
  );
};

export const InlineLoader = () => {
  return (
    <div className="inline-flex items-center">
      <Loader size="sm" text="" />
    </div>
  );
};

export default Loader;
===== ./components/ui/Alert.jsx =====

import React, { useState } from 'react';

const Alert = ({ type = 'info', title, children, onClose, className = '' }) => {
  const [isVisible, setIsVisible] = useState(true);

  const handleClose = () => {
    setIsVisible(false);
    if (onClose) onClose();
  };

  if (!isVisible) return null;

  const alertStyles = {
    info: 'bg-blue-50 border-blue-200 text-blue-800',
    success: 'bg-green-50 border-green-200 text-green-800',
    warning: 'bg-yellow-50 border-yellow-200 text-yellow-800',
    error: 'bg-red-50 border-red-200 text-red-800'
  };

  const iconStyles = {
    info: 'text-blue-400',
    success: 'text-green-400',
    warning: 'text-yellow-400',
    error: 'text-red-400'
  };

  const icons = {
    info: (
      <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clipRule="evenodd" />
      </svg>
    ),
    success: (
      <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
      </svg>
    ),
    warning: (
      <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fillRule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clipRule="evenodd" />
      </svg>
    ),
    error: (
      <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
        <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clipRule="evenodd" />
      </svg>
    )
  };

  return (
    <div className={`rounded-md border p-4 ${alertStyles[type]} ${className}`}>
      <div className="flex">
        <div className={`flex-shrink-0 ${iconStyles[type]}`}>
          {icons[type]}
        </div>
        <div className="ml-3 flex-1">
          {title && <h3 className="font-medium">{title}</h3>}
          <div className={`${title ? 'mt-2' : ''}`}>{children}</div>
        </div>
        {onClose && (
          <button
            onClick={handleClose}
            className="ml-4 flex-shrink-0 text-gray-400 hover:text-gray-500"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        )}
      </div>
    </div>
  );
};

export default Alert;
===== ./components/ui/Input.jsx =====

import React from 'react';

const Input = React.forwardRef(({
  label,
  type = 'text',
  error,
  helperText,
  leftIcon,
  rightIcon,
  className = '',
  containerClassName = '',
  ...props
}, ref) => {
  return (
    <div className={containerClassName}>
      {label && (
        <label className="block text-sm font-medium text-gray-700 mb-1">
          {label}
        </label>
      )}
      <div className="relative">
        {leftIcon && (
          <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            {leftIcon}
          </div>
        )}
        <input
          ref={ref}
          type={type}
          className={`
            block w-full rounded-lg border-gray-300 shadow-sm
            focus:ring-blue-500 focus:border-blue-500 sm:text-sm
            ${error ? 'border-red-300 focus:ring-red-500 focus:border-red-500' : ''}
            ${leftIcon ? 'pl-10' : ''}
            ${rightIcon ? 'pr-10' : ''}
            ${className}
          `}
          {...props}
        />
        {rightIcon && (
          <div className="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
            {rightIcon}
          </div>
        )}
      </div>
      {error && <p className="mt-1 text-sm text-red-600">{error}</p>}
      {helperText && !error && <p className="mt-1 text-sm text-gray-500">{helperText}</p>}
    </div>
  );
});

Input.displayName = 'Input';

export default Input;
===== ./components/customer/RestaurantCard.jsx =====

import React from 'react';
import { Link } from 'react-router-dom';
import { formatCurrency, getRatingStars } from '../../utils/helpers.js';

const RestaurantCard = ({ restaurant }) => {
  return (
    <Link
      to={`/restaurants/${restaurant.id}`}
      className="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"
    >
      <div className="relative h-48">
        <img
          src={restaurant.image_url || '/restaurant-placeholder.jpg'}
          alt={restaurant.name}
          className="w-full h-full object-cover"
        />
        {restaurant.avg_rating > 0 && (
          <div className="absolute top-2 right-2 bg-white px-2 py-1 rounded-full flex items-center">
            <span className="text-yellow-400 mr-1">★</span>
            <span className="font-semibold">
              {typeof restaurant.avg_rating === 'number' 
                ? restaurant.avg_rating.toFixed(1) 
                : Number(restaurant.avg_rating || 0).toFixed(1)}
            </span>
          </div>
        )}
      </div>
      
      <div className="p-4">
        <div className="flex justify-between items-start mb-2">
          <h3 className="font-bold text-lg truncate">{restaurant.name}</h3>
        </div>
        
        <p className="text-gray-600 text-sm mb-2 truncate">{restaurant.location}</p>
        
        <div className="flex items-center text-sm text-gray-500 mb-3">
          <svg className="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
            <path fillRule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clipRule="evenodd" />
          </svg>
          <span>{restaurant.distance || 'N/A'} miles</span>
        </div>
        
        <div className="flex items-center justify-between">
          <div className="flex items-center">
            {restaurant.avg_rating > 0 ? (
                  <div className="flex items-center">
                    {getRatingStars(restaurant.avg_rating).map(star => (
                      <svg
                        key={star.id}
                        className={`w-4 h-4 ${star.className}`}
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                      </svg>
                    ))} 
                   <span className="ml-1 text-sm text-gray-600">
                  ({restaurant.review_count || 0})
                </span>
              </div>
            ) : (
              <span className="text-sm text-gray-500">No reviews yet</span>
            )}
          </div>
          
          <div className="text-sm font-medium">
            <span className="text-gray-500">•</span>
            <span className="ml-1">{restaurant.cuisine_type || 'Various'}</span>
          </div>
        </div>
      </div>
    </Link>
  );
};

export default RestaurantCard;
===== ./components/customer/MenuItemCard.jsx =====

import React, { useState } from 'react';
import { useCart } from '../../hooks/useCart.js';
import { formatCurrency } from '../../utils/helpers.js';
import Button from '../ui/Button.jsx';

const MenuItemCard = ({ item, restaurant }) => {
  const { addToCart, isSameRestaurant } = useCart();
  const [quantity, setQuantity] = useState(1);
  const [adding, setAdding] = useState(false);

  const handleAddToCart = async () => {
    if (!isSameRestaurant(restaurant.id) && restaurant.id) {
      if (!window.confirm('Adding this item will clear your current cart. Continue?')) {
        return;
      }
    }

    setAdding(true);
    try {
      await addToCart({
        ...item,
        quantity,
        restaurant_id: restaurant.id
      }, restaurant);
      
      // Show success feedback
      setQuantity(1);
    } catch (error) {
      console.error('Failed to add to cart:', error);
    } finally {
      setAdding(false);
    }
  };

  return (
    <div className="bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-shadow">
      <div className="flex">
        {item.image_url && (
          <div className="w-24 h-24 flex-shrink-0 mr-4">
            <img
              src={item.image_url}
              alt={item.name}
              className="w-full h-full object-cover rounded-lg"
            />
          </div>
        )}
        
        <div className="flex-1">
          <div className="flex justify-between items-start mb-2">
            <div>
              <h3 className="font-semibold text-lg">{item.name}</h3>
              {item.description && (
                <p className="text-gray-600 text-sm mt-1">{item.description}</p>
              )}
            </div>
            <span className="font-bold text-lg">{formatCurrency(item.price)}</span>
          </div>
          
          <div className="flex items-center justify-between mt-4">
            <div className="flex items-center space-x-2">
              <button
                onClick={() => setQuantity(Math.max(1, quantity - 1))}
                className="w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-50"
              >
                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 12H4" />
                </svg>
              </button>
              
              <span className="w-12 text-center font-medium">{quantity}</span>
              
              <button
                onClick={() => setQuantity(quantity + 1)}
                className="w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-50"
              >
                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                </svg>
              </button>
            </div>
            
            <Button
              onClick={handleAddToCart}
              loading={adding}
              size="sm"
              disabled={!item.availability}
            >
              {item.availability ? 'Add to Cart' : 'Unavailable'}
            </Button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default MenuItemCard;
===== ./components/customer/CartItem.jsx =====

import React from 'react';
import { useCart } from '../../hooks/useCart.js';
import { formatCurrency } from '../../utils/helpers.js';

const CartItem = ({ item }) => {
  const { updateQuantity, removeFromCart } = useCart();

  return (
    <div className="flex items-center py-4 border-b border-gray-200 last:border-0">
      <div className="flex-1">
        <h4 className="font-medium">{item.name}</h4>
        {item.description && (
          <p className="text-gray-600 text-sm mt-1 truncate">{item.description}</p>
        )}
      </div>
      
      <div className="flex items-center space-x-4">
        <div className="flex items-center space-x-2">
          <button
            onClick={() => updateQuantity(item.id, item.quantity - 1)}
            className="w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-50"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 12H4" />
            </svg>
          </button>
          
          <span className="w-8 text-center font-medium">{item.quantity}</span>
          
          <button
            onClick={() => updateQuantity(item.id, item.quantity + 1)}
            className="w-8 h-8 rounded-full border flex items-center justify-center hover:bg-gray-50"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
            </svg>
          </button>
        </div>
        
        <div className="text-right min-w-20">
          <div className="font-semibold">{formatCurrency(item.price * item.quantity)}</div>
          <div className="text-sm text-gray-500">{formatCurrency(item.price)} each</div>
        </div>
        
        <button
          onClick={() => removeFromCart(item.id)}
          className="text-red-500 hover:text-red-700"
        >
          <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
          </svg>
        </button>
      </div>
    </div>
  );
};

export default CartItem;
===== ./components/customer/OrderCard.jsx =====

import React from 'react';
import { Link } from 'react-router-dom';
import { formatCurrency, formatDate, getStatusColor, getStatusText } from '../../utils/helpers.js';
import { ORDER_STATUS } from '../../utils/constants.js';

const OrderCard = ({ order }) => {
  return (
    <Link
      to={`/orders/${order.id}`}
      className="block bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow"
    >
      <div className="flex flex-col md:flex-row md:items-center justify-between mb-4">
        <div>
          <h3 className="font-semibold text-lg">Order #{order.id}</h3>
          <p className="text-gray-600 text-sm">
            {order.restaurant_name || 'Restaurant'}
          </p>
        </div>

        <div className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(order.status)}`}>
          {getStatusText(order.status)}
        </div>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
        <div>
          <p className="text-sm text-gray-500">Order Date</p>
          <p className="font-medium">{formatDate(order.created_at)}</p>
        </div>

        <div>
          <p className="text-sm text-gray-500">Total Amount</p>
          <p className="font-bold text-lg">{formatCurrency(order.total_price)}</p>
        </div>

        <div>
          <p className="text-sm text-gray-500">Items</p>
          <p className="font-medium">
            {order.items?.length || 0} items
          </p>
        </div>
      </div>

      <div className="border-t pt-4">
        <div className="flex items-center justify-between">
          <div className="flex items-center space-x-2">
            <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span className="text-sm text-gray-600">
              {order.status === ORDER_STATUS.DELIVERED
                ? `Delivered on ${formatDate(order.updated_at)}`
                : `Placed on ${formatDate(order.created_at)}`
              }
            </span>
          </div>

          <span className="text-blue-600 font-medium hover:text-blue-800">
            View Details →
          </span>
        </div>
      </div>
    </Link>
  );
};

export default OrderCard;
===== ./components/restaurant/MenuItemForm.jsx =====

import React, { useState, useEffect } from 'react';
import Input from '../ui/Input.jsx';
import Button from '../ui/Button.jsx';

const MenuItemForm = ({ item = null, onSubmit, onCancel, loading = false }) => {
  const [formData, setFormData] = useState({
    name: '',
    description: '',
    price: '',
    image_url: '',
    availability: true,
    restaurant_id: ''
  });

  const [errors, setErrors] = useState({});

  useEffect(() => {
    if (item) {
      setFormData({
        name: item.name || '',
        description: item.description || '',
        price: item.price || '',
        image_url: item.image_url || '',
        availability: item.availability !== undefined ? item.availability : true,
        restaurant_id: item.restaurant_id || ''
      });
    }
  }, [item]);

  const handleChange = (e) => {
    const { name, value, type, checked } = e.target;
    setFormData(prev => ({
      ...prev,
      [name]: type === 'checkbox' ? checked : value
    }));
    
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (!formData.name.trim()) {
      newErrors.name = 'Name is required';
    }
    
    if (!formData.price || isNaN(formData.price) || Number(formData.price) <= 0) {
      newErrors.price = 'Valid price is required';
    }
    
    if (!formData.restaurant_id) {
      newErrors.restaurant_id = 'Restaurant ID is required';
    }
    
    return newErrors;
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    
    const validationErrors = validateForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    const submitData = {
      ...formData,
      price: Number(formData.price),
      description: formData.description || null,
      image_url: formData.image_url || null
    };
    
    onSubmit(submitData);
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-6">
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        <Input
          label="Item Name *"
          name="name"
          value={formData.name}
          onChange={handleChange}
          error={errors.name}
          placeholder="Enter item name"
          required
        />
        
        <Input
          label="Price *"
          name="price"
          type="number"
          step="0.01"
          min="0"
          value={formData.price}
          onChange={handleChange}
          error={errors.price}
          placeholder="0.00"
          leftIcon={
            <span className="text-gray-500">$</span>
          }
          required
        />
        
        <div className="md:col-span-2">
          <Input
            label="Description"
            name="description"
            value={formData.description}
            onChange={handleChange}
            placeholder="Enter item description"
          />
        </div>
        
        <div className="md:col-span-2">
          <Input
            label="Image URL"
            name="image_url"
            value={formData.image_url}
            onChange={handleChange}
            placeholder="https://example.com/image.jpg"
            helperText="Optional image URL for the menu item"
          />
        </div>
        
        {!item && (
          <div className="md:col-span-2">
            <Input
              label="Restaurant ID *"
              name="restaurant_id"
              value={formData.restaurant_id}
              onChange={handleChange}
              error={errors.restaurant_id}
              placeholder="Enter restaurant ID"
              required
            />
          </div>
        )}
        
        <div className="flex items-center">
          <input
            id="availability"
            name="availability"
            type="checkbox"
            checked={formData.availability}
            onChange={handleChange}
            className="h-4 w-4 text-blue-600 rounded"
          />
          <label htmlFor="availability" className="ml-2 text-sm text-gray-700">
            Available for ordering
          </label>
        </div>
      </div>
      
      <div className="flex justify-end space-x-3">
        <Button
          type="button"
          variant="outline"
          onClick={onCancel}
          disabled={loading}
        >
          Cancel
        </Button>
        
        <Button
          type="submit"
          loading={loading}
        >
          {item ? 'Update Item' : 'Add Item'}
        </Button>
      </div>
    </form>
  );
};

export default MenuItemForm;
===== ./components/restaurant/OrderStatusBadge.jsx =====

import React from 'react';
import { getStatusColor, getStatusText } from '../../utils/helpers.js';

const OrderStatusBadge = ({ status, onStatusChange, disabled = false }) => {
  const handleChange = (e) => {
    if (onStatusChange) {
      onStatusChange(e.target.value);
    }
  };

  return (
    <div className="flex items-center space-x-2">
      <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(status)}`}>
        {getStatusText(status)}
      </span>
      
      {onStatusChange && (
        <select
          value={status}
          onChange={handleChange}
          disabled={disabled}
          className="text-sm border rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="pending">Pending</option>
          <option value="accepted">Accepted</option>
          <option value="preparing">Preparing</option>
          <option value="ready">Ready</option>
          <option value="cancelled">Cancelled</option>
        </select>
      )}
    </div>
  );
};

export default OrderStatusBadge;
===== ./components/driver/DeliveryCard.jsx =====

import React from 'react';
import { formatCurrency, formatDate } from '../../utils/helpers.js';
import Button from '../ui/Button.jsx';

const DeliveryCard = ({ delivery, onAccept, onReject, onComplete, isHistory = false }) => {
  return (
    <div className="bg-white rounded-lg shadow-sm border p-6">
      <div className="flex flex-col md:flex-row md:items-center justify-between mb-4">
        <div>
          <h3 className="font-semibold text-lg">Order #{delivery.order_id}</h3>
          <p className="text-gray-600">
            From: {delivery.restaurant_name}
          </p>
          <p className="text-gray-600">
            To: {delivery.customer_name}
          </p>
        </div>
        
        <div className="mt-2 md:mt-0">
          <span className="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
            {delivery.status === 'pending' ? 'Waiting' : 
             delivery.status === 'accepted' ? 'Accepted' :
             delivery.status === 'completed' ? 'Completed' : 'Rejected'}
          </span>
        </div>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div>
          <p className="text-sm text-gray-500">Restaurant Location</p>
          <p className="font-medium">{delivery.restaurant_location}</p>
        </div>
        
        <div>
          <p className="text-sm text-gray-500">Customer Address</p>
          <p className="font-medium">{delivery.customer_address}</p>
        </div>
        
        <div>
          <p className="text-sm text-gray-500">Customer Phone</p>
          <p className="font-medium">{delivery.customer_phone}</p>
        </div>
        
        <div>
          <p className="text-sm text-gray-500">Order Total</p>
          <p className="font-bold text-lg">{formatCurrency(delivery.total_price)}</p>
        </div>
      </div>
      
      {!isHistory && (
        <div className="border-t pt-4">
          <div className="flex flex-col sm:flex-row sm:space-x-3 space-y-2 sm:space-y-0">
            {delivery.status === 'pending' && (
              <>
                <Button
                  onClick={() => onAccept(delivery.id)}
                  variant="success"
                  className="flex-1"
                >
                  Accept Delivery
                </Button>
                
                <Button
                  onClick={() => onReject(delivery.id)}
                  variant="danger"
                  className="flex-1"
                >
                  Reject
                </Button>
              </>
            )}
            
            {delivery.status === 'accepted' && delivery.order_status === 'on_the_way' && (
              <Button
                onClick={() => onComplete(delivery.order_id)}
                variant="success"
                className="flex-1"
              >
                Mark as Delivered
              </Button>
            )}
          </div>
        </div>
      )}
      
      <div className="mt-4 pt-4 border-t text-sm text-gray-500">
        <div className="flex items-center">
          <svg className="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          {isHistory 
            ? `Completed on ${formatDate(delivery.completed_at || delivery.assigned_at)}`
            : `Requested on ${formatDate(delivery.assigned_at)}`
          }
        </div>
      </div>
    </div>
  );
};

export default DeliveryCard;
===== ./pages/auth/Login.jsx =====

import React, { useState } from 'react';
import { Link, useNavigate, useLocation } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth.js';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Login = () => {
  const [formData, setFormData] = useState({
    email: '',
    password: ''
  });
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);
  
  const { login, error: authError } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();
  
  const from = location.state?.from?.pathname || '/';

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
    
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (!formData.email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = 'Email is invalid';
    }
    
    if (!formData.password) {
      newErrors.password = 'Password is required';
    }
    
    return newErrors;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    const validationErrors = validateForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    setLoading(true);
    setErrors({});
    
    try {
      const result = await login(formData.email, formData.password);
      
      if (result.success) {
        navigate(from, { replace: true });
      } else {
        setErrors({ general: result.message });
      }
    } catch (err) {
      setErrors({ general: 'An error occurred. Please try again.' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full">
        <div className="text-center mb-8">
          <h2 className="text-3xl font-extrabold text-gray-900">
            Sign in to your account
          </h2>
          <p className="mt-2 text-sm text-gray-600">
            Or{' '}
            <Link to="/register" className="font-medium text-blue-600 hover:text-blue-500">
              create a new account
            </Link>
          </p>
        </div>

        <Card>
          <Card.Body>
            {(errors.general || authError) && (
              <Alert type="error" className="mb-6">
                {errors.general || authError}
              </Alert>
            )}

            <form onSubmit={handleSubmit} className="space-y-6">
              <Input
                label="Email address"
                name="email"
                type="email"
                autoComplete="email"
                value={formData.email}
                onChange={handleChange}
                error={errors.email}
                placeholder="you@example.com"
                required
              />
              
              <Input
                label="Password"
                name="password"
                type="password"
                autoComplete="current-password"
                value={formData.password}
                onChange={handleChange}
                error={errors.password}
                placeholder="••••••••"
                required
              />
              
              <div className="flex items-center justify-between">
                <div className="text-sm">
                  <Link to="/forgot-password" className="font-medium text-blue-600 hover:text-blue-500">
                    Forgot your password?
                  </Link>
                </div>
              </div>
              
              <Button
                type="submit"
                loading={loading}
                fullWidth
                size="lg"
              >
                Sign in
              </Button>
            </form>
          </Card.Body>
          
          <Card.Footer className="text-center">
            <p className="text-sm text-gray-600">
              Don't have an account?{' '}
              <Link to="/register" className="font-medium text-blue-600 hover:text-blue-500">
                Sign up
              </Link>
            </p>
          </Card.Footer>
        </Card>
      </div>
    </div>
  );
};

export default Login;
===== ./pages/auth/Register.jsx =====

import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useAuth } from '../../hooks/useAuth.js';
import { USER_ROLES } from '../../utils/constants.js';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Register = () => {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    password: '',
    confirmPassword: '',
    phone: '',
    address: '',
    role: USER_ROLES.CUSTOMER
  });
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);
  
  const { register, error: authError } = useAuth();
  const navigate = useNavigate();

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
    
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (!formData.name.trim()) {
      newErrors.name = 'Name is required';
    }
    
    if (!formData.email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = 'Email is invalid';
    }
    
    if (!formData.password) {
      newErrors.password = 'Password is required';
    } else if (formData.password.length < 6) {
      newErrors.password = 'Password must be at least 6 characters';
    }
    
    if (formData.password !== formData.confirmPassword) {
      newErrors.confirmPassword = 'Passwords do not match';
    }
    
    if (!formData.role) {
      newErrors.role = 'Role is required';
    }
    
    return newErrors;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    const validationErrors = validateForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    setLoading(true);
    setErrors({});
    
    try {
      const { confirmPassword, ...registerData } = formData;
      const result = await register(registerData);
      
      if (result.success) {
        navigate('/');
      } else {
        setErrors({ general: result.message });
      }
    } catch (err) {
      setErrors({ general: 'An error occurred. Please try again.' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-md w-full">
        <div className="text-center mb-8">
          <h2 className="text-3xl font-extrabold text-gray-900">
            Create your account
          </h2>
          <p className="mt-2 text-sm text-gray-600">
            Or{' '}
            <Link to="/login" className="font-medium text-blue-600 hover:text-blue-500">
              sign in to existing account
            </Link>
          </p>
        </div>

        <Card>
          <Card.Body>
            {(errors.general || authError) && (
              <Alert type="error" className="mb-6">
                {errors.general || authError}
              </Alert>
            )}

            <form onSubmit={handleSubmit} className="space-y-6">
              <Input
                label="Full Name"
                name="name"
                type="text"
                autoComplete="name"
                value={formData.name}
                onChange={handleChange}
                error={errors.name}
                placeholder="John Doe"
                required
              />
              
              <Input
                label="Email address"
                name="email"
                type="email"
                autoComplete="email"
                value={formData.email}
                onChange={handleChange}
                error={errors.email}
                placeholder="you@example.com"
                required
              />
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <Input
                  label="Password"
                  name="password"
                  type="password"
                  autoComplete="new-password"
                  value={formData.password}
                  onChange={handleChange}
                  error={errors.password}
                  placeholder="••••••••"
                  required
                />
                
                <Input
                  label="Confirm Password"
                  name="confirmPassword"
                  type="password"
                  autoComplete="new-password"
                  value={formData.confirmPassword}
                  onChange={handleChange}
                  error={errors.confirmPassword}
                  placeholder="••••••••"
                  required
                />
              </div>
              
              <Input
                label="Phone Number"
                name="phone"
                type="tel"
                autoComplete="tel"
                value={formData.phone}
                onChange={handleChange}
                placeholder="+1 (555) 123-4567"
              />
              
              <Input
                label="Address"
                name="address"
                type="text"
                autoComplete="street-address"
                value={formData.address}
                onChange={handleChange}
                placeholder="123 Main St, City, Country"
              />
              
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Account Type *
                </label>
                <div className="grid grid-cols-2 gap-3">
                  {Object.entries(USER_ROLES).map(([key, value]) => (
                    <div key={value} className="relative">
                      <input
                        id={`role-${value}`}
                        name="role"
                        type="radio"
                        value={value}
                        checked={formData.role === value}
                        onChange={handleChange}
                        className="sr-only"
                      />
                      <label
                        htmlFor={`role-${value}`}
                        className={`
                          flex flex-col items-center justify-center p-3 border rounded-lg cursor-pointer
                          ${formData.role === value 
                            ? 'border-blue-500 bg-blue-50' 
                            : 'border-gray-300 hover:bg-gray-50'
                          }
                        `}
                      >
                        <span className="text-sm font-medium capitalize">
                          {value}
                        </span>
                      </label>
                    </div>
                  ))}
                </div>
                {errors.role && <p className="mt-1 text-sm text-red-600">{errors.role}</p>}
              </div>
              
              <Button
                type="submit"
                loading={loading}
                fullWidth
                size="lg"
              >
                Create Account
              </Button>
            </form>
          </Card.Body>
          
          <Card.Footer className="text-center">
            <p className="text-sm text-gray-600">
              Already have an account?{' '}
              <Link to="/login" className="font-medium text-blue-600 hover:text-blue-500">
                Sign in
              </Link>
            </p>
          </Card.Footer>
        </Card>
      </div>
    </div>
  );
};

export default Register;
===== ./pages/customer/Home.jsx =====

import React, { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import { restaurantService } from '../../services/api/restaurants.js';
import RestaurantCard from '../../components/customer/RestaurantCard.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';

const Home = () => {
  const [restaurants, setRestaurants] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [search, setSearch] = useState('');
  const [filteredRestaurants, setFilteredRestaurants] = useState([]);

  useEffect(() => {
    fetchRestaurants();
  }, []);

  useEffect(() => {
    if (search.trim()) {
      const filtered = restaurants.filter(restaurant =>
        restaurant.name.toLowerCase().includes(search.toLowerCase()) ||
        restaurant.location.toLowerCase().includes(search.toLowerCase())
      );
      setFilteredRestaurants(filtered);
    } else {
      setFilteredRestaurants(restaurants);
    }
  }, [search, restaurants]);

  const fetchRestaurants = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await restaurantService.getAllRestaurants();
      
      if (response.success) {
        setRestaurants(response.data);
        setFilteredRestaurants(response.data);
      } else {
        setError('Failed to load restaurants');
      }
    } catch (err) {
      setError('An error occurred while loading restaurants');
      console.error('Error fetching restaurants:', err);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div>
      {/* Hero Section */}
      <div className="relative bg-gradient-to-r from-blue-600 to-blue-800 text-white">
        <div className="absolute inset-0">
          <div className="absolute inset-0 bg-black opacity-50"></div>
        </div>
        
        <div className="relative max-w-7xl mx-auto py-24 px-4 sm:py-32 sm:px-6 lg:px-8">
          <h1 className="text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl">
            Delicious food delivered to your doorstep
          </h1>
          <p className="mt-6 text-xl max-w-3xl">
            Order from your favorite local restaurants and get it delivered fresh and hot.
            Join thousands of satisfied customers today!
          </p>
          <div className="mt-10">
            <Link
              to="/restaurants"
              className="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-gray-100"
            >
              Order Now
            </Link>
          </div>
        </div>
      </div>

      {/* Search Section */}
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="bg-white rounded-lg shadow-lg p-6">
          <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div className="flex-1">
              <Input
                placeholder="Search restaurants by name or location..."
                value={search}
                onChange={(e) => setSearch(e.target.value)}
                leftIcon={
                  <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                  </svg>
                }
              />
            </div>
            
            <div className="flex space-x-3">
              <Button
                variant="outline"
                onClick={() => setSearch('')}
                disabled={!search}
              >
                Clear
              </Button>
              <Button
                onClick={fetchRestaurants}
                loading={loading}
              >
                Refresh
              </Button>
            </div>
          </div>
        </div>
      </div>

      {/* Restaurants Section */}
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="flex justify-between items-center mb-8">
          <h2 className="text-3xl font-bold text-gray-900">
            Popular Restaurants
          </h2>
          <Link
            to="/restaurants"
            className="text-blue-600 hover:text-blue-800 font-medium"
          >
            View all →
          </Link>
        </div>

        {loading ? (
          <div className="flex justify-center py-12">
            <Loader size="lg" text="Loading restaurants..." />
          </div>
        ) : error ? (
          <Alert type="error">
            {error}
            <Button
              onClick={fetchRestaurants}
              variant="outline"
              size="sm"
              className="ml-4"
            >
              Try Again
            </Button>
          </Alert>
        ) : filteredRestaurants.length === 0 ? (
          <div className="text-center py-12">
            <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
            </svg>
            <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurants found</h3>
            <p className="mt-1 text-gray-500">
              {search ? 'Try adjusting your search terms' : 'No restaurants available at the moment'}
            </p>
          </div>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {filteredRestaurants.slice(0, 6).map(restaurant => (
              <RestaurantCard
                key={restaurant.id}
                restaurant={restaurant}
              />
            ))}
          </div>
        )}
      </div>

      {/* Features Section */}
      <div className="bg-gray-50 py-12">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-gray-900">Why Choose Us</h2>
            <p className="mt-4 text-lg text-gray-600">
              We make food delivery simple, fast, and reliable
            </p>
          </div>
          
          <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div className="text-center">
              <div className="inline-flex items-center justify-center h-12 w-12 rounded-md bg-blue-100 text-blue-600 mb-4">
                <svg className="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h3 className="text-lg font-medium text-gray-900">Fast Delivery</h3>
              <p className="mt-2 text-gray-600">
                Get your food delivered in 30 minutes or less
              </p>
            </div>
            
            <div className="text-center">
              <div className="inline-flex items-center justify-center h-12 w-12 rounded-md bg-green-100 text-green-600 mb-4">
                <svg className="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h3 className="text-lg font-medium text-gray-900">Fresh Food</h3>
              <p className="mt-2 text-gray-600">
                Quality ingredients from trusted local restaurants
              </p>
            </div>
            
            <div className="text-center">
              <div className="inline-flex items-center justify-center h-12 w-12 rounded-md bg-purple-100 text-purple-600 mb-4">
                <svg className="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                </svg>
              </div>
              <h3 className="text-lg font-medium text-gray-900">Easy Payment</h3>
              <p className="mt-2 text-gray-600">
                Multiple payment options for your convenience
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Home;
===== ./pages/customer/RestaurantList.jsx =====

import React, { useState, useEffect } from 'react';
import { restaurantService } from '../../services/api/restaurants.js';
import RestaurantCard from '../../components/customer/RestaurantCard.jsx';
import Loader, { PageLoader } from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';

const RestaurantList = () => {
  const [restaurants, setRestaurants] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [search, setSearch] = useState('');
  const [ratingFilter, setRatingFilter] = useState('');
  const [sortBy, setSortBy] = useState('name');

  useEffect(() => {
    fetchRestaurants();
  }, []);

  const fetchRestaurants = async () => {
    try {
      setLoading(true);
      setError('');
      
      const params = {};
      if (search) params.search = search;
      if (ratingFilter) params.rating = ratingFilter;
      
      const response = await restaurantService.getAllRestaurants(params);
      
      if (response.success) {
        const sorted = sortRestaurants(response.data, sortBy);
        setRestaurants(sorted);
      } else {
        setError('Failed to load restaurants');
      }
    } catch (err) {
      setError('An error occurred while loading restaurants');
      console.error('Error fetching restaurants:', err);
    } finally {
      setLoading(false);
    }
  };

  const sortRestaurants = (data, sortType) => {
    const sorted = [...data];
    switch (sortType) {
      case 'name':
        return sorted.sort((a, b) => a.name.localeCompare(b.name));
      case 'rating':
        return sorted.sort((a, b) => b.avg_rating - a.avg_rating);
      case 'reviews':
        return sorted.sort((a, b) => (b.review_count || 0) - (a.review_count || 0));
      default:
        return sorted;
    }
  };

  const handleSortChange = (value) => {
    setSortBy(value);
    const sorted = sortRestaurants(restaurants, value);
    setRestaurants(sorted);
  };

  const handleFilter = () => {
    fetchRestaurants();
  };

  const clearFilters = () => {
    setSearch('');
    setRatingFilter('');
    setSortBy('name');
    fetchRestaurants();
  };

  if (loading && !restaurants.length) {
    return <PageLoader />;
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-2">
          Discover Restaurants
        </h1>
        <p className="text-gray-600">
          Find your favorite restaurants and discover new ones
        </p>
      </div>

      {/* Filters */}
      <div className="bg-white rounded-lg shadow-md p-6 mb-8">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div>
            <Input
              placeholder="Search restaurants..."
              value={search}
              onChange={(e) => setSearch(e.target.value)}
              onKeyPress={(e) => e.key === 'Enter' && handleFilter()}
              leftIcon={
                <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
              }
            />
          </div>
          
          <div>
            <select
              value={ratingFilter}
              onChange={(e) => setRatingFilter(e.target.value)}
              className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
            >
              <option value="">All Ratings</option>
              <option value="4">4+ Stars</option>
              <option value="3">3+ Stars</option>
              <option value="2">2+ Stars</option>
              <option value="1">1+ Stars</option>
            </select>
          </div>
          
          <div>
            <select
              value={sortBy}
              onChange={(e) => handleSortChange(e.target.value)}
              className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
            >
              <option value="name">Sort by Name</option>
              <option value="rating">Sort by Rating</option>
              <option value="reviews">Sort by Reviews</option>
            </select>
          </div>
          
          <div className="flex space-x-2">
            <Button
              onClick={handleFilter}
              loading={loading}
              className="flex-1"
            >
              Apply Filters
            </Button>
            <Button
              onClick={clearFilters}
              variant="outline"
              className="flex-1"
            >
              Clear
            </Button>
          </div>
        </div>
      </div>

      {/* Error Message */}
      {error && (
        <Alert type="error" className="mb-6">
          {error}
          <Button
            onClick={fetchRestaurants}
            variant="outline"
            size="sm"
            className="ml-4"
          >
            Try Again
          </Button>
        </Alert>
      )}

      {/* Restaurants Grid */}
      {loading ? (
        <div className="flex justify-center py-12">
          <Loader text="Loading restaurants..." />
        </div>
      ) : restaurants.length === 0 ? (
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurants found</h3>
          <p className="mt-1 text-gray-500">
            Try adjusting your search or filters
          </p>
          <Button
            onClick={clearFilters}
            className="mt-4"
          >
            Clear all filters
          </Button>
        </div>
      ) : (
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {restaurants.map(restaurant => (
            <RestaurantCard
              key={restaurant.id}
              restaurant={restaurant}
            />
          ))}
        </div>
      )}

      {/* Load More Button */}
      {restaurants.length > 0 && (
        <div className="mt-8 text-center">
          <Button
            onClick={fetchRestaurants}
            variant="outline"
            loading={loading}
          >
            Load More
          </Button>
        </div>
      )}
    </div>
  );
};

export default RestaurantList;
===== ./pages/customer/RestaurantDetail.jsx =====

import React, { useState, useEffect } from 'react';
import { useParams } from 'react-router-dom';
import { restaurantService } from '../../services/api/restaurants.js';
import { menuService } from '../../services/api/menu.js';
import { getRatingStars, formatCurrency } from '../../utils/helpers.js';
import MenuItemCard from '../../components/customer/MenuItemCard.jsx';
import Loader, { PageLoader } from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';

const RestaurantDetail = () => {
  const { id } = useParams();
  const [restaurant, setRestaurant] = useState(null);
  const [menuItems, setMenuItems] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [activeTab, setActiveTab] = useState('menu');

  useEffect(() => {
    fetchRestaurantDetails();
  }, [id]);

  const fetchRestaurantDetails = async () => {
    try {
      setLoading(true);
      setError('');
      
      const [restaurantRes, menuRes] = await Promise.all([
        restaurantService.getRestaurant(id),
        menuService.getMenuItems(id)
      ]);
      
      if (restaurantRes.success) {
        setRestaurant(restaurantRes.data);
      } else {
        setError('Failed to load restaurant details');
      }
      
      if (menuRes.success) {
        setMenuItems(menuRes.data);
      }
    } catch (err) {
      setError('An error occurred while loading restaurant details');
      console.error('Error fetching restaurant details:', err);
    } finally {
      setLoading(false);
    }
  };

  if (loading && !restaurant) {
    return <PageLoader />;
  }

  if (error) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <Alert type="error">
          {error}
          <Button
            onClick={fetchRestaurantDetails}
            variant="outline"
            size="sm"
            className="ml-4"
          >
            Try Again
          </Button>
        </Alert>
      </div>
    );
  }

  if (!restaurant) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">Restaurant not found</h3>
          <p className="mt-1 text-gray-500">
            The restaurant you're looking for doesn't exist or has been removed.
          </p>
        </div>
      </div>
    );
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      {/* Restaurant Header */}
      <div className="bg-white rounded-lg shadow-md overflow-hidden mb-8">
        <div className="md:flex">
          <div className="md:flex-shrink-0 md:w-1/3">
            <img
              src={restaurant.image_url || 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=300&fit=crop'}
              alt={restaurant.name}
              className="h-48 w-full object-cover md:h-full"
            />
          </div>
          <div className="p-6 md:w-2/3">
            <div className="flex flex-col md:flex-row md:items-start justify-between">
              <div>
                <h1 className="text-3xl font-bold text-gray-900 mb-2">{restaurant.name}</h1>
                <div className="flex items-center mb-4">
                  {restaurant.avg_rating > 0 ? (
                    <>
                      <div className="flex items-center">
                        {getRatingStars(restaurant.avg_rating).map(star => (
                          <svg
                            key={star.id}
                            className={`w-4 h-4 ${star.className}`}
                            fill="currentColor"
                            viewBox="0 0 20 20"
                          >
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                          </svg>
                        ))}
                        <span className="ml-2 font-medium">
                          {Number(restaurant.avg_rating || 0).toFixed(1)}
                        </span>
                      </div>
                      <span className="mx-2 text-gray-400">•</span>
                      <span className="text-gray-600">
                        {restaurant.review_count || 0} reviews
                      </span>
                    </>
                  ) : (
                    <span className="text-gray-500">No reviews yet</span>
                  )}
                </div>
              </div>
            </div>
            
            <div className="space-y-3">
              <div className="flex items-center text-gray-600">
                <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span>{restaurant.location}</span>
              </div>
              
              {restaurant.phone && (
                <div className="flex items-center text-gray-600">
                  <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                  </svg>
                  <span>{restaurant.phone}</span>
                </div>
              )}
              
              <div className="flex items-center text-gray-600">
                <svg className="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span>Open • Closes at 10:00 PM</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Tabs */}
      <div className="border-b border-gray-200 mb-6">
        <nav className="-mb-px flex space-x-8">
          <button
            onClick={() => setActiveTab('menu')}
            className={`py-2 px-1 border-b-2 font-medium text-sm ${
              activeTab === 'menu'
                ? 'border-blue-500 text-blue-600'
                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
            }`}
          >
            Menu
          </button>
          <button
            onClick={() => setActiveTab('reviews')}
            className={`py-2 px-1 border-b-2 font-medium text-sm ${
              activeTab === 'reviews'
                ? 'border-blue-500 text-blue-600'
                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
            }`}
          >
            Reviews ({restaurant.reviews?.length || 0})
          </button>
          <button
            onClick={() => setActiveTab('info')}
            className={`py-2 px-1 border-b-2 font-medium text-sm ${
              activeTab === 'info'
                ? 'border-blue-500 text-blue-600'
                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
            }`}
          >
            Info
          </button>
        </nav>
      </div>

      {/* Tab Content */}
      <div className="mt-6">
        {activeTab === 'menu' && (
          <div>
            <div className="flex justify-between items-center mb-6">
              <h2 className="text-2xl font-bold text-gray-900">Menu</h2>
              <span className="text-gray-600">
                {menuItems.length} items available
              </span>
            </div>
            
            {menuItems.length === 0 ? (
              <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                </svg>
                <h3 className="mt-2 text-lg font-medium text-gray-900">No menu items available</h3>
                <p className="mt-1 text-gray-500">
                  This restaurant hasn't added any menu items yet.
                </p>
              </div>
            ) : (
              <div className="space-y-4">
                {menuItems.map(item => (
                  <MenuItemCard
                    key={item.id}
                    item={item}
                    restaurant={restaurant}
                  />
                ))}
              </div>
            )}
          </div>
        )}
        
        {activeTab === 'reviews' && (
          <div>
            <div className="flex justify-between items-center mb-6">
              <h2 className="text-2xl font-bold text-gray-900">Customer Reviews</h2>
              <Button variant="outline" size="sm">
                Write a Review
              </Button>
            </div>
            
            {restaurant.reviews?.length === 0 ? (
              <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                </svg>
                <h3 className="mt-2 text-lg font-medium text-gray-900">No reviews yet</h3>
                <p className="mt-1 text-gray-500">
                  Be the first to review this restaurant!
                </p>
              </div>
            ) : (
              <div className="space-y-6">
                {restaurant.reviews?.map(review => (
                  <div key={review.id} className="bg-white rounded-lg shadow-sm p-6">
                    <div className="flex items-start justify-between mb-4">
                      <div>
                        <h4 className="font-medium">{review.user_name}</h4>
                        <div className="flex items-center mt-1">
                          <div className="flex">
                            {getRatingStars(review.rating).map(star => (
                              <svg
                                key={star.id}
                                className={`w-4 h-4 ${star.className}`}
                                fill="currentColor"
                                viewBox="0 0 20 20"
                              >
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                              </svg>
                            ))}
                          </div>
                          <span className="ml-2 text-sm text-gray-500">
                            {new Date(review.created_at).toLocaleDateString()}
                          </span>
                        </div>
                      </div>
                    </div>
                    {review.comment && (
                      <p className="text-gray-700">{review.comment}</p>
                    )}
                  </div>
                ))}
              </div>
            )}
          </div>
        )}
        
        {activeTab === 'info' && (
          <div className="bg-white rounded-lg shadow-sm p-6">
            <h2 className="text-2xl font-bold text-gray-900 mb-6">Restaurant Information</h2>
            
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h3 className="font-medium text-gray-900 mb-2">Contact Information</h3>
                <div className="space-y-2">
                  <div className="flex items-center">
                    <svg className="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    </svg>
                    <span>{restaurant.location}</span>
                  </div>
                  {restaurant.phone && (
                    <div className="flex items-center">
                      <svg className="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                      </svg>
                      <span>{restaurant.phone}</span>
                    </div>
                  )}
                </div>
              </div>
              
              <div>
                <h3 className="font-medium text-gray-900 mb-2">Hours of Operation</h3>
                <div className="space-y-1">
                  <div className="flex justify-between">
                    <span>Monday - Friday</span>
                    <span>10:00 AM - 10:00 PM</span>
                  </div>
                  <div className="flex justify-between">
                    <span>Saturday - Sunday</span>
                    <span>9:00 AM - 11:00 PM</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div className="mt-6">
              <h3 className="font-medium text-gray-900 mb-2">About</h3>
              <p className="text-gray-600">
                {restaurant.description || 'No description available.'}
              </p>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default RestaurantDetail;
===== ./pages/customer/Cart.jsx =====

import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useCart } from '../../hooks/useCart.js';
import { useAuth } from '../../hooks/useAuth.js';
import { formatCurrency } from '../../utils/helpers.js';
import CartItem from '../../components/customer/CartItem.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Cart = () => {
  const { cart, restaurant, getCartTotal, clearCart } = useCart();
  const { user, isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const [loading, setLoading] = useState(false);

  const handleCheckout = () => {
    if (!isAuthenticated) {
      navigate('/login', { state: { from: '/checkout' } });
      return;
    }
    
    if (cart.length === 0) {
      return;
    }
    
    navigate('/checkout');
  };

  const handleClearCart = () => {
    if (window.confirm('Are you sure you want to clear your cart?')) {
      clearCart();
    }
  };

  if (cart.length === 0) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">Your cart is empty</h3>
          <p className="mt-1 text-gray-500">
            Start adding items from your favorite restaurants!
          </p>
          <div className="mt-6">
            <Link
              to="/restaurants"
              className="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700"
            >
              Browse Restaurants
            </Link>
          </div>
        </div>
      </div>
    );
  }

  const subtotal = getCartTotal();
  const tax = subtotal * 0.1; // 10% tax
  const deliveryFee = 2.99;
  const total = subtotal + tax + deliveryFee;

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="flex justify-between items-center mb-8">
        <h1 className="text-3xl font-bold text-gray-900">Your Cart</h1>
        <Button
          onClick={handleClearCart}
          variant="outline"
          size="sm"
        >
          Clear Cart
        </Button>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        {/* Cart Items */}
        <div className="lg:col-span-2">
          <Card>
            <Card.Header>
              <div className="flex justify-between items-center">
                <h2 className="text-lg font-medium text-gray-900">
                  {restaurant?.name || 'Restaurant'}
                </h2>
                <Link
                  to={`/restaurants/${restaurant?.id}`}
                  className="text-sm text-blue-600 hover:text-blue-800"
                >
                  View Restaurant →
                </Link>
              </div>
            </Card.Header>
            
            <Card.Body>
              <div className="space-y-4">
                {cart.map(item => (
                  <CartItem key={item.id} item={item} />
                ))}
              </div>
            </Card.Body>
          </Card>
        </div>

        {/* Order Summary */}
        <div>
          <Card>
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">Order Summary</h2>
            </Card.Header>
            
            <Card.Body>
              <div className="space-y-4">
                <div className="flex justify-between">
                  <span className="text-gray-600">Subtotal</span>
                  <span className="font-medium">{formatCurrency(subtotal)}</span>
                </div>
                
                <div className="flex justify-between">
                  <span className="text-gray-600">Tax (10%)</span>
                  <span className="font-medium">{formatCurrency(tax)}</span>
                </div>
                
                <div className="flex justify-between">
                  <span className="text-gray-600">Delivery Fee</span>
                  <span className="font-medium">{formatCurrency(deliveryFee)}</span>
                </div>
                
                <div className="border-t pt-4">
                  <div className="flex justify-between text-lg font-bold">
                    <span>Total</span>
                    <span>{formatCurrency(total)}</span>
                  </div>
                </div>
              </div>
            </Card.Body>
            
            <Card.Footer>
              {!isAuthenticated && (
                <Alert type="warning" className="mb-4">
                  Please <Link to="/login" className="font-medium underline">sign in</Link> to proceed with checkout
                </Alert>
              )}
              
              <Button
                onClick={handleCheckout}
                loading={loading}
                disabled={!isAuthenticated}
                fullWidth
                size="lg"
              >
                {isAuthenticated ? 'Proceed to Checkout' : 'Sign in to Checkout'}
              </Button>
              
              <div className="mt-4 text-center">
                <Link
                  to="/restaurants"
                  className="text-sm text-blue-600 hover:text-blue-800"
                >
                  Continue Shopping
                </Link>
              </div>
            </Card.Footer>
          </Card>

          {/* Additional Info */}
          <div className="mt-6 p-4 bg-blue-50 rounded-lg">
            <h3 className="font-medium text-blue-900 mb-2">Delivery Information</h3>
            <p className="text-sm text-blue-700">
              {user?.address 
                ? `Delivery to: ${user.address}`
                : 'Please add your delivery address in your profile'
              }
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Cart;
===== ./pages/customer/Checkout.jsx =====

import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useCart } from '../../hooks/useCart.js';
import { useAuth } from '../../hooks/useAuth.js';
import { orderService } from '../../services/api/orders.js';
import { formatCurrency } from '../../utils/helpers.js';
import { ORDER_TYPE, PAYMENT_METHODS } from '../../utils/constants.js';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Checkout = () => {
  const { cart, restaurant, getCartTotal, clearCart } = useCart();
  const { user } = useAuth();
  const navigate = useNavigate();
  
  const [formData, setFormData] = useState({
    type: ORDER_TYPE.DELIVERY,
    payment_method: PAYMENT_METHODS.CASH,
    notes: ''
  });
  
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);
  const [orderSuccess, setOrderSuccess] = useState(false);
  const [createdOrder, setCreatedOrder] = useState(null);

  const subtotal = getCartTotal();
  const tax = subtotal * 0.1;
  const deliveryFee = formData.type === ORDER_TYPE.DELIVERY ? 2.99 : 0;
  const total = subtotal + tax + deliveryFee;

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
    
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  };

  const validateForm = () => {
    const newErrors = {};
    
    if (!formData.type) {
      newErrors.type = 'Order type is required';
    }
    
    if (!formData.payment_method) {
      newErrors.payment_method = 'Payment method is required';
    }
    
    return newErrors;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    if (cart.length === 0) {
      setErrors({ general: 'Your cart is empty' });
      return;
    }
    
    const validationErrors = validateForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    setLoading(true);
    setErrors({});
    
    try {
      const orderData = {
        restaurant_id: restaurant.id,
        items: cart.map(item => ({
          menu_item_id: item.id,
          quantity: item.quantity
        })),
        type: formData.type,
        payment_method: formData.payment_method,
        notes: formData.notes || null
      };
      
      const response = await orderService.createOrder(orderData);
      
      if (response.success) {
        setCreatedOrder(response.data);
        setOrderSuccess(true);
        clearCart();
      } else {
        setErrors({ general: response.message || 'Failed to create order' });
      }
    } catch (err) {
      setErrors({ 
        general: err.response?.data?.message || 'An error occurred while creating order' 
      });
    } finally {
      setLoading(false);
    }
  };

  if (cart.length === 0 && !orderSuccess) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">Your cart is empty</h3>
          <p className="mt-1 text-gray-500">
            Add items to your cart before checking out.
          </p>
          <div className="mt-6">
            <Button
              onClick={() => navigate('/restaurants')}
            >
              Browse Restaurants
            </Button>
          </div>
        </div>
      </div>
    );
  }

  if (orderSuccess && createdOrder) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="text-center py-12">
          <div className="inline-flex items-center justify-center h-16 w-16 rounded-full bg-green-100 text-green-600 mb-4">
            <svg className="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h1 className="text-3xl font-bold text-gray-900 mb-2">Order Confirmed!</h1>
          <p className="text-xl text-gray-600 mb-8">
            Your order #{createdOrder.id} has been placed successfully.
          </p>
          
          <Card className="max-w-lg mx-auto">
            <Card.Body>
              <div className="space-y-4">
                <div className="flex justify-between">
                  <span className="text-gray-600">Order Number:</span>
                  <span className="font-bold">#{createdOrder.id}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">Restaurant:</span>
                  <span className="font-medium">{createdOrder.restaurant_name}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">Order Type:</span>
                  <span className="font-medium capitalize">{createdOrder.type}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">Total Amount:</span>
                  <span className="font-bold text-lg">{formatCurrency(createdOrder.total_price)}</span>
                </div>
              </div>
              
              <div className="mt-8 pt-6 border-t">
                <p className="text-gray-600 mb-4">
                  You can track your order status from the orders page.
                </p>
                <div className="flex flex-col sm:flex-row gap-3">
                  <Button
                    onClick={() => navigate(`/orders/${createdOrder.id}`)}
                    variant="outline"
                    className="flex-1"
                  >
                    View Order Details
                  </Button>
                  <Button
                    onClick={() => navigate('/orders')}
                    className="flex-1"
                  >
                    Go to My Orders
                  </Button>
                </div>
              </div>
            </Card.Body>
          </Card>
        </div>
      </div>
    );
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="flex justify-between items-center mb-8">
        <h1 className="text-3xl font-bold text-gray-900">Checkout</h1>
        <Button
          onClick={() => navigate('/cart')}
          variant="outline"
          size="sm"
        >
          Back to Cart
        </Button>
      </div>

      {errors.general && (
        <Alert type="error" className="mb-6">
          {errors.general}
        </Alert>
      )}

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        {/* Order Details Form */}
        <div className="lg:col-span-2">
          <Card>
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">Order Details</h2>
            </Card.Header>
            
            <Card.Body>
              <form onSubmit={handleSubmit} className="space-y-6">
                {/* Order Type */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-3">
                    Order Type *
                  </label>
                  <div className="grid grid-cols-2 gap-3">
                    {Object.entries(ORDER_TYPE).map(([key, value]) => (
                      <div key={value} className="relative">
                        <input
                          id={`type-${value}`}
                          name="type"
                          type="radio"
                          value={value}
                          checked={formData.type === value}
                          onChange={handleChange}
                          className="sr-only"
                        />
                        <label
                          htmlFor={`type-${value}`}
                          className={`
                            flex flex-col items-center justify-center p-4 border rounded-lg cursor-pointer
                            ${formData.type === value 
                              ? 'border-blue-500 bg-blue-50' 
                              : 'border-gray-300 hover:bg-gray-50'
                            }
                          `}
                        >
                          <svg className={`h-6 w-6 mb-2 ${formData.type === value ? 'text-blue-600' : 'text-gray-400'}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            {value === ORDER_TYPE.DELIVERY ? (
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM12 8h.01M12 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            ) : (
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                            )}
                          </svg>
                          <span className="text-sm font-medium capitalize">
                            {value}
                          </span>
                        </label>
                      </div>
                    ))}
                  </div>
                  {errors.type && <p className="mt-1 text-sm text-red-600">{errors.type}</p>}
                </div>

                {/* Payment Method */}
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-3">
                    Payment Method *
                  </label>
                  <div className="grid grid-cols-3 gap-3">
                    {Object.entries(PAYMENT_METHODS).map(([key, value]) => (
                      <div key={value} className="relative">
                        <input
                          id={`payment-${value}`}
                          name="payment_method"
                          type="radio"
                          value={value}
                          checked={formData.payment_method === value}
                          onChange={handleChange}
                          className="sr-only"
                        />
                        <label
                          htmlFor={`payment-${value}`}
                          className={`
                            flex flex-col items-center justify-center p-3 border rounded-lg cursor-pointer
                            ${formData.payment_method === value 
                              ? 'border-blue-500 bg-blue-50' 
                              : 'border-gray-300 hover:bg-gray-50'
                            }
                          `}
                        >
                          <span className="text-sm font-medium capitalize">
                            {value}
                          </span>
                        </label>
                      </div>
                    ))}
                  </div>
                  {errors.payment_method && <p className="mt-1 text-sm text-red-600">{errors.payment_method}</p>}
                </div>

                {/* Delivery Address */}
                {formData.type === ORDER_TYPE.DELIVERY && (
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-2">
                      Delivery Address
                    </label>
                    <div className="bg-gray-50 p-4 rounded-lg">
                      <p className="text-gray-900">{user?.address || 'No address provided'}</p>
                      <p className="text-sm text-gray-600 mt-1">
                        {!user?.address && 'Please update your address in your profile'}
                      </p>
                    </div>
                  </div>
                )}

                {/* Special Instructions */}
                <div>
                  <label htmlFor="notes" className="block text-sm font-medium text-gray-700 mb-2">
                    Special Instructions (Optional)
                  </label>
                  <textarea
                    id="notes"
                    name="notes"
                    rows={3}
                    value={formData.notes}
                    onChange={handleChange}
                    className="block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                    placeholder="Any special requests or instructions for your order..."
                  />
                </div>
              </form>
            </Card.Body>
          </Card>
        </div>

        {/* Order Summary */}
        <div>
          <Card>
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">Order Summary</h2>
            </Card.Header>
            
            <Card.Body>
              <div className="space-y-4">
                {/* Restaurant Info */}
                <div className="pb-4 border-b">
                  <h3 className="font-medium text-gray-900 mb-2">{restaurant?.name}</h3>
                  <p className="text-sm text-gray-600">{restaurant?.location}</p>
                </div>
                
                {/* Cart Items */}
                <div className="max-h-64 overflow-y-auto">
                  {cart.map(item => (
                    <div key={item.id} className="flex justify-between py-2">
                      <div>
                        <span className="font-medium">{item.quantity}x</span>
                        <span className="ml-2">{item.name}</span>
                      </div>
                      <div>{formatCurrency(item.price * item.quantity)}</div>
                    </div>
                  ))}
                </div>
                
                {/* Totals */}
                <div className="border-t pt-4 space-y-2">
                  <div className="flex justify-between">
                    <span className="text-gray-600">Subtotal</span>
                    <span>{formatCurrency(subtotal)}</span>
                  </div>
                  <div className="flex justify-between">
                    <span className="text-gray-600">Tax (10%)</span>
                    <span>{formatCurrency(tax)}</span>
                  </div>
                  {formData.type === ORDER_TYPE.DELIVERY && (
                    <div className="flex justify-between">
                      <span className="text-gray-600">Delivery Fee</span>
                      <span>{formatCurrency(deliveryFee)}</span>
                    </div>
                  )}
                  <div className="flex justify-between text-lg font-bold pt-2 border-t">
                    <span>Total</span>
                    <span>{formatCurrency(total)}</span>
                  </div>
                </div>
              </div>
            </Card.Body>
            
            <Card.Footer>
              <Button
                onClick={handleSubmit}
                loading={loading}
                disabled={cart.length === 0}
                fullWidth
                size="lg"
              >
                Place Order
              </Button>
              <p className="mt-2 text-xs text-gray-500 text-center">
                By placing this order, you agree to our terms and conditions.
              </p>
            </Card.Footer>
          </Card>
        </div>
      </div>
    </div>
  );
};

export default Checkout;
===== ./pages/customer/Orders.jsx =====

import React, { useState, useEffect } from 'react';
import { orderService } from '../../services/api/orders.js';
import OrderCard from '../../components/customer/OrderCard.jsx';
import Loader, { PageLoader } from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Input from '../../components/ui/Input.jsx';

const Orders = () => {
  const [orders, setOrders] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [search, setSearch] = useState('');
  const [statusFilter, setStatusFilter] = useState('');

  useEffect(() => {
    fetchOrders();
  }, []);

  const fetchOrders = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await orderService.getMyOrders();
      
      if (response.success) {
        setOrders(response.data);
      } else {
        setError('Failed to load orders');
      }
    } catch (err) {
      setError('An error occurred while loading orders');
      console.error('Error fetching orders:', err);
    } finally {
      setLoading(false);
    }
  };

  const filteredOrders = orders.filter(order => {
    if (search && !order.restaurant_name?.toLowerCase().includes(search.toLowerCase())) {
      return false;
    }
    if (statusFilter && order.status !== statusFilter) {
      return false;
    }
    return true;
  });

  const getStatusCount = (status) => {
    return orders.filter(order => order.status === status).length;
  };

  if (loading && !orders.length) {
    return <PageLoader />;
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-2">My Orders</h1>
        <p className="text-gray-600">
          Track and manage your food orders
        </p>
      </div>

      {/* Stats */}
      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
        <div className="bg-white rounded-lg shadow-sm p-4">
          <div className="text-2xl font-bold text-gray-900">{orders.length}</div>
          <div className="text-sm text-gray-600">Total Orders</div>
        </div>
        <div className="bg-white rounded-lg shadow-sm p-4">
          <div className="text-2xl font-bold text-green-600">{getStatusCount('delivered')}</div>
          <div className="text-sm text-gray-600">Delivered</div>
        </div>
        <div className="bg-white rounded-lg shadow-sm p-4">
          <div className="text-2xl font-bold text-blue-600">{getStatusCount('preparing') + getStatusCount('ready') + getStatusCount('on_the_way')}</div>
          <div className="text-sm text-gray-600">In Progress</div>
        </div>
        <div className="bg-white rounded-lg shadow-sm p-4">
          <div className="text-2xl font-bold text-red-600">{getStatusCount('cancelled')}</div>
          <div className="text-sm text-gray-600">Cancelled</div>
        </div>
      </div>

      {/* Filters */}
      <div className="bg-white rounded-lg shadow-md p-6 mb-8">
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <Input
              placeholder="Search by restaurant..."
              value={search}
              onChange={(e) => setSearch(e.target.value)}
              leftIcon={
                <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
              }
            />
          </div>
          
          <div>
            <select
              value={statusFilter}
              onChange={(e) => setStatusFilter(e.target.value)}
              className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
            >
              <option value="">All Status</option>
              <option value="pending">Pending</option>
              <option value="accepted">Accepted</option>
              <option value="preparing">Preparing</option>
              <option value="ready">Ready</option>
              <option value="on_the_way">On the way</option>
              <option value="delivered">Delivered</option>
              <option value="cancelled">Cancelled</option>
            </select>
          </div>
          
          <div className="flex space-x-2">
            <Button
              onClick={fetchOrders}
              loading={loading}
              className="flex-1"
            >
              Refresh
            </Button>
            <Button
              onClick={() => {
                setSearch('');
                setStatusFilter('');
              }}
              variant="outline"
              className="flex-1"
              disabled={!search && !statusFilter}
            >
              Clear Filters
            </Button>
          </div>
        </div>
      </div>

      {/* Error Message */}
      {error && (
        <Alert type="error" className="mb-6">
          {error}
          <Button
            onClick={fetchOrders}
            variant="outline"
            size="sm"
            className="ml-4"
          >
            Try Again
          </Button>
        </Alert>
      )}

      {/* Orders List */}
      {loading ? (
        <div className="flex justify-center py-12">
          <Loader text="Loading orders..." />
        </div>
      ) : filteredOrders.length === 0 ? (
        <div className="text-center py-12">
          <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
          </svg>
          <h3 className="mt-2 text-lg font-medium text-gray-900">No orders found</h3>
          <p className="mt-1 text-gray-500">
            {orders.length === 0 
              ? "You haven't placed any orders yet." 
              : "No orders match your filters."}
          </p>
          {orders.length === 0 && (
            <Button
              onClick={() => window.location.href = '/restaurants'}
              className="mt-4"
            >
              Order Now
            </Button>
          )}
        </div>
      ) : (
        <div className="space-y-6">
          {filteredOrders.map(order => (
            <OrderCard key={order.id} order={order} />
          ))}
        </div>
      )}

      {/* Pagination */}
      {filteredOrders.length > 0 && (
        <div className="mt-8 flex justify-center">
          <nav className="flex items-center space-x-2">
            <button className="px-3 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
              Previous
            </button>
            <button className="px-3 py-2 rounded-lg bg-blue-600 text-white">
              1
            </button>
            <button className="px-3 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
              2
            </button>
            <button className="px-3 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
              Next
            </button>
          </nav>
        </div>
      )}
    </div>
  );
};

export default Orders;
===== ./pages/customer/Profile.jsx =====

import React, { useState, useEffect } from 'react';
import { useAuth } from '../../hooks/useAuth.js';
import { authService } from '../../services/api/auth.js';
import Input from '../../components/ui/Input.jsx';
import Button from '../../components/ui/Button.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Card from '../../components/ui/Card.jsx';

const Profile = () => {
  const { user, updateUser } = useAuth();
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    phone: '',
    address: '',
    currentPassword: '',
    newPassword: '',
    confirmPassword: ''
  });
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);
  const [successMessage, setSuccessMessage] = useState('');
  const [activeTab, setActiveTab] = useState('profile');

  useEffect(() => {
    if (user) {
      setFormData({
        name: user.name || '',
        email: user.email || '',
        phone: user.phone || '',
        address: user.address || '',
        currentPassword: '',
        newPassword: '',
        confirmPassword: ''
      });
    }
  }, [user]);

  const validateProfileForm = () => {
    const newErrors = {};
    
    if (!formData.name.trim()) {
      newErrors.name = 'Name is required';
    }
    
    if (!formData.email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = 'Email is invalid';
    }
    
    return newErrors;
  };

  const validatePasswordForm = () => {
    const newErrors = {};
    
    if (formData.newPassword && formData.newPassword.length < 6) {
      newErrors.newPassword = 'Password must be at least 6 characters';
    }
    
    if (formData.newPassword !== formData.confirmPassword) {
      newErrors.confirmPassword = 'Passwords do not match';
    }
    
    return newErrors;
  };

  const handleProfileUpdate = async (e) => {
    e.preventDefault();
    
    const validationErrors = validateProfileForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    setLoading(true);
    setErrors({});
    setSuccessMessage('');
    
    try {
      // In a real app, you would have an API endpoint to update user profile
      // For now, we'll just update the local state
      const updatedUser = {
        ...user,
        name: formData.name,
        email: formData.email,
        phone: formData.phone,
        address: formData.address
      };
      
      updateUser(updatedUser);
      setSuccessMessage('Profile updated successfully!');
    } catch (err) {
      setErrors({ general: 'Failed to update profile' });
    } finally {
      setLoading(false);
    }
  };

  const handlePasswordUpdate = async (e) => {
    e.preventDefault();
    
    const validationErrors = validatePasswordForm();
    if (Object.keys(validationErrors).length > 0) {
      setErrors(validationErrors);
      return;
    }
    
    if (!formData.currentPassword) {
      setErrors({ currentPassword: 'Current password is required' });
      return;
    }
    
    setLoading(true);
    setErrors({});
    setSuccessMessage('');
    
    try {
      // In a real app, you would call an API to change password
      // For now, we'll just show a success message
      setSuccessMessage('Password updated successfully!');
      
      // Clear password fields
      setFormData(prev => ({
        ...prev,
        currentPassword: '',
        newPassword: '',
        confirmPassword: ''
      }));
    } catch (err) {
      setErrors({ general: 'Failed to update password' });
    } finally {
      setLoading(false);
    }
  };

  if (!user) {
    return (
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <Alert type="warning">
          Please sign in to view your profile.
        </Alert>
      </div>
    );
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-2">My Profile</h1>
        <p className="text-gray-600">
          Manage your account settings and preferences
        </p>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-4 gap-8">
        {/* Sidebar */}
        <div className="lg:col-span-1">
          <Card>
            <div className="space-y-1">
              <button
                onClick={() => setActiveTab('profile')}
                className={`w-full text-left px-4 py-3 rounded-lg ${
                  activeTab === 'profile'
                    ? 'bg-blue-50 text-blue-700'
                    : 'text-gray-700 hover:bg-gray-50'
                }`}
              >
                Profile Information
              </button>
              <button
                onClick={() => setActiveTab('password')}
                className={`w-full text-left px-4 py-3 rounded-lg ${
                  activeTab === 'password'
                    ? 'bg-blue-50 text-blue-700'
                    : 'text-gray-700 hover:bg-gray-50'
                }`}
              >
                Change Password
              </button>
              <button
                onClick={() => setActiveTab('orders')}
                className={`w-full text-left px-4 py-3 rounded-lg ${
                  activeTab === 'orders'
                    ? 'bg-blue-50 text-blue-700'
                    : 'text-gray-700 hover:bg-gray-50'
                }`}
              >
                Order History
              </button>
            </div>
          </Card>
        </div>

        {/* Content */}
        <div className="lg:col-span-3">
          {successMessage && (
            <Alert type="success" className="mb-6">
              {successMessage}
            </Alert>
          )}

          {errors.general && (
            <Alert type="error" className="mb-6">
              {errors.general}
            </Alert>
          )}

          {activeTab === 'profile' && (
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Profile Information</h2>
              </Card.Header>
              
              <Card.Body>
                <form onSubmit={handleProfileUpdate} className="space-y-6">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <Input
                      label="Full Name *"
                      name="name"
                      value={formData.name}
                      onChange={(e) => {
                        setFormData(prev => ({ ...prev, name: e.target.value }));
                        if (errors.name) setErrors(prev => ({ ...prev, name: '' }));
                      }}
                      error={errors.name}
                      placeholder="John Doe"
                      required
                    />
                    
                    <Input
                      label="Email Address *"
                      name="email"
                      type="email"
                      value={formData.email}
                      onChange={(e) => {
                        setFormData(prev => ({ ...prev, email: e.target.value }));
                        if (errors.email) setErrors(prev => ({ ...prev, email: '' }));
                      }}
                      error={errors.email}
                      placeholder="you@example.com"
                      required
                    />
                    
                    <Input
                      label="Phone Number"
                      name="phone"
                      type="tel"
                      value={formData.phone}
                      onChange={(e) => setFormData(prev => ({ ...prev, phone: e.target.value }))}
                      placeholder="+1 (555) 123-4567"
                    />
                    
                    <Input
                      label="Address"
                      name="address"
                      value={formData.address}
                      onChange={(e) => setFormData(prev => ({ ...prev, address: e.target.value }))}
                      placeholder="123 Main St, City, Country"
                    />
                  </div>
                  
                  <div className="flex justify-end">
                    <Button
                      type="submit"
                      loading={loading}
                    >
                      Update Profile
                    </Button>
                  </div>
                </form>
              </Card.Body>
            </Card>
          )}

          {activeTab === 'password' && (
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Change Password</h2>
              </Card.Header>
              
              <Card.Body>
                <form onSubmit={handlePasswordUpdate} className="space-y-6">
                  <Input
                    label="Current Password *"
                    name="currentPassword"
                    type="password"
                    value={formData.currentPassword}
                    onChange={(e) => {
                      setFormData(prev => ({ ...prev, currentPassword: e.target.value }));
                      if (errors.currentPassword) setErrors(prev => ({ ...prev, currentPassword: '' }));
                    }}
                    error={errors.currentPassword}
                    placeholder="••••••••"
                    required
                  />
                  
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <Input
                      label="New Password"
                      name="newPassword"
                      type="password"
                      value={formData.newPassword}
                      onChange={(e) => {
                        setFormData(prev => ({ ...prev, newPassword: e.target.value }));
                        if (errors.newPassword) setErrors(prev => ({ ...prev, newPassword: '' }));
                      }}
                      error={errors.newPassword}
                      placeholder="••••••••"
                    />
                    
                    <Input
                      label="Confirm New Password"
                      name="confirmPassword"
                      type="password"
                      value={formData.confirmPassword}
                      onChange={(e) => {
                        setFormData(prev => ({ ...prev, confirmPassword: e.target.value }));
                        if (errors.confirmPassword) setErrors(prev => ({ ...prev, confirmPassword: '' }));
                      }}
                      error={errors.confirmPassword}
                      placeholder="••••••••"
                    />
                  </div>
                  
                  <div className="flex justify-end">
                    <Button
                      type="submit"
                      loading={loading}
                    >
                      Change Password
                    </Button>
                  </div>
                </form>
              </Card.Body>
            </Card>
          )}

          {activeTab === 'orders' && (
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Order History</h2>
              </Card.Header>
              
              <Card.Body>
                <p className="text-gray-600">
                  Your order history will appear here. You can view detailed information about each order,
                  track current orders, and reorder your favorite meals.
                </p>
                <div className="mt-4">
                  <Button
                    onClick={() => window.location.href = '/orders'}
                  >
                    View All Orders
                  </Button>
                </div>
              </Card.Body>
            </Card>
          )}
        </div>
      </div>
    </div>
  );
};

export default Profile;
===== ./pages/restaurant/Dashboard.jsx =====

import React, { useState, useEffect } from 'react';
import { restaurantService } from '../../services/api/restaurants.js';
import { orderService } from '../../services/api/orders.js';
import { formatCurrency, formatDate, getStatusColor, getStatusText } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Card from '../../components/ui/Card.jsx';

const RestaurantDashboard = () => {
  const [restaurant, setRestaurant] = useState(null);
  const [orders, setOrders] = useState([]);
  const [stats, setStats] = useState({
    totalOrders: 0,
    pendingOrders: 0,
    revenue: 0,
    avgRating: 0
  });
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      setLoading(true);
      setError('');
      
      const [restaurantRes, ordersRes] = await Promise.all([
        restaurantService.getMyRestaurant(),
        orderService.getMyOrders()
      ]);
      
      if (restaurantRes.success) {
        setRestaurant(restaurantRes.data);
      } else {
        setError('Failed to load restaurant data');
      }
      
      if (ordersRes.success) {
        setOrders(ordersRes.data);
        
        // Calculate stats
        const totalOrders = ordersRes.data.length;
        const pendingOrders = ordersRes.data.filter(o => 
          ['pending', 'accepted', 'preparing', 'ready'].includes(o.status)
        ).length;
        const revenue = ordersRes.data
          .filter(o => o.status === 'delivered')
          .reduce((sum, o) => sum + o.total_price, 0);
        
        setStats({
          totalOrders,
          pendingOrders,
          revenue,
          avgRating: restaurantRes.data?.avg_rating || 0
        });
      }
    } catch (err) {
      setError('An error occurred while loading dashboard data');
      console.error('Error fetching dashboard data:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleStatusUpdate = async (orderId, newStatus) => {
    try {
      const response = await orderService.updateOrderStatus(orderId, { status: newStatus });
      
      if (response.success) {
        // Update local state
        setOrders(prev => prev.map(order =>
          order.id === orderId ? { ...order, status: newStatus } : order
        ));
      }
    } catch (err) {
      console.error('Error updating order status:', err);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading dashboard..." />
          </div>
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Alert type="error">
              {error}
              <Button
                onClick={fetchDashboardData}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          </div>
        </div>
      </div>
    );
  }

  if (!restaurant) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div className="text-center py-12">
              <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurant found</h3>
              <p className="mt-1 text-gray-500">
                You haven't registered a restaurant yet.
              </p>
              <div className="mt-6">
                <Button
                  onClick={() => window.location.href = '/restaurant/register'}
                >
                  Register Restaurant
                </Button>
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  const recentOrders = orders.slice(0, 5);

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">Dashboard</h1>
            <p className="text-gray-600">
              Welcome back, {restaurant.name}!
            </p>
          </div>

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-blue-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.totalOrders}</div>
                    <div className="text-sm text-gray-600">Total Orders</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-yellow-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.pendingOrders}</div>
                    <div className="text-sm text-gray-600">Pending Orders</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-green-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{formatCurrency(stats.revenue)}</div>
                    <div className="text-sm text-gray-600">Total Revenue</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-purple-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.avgRating.toFixed(1)}</div>
                    <div className="text-sm text-gray-600">Average Rating</div>
                  </div>
                </div>
              </Card.Body>
            </Card>
          </div>

          {/* Recent Orders */}
          <Card className="mb-8">
            <Card.Header className="flex justify-between items-center">
              <h2 className="text-lg font-medium text-gray-900">Recent Orders</h2>
              <Button
                onClick={() => window.location.href = '/restaurant/orders'}
                variant="outline"
                size="sm"
              >
                View All
              </Button>
            </Card.Header>
            
            <Card.Body>
              {recentOrders.length === 0 ? (
                <div className="text-center py-8">
                  <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  <h3 className="mt-2 text-lg font-medium text-gray-900">No recent orders</h3>
                  <p className="mt-1 text-gray-500">
                    You haven't received any orders yet.
                  </p>
                </div>
              ) : (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead>
                      <tr>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Order ID
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Customer
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Amount
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Status
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Date
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-gray-200">
                      {recentOrders.map(order => (
                        <tr key={order.id}>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                            #{order.id}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {order.customer_name}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-900">
                            {formatCurrency(order.total_price)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}>
                              {getStatusText(order.status)}
                            </span>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {formatDate(order.created_at)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium">
                            <select
                              value={order.status}
                              onChange={(e) => handleStatusUpdate(order.id, e.target.value)}
                              className="text-sm border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                            >
                              <option value="pending">Pending</option>
                              <option value="accepted">Accepted</option>
                              <option value="preparing">Preparing</option>
                              <option value="ready">Ready</option>
                              <option value="cancelled">Cancelled</option>
                            </select>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              )}
            </Card.Body>
          </Card>

          {/* Restaurant Info */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Restaurant Information</h2>
              </Card.Header>
              
              <Card.Body>
                <div className="space-y-4">
                  <div>
                    <h3 className="text-sm font-medium text-gray-500">Restaurant Name</h3>
                    <p className="mt-1 text-lg font-medium">{restaurant.name}</p>
                  </div>
                  
                  <div>
                    <h3 className="text-sm font-medium text-gray-500">Location</h3>
                    <p className="mt-1">{restaurant.location}</p>
                  </div>
                  
                  {restaurant.phone && (
                    <div>
                      <h3 className="text-sm font-medium text-gray-500">Phone</h3>
                      <p className="mt-1">{restaurant.phone}</p>
                    </div>
                  )}
                  
                  <div>
                    <h3 className="text-sm font-medium text-gray-500">Menu Items</h3>
                    <p className="mt-1">{restaurant.menu_items?.length || 0} items</p>
                  </div>
                </div>
                
                <div className="mt-6">
                  <Button
                    onClick={() => window.location.href = '/restaurant/settings'}
                    variant="outline"
                    className="w-full"
                  >
                    Edit Restaurant Info
                  </Button>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Quick Actions</h2>
              </Card.Header>
              
              <Card.Body>
                <div className="space-y-3">
                  <Button
                    onClick={() => window.location.href = '/restaurant/menu'}
                    variant="outline"
                    className="w-full justify-start"
                  >
                    <svg className="mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                    </svg>
                    Add Menu Item
                  </Button>
                  
                  <Button
                    onClick={() => window.location.href = '/restaurant/orders'}
                    variant="outline"
                    className="w-full justify-start"
                  >
                    <svg className="mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                    View All Orders
                  </Button>
                  
                  <Button
                    onClick={() => window.location.href = '/restaurant/menu'}
                    variant="outline"
                    className="w-full justify-start"
                  >
                    <svg className="mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                    </svg>
                    Manage Menu
                  </Button>
                </div>
              </Card.Body>
            </Card>
          </div>
        </div>
      </div>
    </div>
  );
};

export default RestaurantDashboard;
===== ./pages/restaurant/Menu.jsx =====

import React, { useState, useEffect } from 'react';
import { restaurantService } from '../../services/api/restaurants.js';
import { menuService } from '../../services/api/menu.js';
import { formatCurrency } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import MenuItemForm from '../../components/restaurant/MenuItemForm.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Modal from '../../components/ui/Modal.jsx';
import Card from '../../components/ui/Card.jsx';

const RestaurantMenu = () => {
  const [restaurant, setRestaurant] = useState(null);
  const [menuItems, setMenuItems] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [showAddModal, setShowAddModal] = useState(false);
  const [editingItem, setEditingItem] = useState(null);
  const [deleteConfirm, setDeleteConfirm] = useState(null);

  useEffect(() => {
    fetchMenuData();
  }, []);

  const fetchMenuData = async () => {
    try {
      setLoading(true);
      setError('');
      
      const restaurantRes = await restaurantService.getMyRestaurant();
      
      if (restaurantRes.success) {
        setRestaurant(restaurantRes.data);
        setMenuItems(restaurantRes.data.menu_items || []);
      } else {
        setError('Failed to load restaurant menu');
      }
    } catch (err) {
      setError('An error occurred while loading menu data');
      console.error('Error fetching menu data:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleAddItem = async (itemData) => {
    try {
      const response = await menuService.createMenuItem(itemData);
      
      if (response.success) {
        setMenuItems(prev => [response.data, ...prev]);
        setShowAddModal(false);
        return { success: true };
      } else {
        return { success: false, message: response.message };
      }
    } catch (err) {
      return { 
        success: false, 
        message: err.response?.data?.message || 'Failed to create menu item' 
      };
    }
  };

  const handleUpdateItem = async (itemData) => {
    try {
      const response = await menuService.updateMenuItem(editingItem.id, itemData);
      
      if (response.success) {
        setMenuItems(prev => prev.map(item =>
          item.id === editingItem.id ? { ...item, ...itemData } : item
        ));
        setEditingItem(null);
        return { success: true };
      } else {
        return { success: false, message: response.message };
      }
    } catch (err) {
      return { 
        success: false, 
        message: err.response?.data?.message || 'Failed to update menu item' 
      };
    }
  };

  const handleDeleteItem = async (itemId) => {
    try {
      const response = await menuService.deleteMenuItem(itemId);
      
      if (response.success) {
        setMenuItems(prev => prev.filter(item => item.id !== itemId));
        setDeleteConfirm(null);
      }
    } catch (err) {
      console.error('Error deleting menu item:', err);
    }
  };

  const toggleAvailability = async (item) => {
    try {
      const updatedItem = { ...item, availability: !item.availability };
      const response = await menuService.updateMenuItem(item.id, updatedItem);
      
      if (response.success) {
        setMenuItems(prev => prev.map(i =>
          i.id === item.id ? { ...i, availability: !i.availability } : i
        ));
      }
    } catch (err) {
      console.error('Error toggling availability:', err);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading menu..." />
          </div>
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Alert type="error">
              {error}
              <Button
                onClick={fetchMenuData}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          </div>
        </div>
      </div>
    );
  }

  if (!restaurant) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div className="text-center py-12">
              <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
              <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurant found</h3>
              <p className="mt-1 text-gray-500">
                You need to register a restaurant first.
              </p>
            </div>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="flex justify-between items-center mb-8">
            <div>
              <h1 className="text-3xl font-bold text-gray-900">Menu Management</h1>
              <p className="text-gray-600">
                Manage your restaurant's menu items
              </p>
            </div>
            <Button
              onClick={() => setShowAddModal(true)}
            >
              <svg className="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
              </svg>
              Add Menu Item
            </Button>
          </div>

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-gray-900">{menuItems.length}</div>
                  <div className="text-sm text-gray-600">Total Items</div>
                </div>
              </Card.Body>
            </Card>
            
            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-green-600">
                    {menuItems.filter(item => item.availability).length}
                  </div>
                  <div className="text-sm text-gray-600">Available Items</div>
                </div>
              </Card.Body>
            </Card>
            
            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-red-600">
                    {menuItems.filter(item => !item.availability).length}
                  </div>
                  <div className="text-sm text-gray-600">Unavailable Items</div>
                </div>
              </Card.Body>
            </Card>
          </div>

          {/* Menu Items */}
          {menuItems.length === 0 ? (
            <Card>
              <Card.Body>
                <div className="text-center py-12">
                  <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  <h3 className="mt-2 text-lg font-medium text-gray-900">No menu items yet</h3>
                  <p className="mt-1 text-gray-500">
                    Get started by adding your first menu item.
                  </p>
                  <Button
                    onClick={() => setShowAddModal(true)}
                    className="mt-4"
                  >
                    Add Your First Item
                  </Button>
                </div>
              </Card.Body>
            </Card>
          ) : (
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {menuItems.map(item => (
                <Card key={item.id}>
                  {item.image_url && (
                    <img
                      src={item.image_url}
                      alt={item.name}
                      className="w-full h-48 object-cover rounded-t-lg"
                    />
                  )}
                  
                  <Card.Body>
                    <div className="flex justify-between items-start mb-2">
                      <h3 className="font-bold text-lg">{item.name}</h3>
                      <span className="font-bold">{formatCurrency(item.price)}</span>
                    </div>
                    
                    {item.description && (
                      <p className="text-gray-600 text-sm mb-4">{item.description}</p>
                    )}
                    
                    <div className="flex items-center justify-between">
                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${
                        item.availability 
                          ? 'bg-green-100 text-green-800' 
                          : 'bg-red-100 text-red-800'
                      }`}>
                        {item.availability ? 'Available' : 'Unavailable'}
                      </span>
                      
                      <div className="flex space-x-2">
                        <button
                          onClick={() => toggleAvailability(item)}
                          className="text-sm text-gray-600 hover:text-gray-900"
                        >
                          {item.availability ? 'Make Unavailable' : 'Make Available'}
                        </button>
                        
                        <button
                          onClick={() => setEditingItem(item)}
                          className="text-sm text-blue-600 hover:text-blue-900"
                        >
                          Edit
                        </button>
                        
                        <button
                          onClick={() => setDeleteConfirm(item)}
                          className="text-sm text-red-600 hover:text-red-900"
                        >
                          Delete
                        </button>
                      </div>
                    </div>
                  </Card.Body>
                </Card>
              ))}
            </div>
          )}

          {/* Add Menu Item Modal */}
          <Modal
            isOpen={showAddModal}
            onClose={() => setShowAddModal(false)}
            title="Add Menu Item"
            size="lg"
          >
            <MenuItemForm
              onSubmit={async (data) => {
                const result = await handleAddItem({
                  ...data,
                  restaurant_id: restaurant.id
                });
                if (result.success) {
                  setShowAddModal(false);
                }
                return result;
              }}
              onCancel={() => setShowAddModal(false)}
            />
          </Modal>

          {/* Edit Menu Item Modal */}
          <Modal
            isOpen={!!editingItem}
            onClose={() => setEditingItem(null)}
            title="Edit Menu Item"
            size="lg"
          >
            {editingItem && (
              <MenuItemForm
                item={editingItem}
                onSubmit={async (data) => {
                  const result = await handleUpdateItem(data);
                  if (result.success) {
                    setEditingItem(null);
                  }
                  return result;
                }}
                onCancel={() => setEditingItem(null)}
              />
            )}
          </Modal>

          {/* Delete Confirmation Modal */}
          <Modal
            isOpen={!!deleteConfirm}
            onClose={() => setDeleteConfirm(null)}
            title="Delete Menu Item"
            size="sm"
          >
            {deleteConfirm && (
              <div>
                <p className="text-gray-600 mb-6">
                  Are you sure you want to delete "{deleteConfirm.name}"? This action cannot be undone.
                </p>
                <div className="flex justify-end space-x-3">
                  <Button
                    onClick={() => setDeleteConfirm(null)}
                    variant="outline"
                  >
                    Cancel
                  </Button>
                  <Button
                    onClick={() => handleDeleteItem(deleteConfirm.id)}
                    variant="danger"
                  >
                    Delete
                  </Button>
                </div>
              </div>
            )}
          </Modal>
        </div>
      </div>
    </div>
  );
};

export default RestaurantMenu;
===== ./pages/restaurant/RestaurantOrders.jsx =====

import React, { useState, useEffect } from 'react';
import { orderService } from '../../services/api/orders.js';
import { formatCurrency, formatDate, getStatusColor, getStatusText } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Modal from '../../components/ui/Modal.jsx';
import Card from '../../components/ui/Card.jsx';
import Input from '../../components/ui/Input.jsx';

const RestaurantOrders = () => {
  const [orders, setOrders] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [selectedOrder, setSelectedOrder] = useState(null);
  const [search, setSearch] = useState('');
  const [statusFilter, setStatusFilter] = useState('');
  const [dateFilter, setDateFilter] = useState('');

  useEffect(() => {
    fetchOrders();
  }, []);

  const fetchOrders = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await orderService.getMyOrders();
      
      if (response.success) {
        setOrders(response.data);
      } else {
        setError('Failed to load orders');
      }
    } catch (err) {
      setError('An error occurred while loading orders');
      console.error('Error fetching orders:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleStatusUpdate = async (orderId, newStatus) => {
    try {
      const response = await orderService.updateOrderStatus(orderId, { status: newStatus });
      
      if (response.success) {
        // Update local state
        setOrders(prev => prev.map(order =>
          order.id === orderId ? { ...order, status: newStatus } : order
        ));
        
        if (selectedOrder?.id === orderId) {
          setSelectedOrder(prev => ({ ...prev, status: newStatus }));
        }
      }
    } catch (err) {
      console.error('Error updating order status:', err);
    }
  };

  const filteredOrders = orders.filter(order => {
    if (search && !order.customer_name?.toLowerCase().includes(search.toLowerCase())) {
      return false;
    }
    if (statusFilter && order.status !== statusFilter) {
      return false;
    }
    if (dateFilter) {
      const orderDate = new Date(order.created_at).toISOString().split('T')[0];
      return orderDate === dateFilter;
    }
    return true;
  });

  const getStatusCount = (status) => {
    return orders.filter(order => order.status === status).length;
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading orders..." />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">Restaurant Orders</h1>
            <p className="text-gray-600">
              Manage and track all orders from your restaurant
            </p>
          </div>

          {error && (
            <Alert type="error" className="mb-6">
              {error}
              <Button
                onClick={fetchOrders}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          )}

          {/* Stats */}
          <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold">{orders.length}</div>
                <div className="text-sm text-gray-600">Total</div>
              </Card.Body>
            </Card>
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold text-yellow-600">{getStatusCount('pending')}</div>
                <div className="text-sm text-gray-600">Pending</div>
              </Card.Body>
            </Card>
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold text-blue-600">{getStatusCount('accepted') + getStatusCount('preparing')}</div>
                <div className="text-sm text-gray-600">In Progress</div>
              </Card.Body>
            </Card>
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold text-green-600">{getStatusCount('ready')}</div>
                <div className="text-sm text-gray-600">Ready</div>
              </Card.Body>
            </Card>
            <Card>
              <Card.Body className="text-center">
                <div className="text-2xl font-bold text-red-600">{getStatusCount('cancelled')}</div>
                <div className="text-sm text-gray-600">Cancelled</div>
              </Card.Body>
            </Card>
          </div>

          {/* Filters */}
          <Card className="mb-8">
            <Card.Body>
              <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div>
                  <Input
                    placeholder="Search by customer..."
                    value={search}
                    onChange={(e) => setSearch(e.target.value)}
                    leftIcon={
                      <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                      </svg>
                    }
                  />
                </div>
                
                <div>
                  <select
                    value={statusFilter}
                    onChange={(e) => setStatusFilter(e.target.value)}
                    className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                  >
                    <option value="">All Status</option>
                    <option value="pending">Pending</option>
                    <option value="accepted">Accepted</option>
                    <option value="preparing">Preparing</option>
                    <option value="ready">Ready</option>
                    <option value="cancelled">Cancelled</option>
                  </select>
                </div>
                
                <div>
                  <Input
                    type="date"
                    value={dateFilter}
                    onChange={(e) => setDateFilter(e.target.value)}
                  />
                </div>
                
                <div className="flex space-x-2">
                  <Button
                    onClick={fetchOrders}
                    loading={loading}
                    className="flex-1"
                  >
                    Refresh
                  </Button>
                  <Button
                    onClick={() => {
                      setSearch('');
                      setStatusFilter('');
                      setDateFilter('');
                    }}
                    variant="outline"
                    className="flex-1"
                    disabled={!search && !statusFilter && !dateFilter}
                  >
                    Clear
                  </Button>
                </div>
              </div>
            </Card.Body>
          </Card>

          {/* Orders Table */}
          <Card>
            <Card.Header className="flex justify-between items-center">
              <h2 className="text-lg font-medium text-gray-900">All Orders</h2>
              <span className="text-sm text-gray-600">
                {filteredOrders.length} orders found
              </span>
            </Card.Header>
            
            <Card.Body>
              {filteredOrders.length === 0 ? (
                <div className="text-center py-12">
                  <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                  </svg>
                  <h3 className="mt-2 text-lg font-medium text-gray-900">No orders found</h3>
                  <p className="mt-1 text-gray-500">
                    {orders.length === 0 
                      ? "You haven't received any orders yet." 
                      : "No orders match your filters."}
                  </p>
                </div>
              ) : (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead>
                      <tr>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Order ID
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Customer
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Items
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Amount
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Status
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Date
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-gray-200">
                      {filteredOrders.map(order => (
                        <tr key={order.id} className="hover:bg-gray-50">
                          <td className="px-4 py-4 whitespace-nowrap">
                            <button
                              onClick={() => setSelectedOrder(order)}
                              className="text-blue-600 hover:text-blue-900 font-medium"
                            >
                              #{order.id}
                            </button>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <div>
                              <div className="font-medium">{order.customer_name}</div>
                              {order.customer_phone && (
                                <div className="text-sm text-gray-500">{order.customer_phone}</div>
                              )}
                            </div>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <div className="text-sm text-gray-900">
                              {order.items?.length || 0} items
                            </div>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium">
                            {formatCurrency(order.total_price)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(order.status)}`}>
                              {getStatusText(order.status)}
                            </span>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {formatDate(order.created_at)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium">
                            <div className="flex items-center space-x-2">
                              <select
                                value={order.status}
                                onChange={(e) => handleStatusUpdate(order.id, e.target.value)}
                                className="text-sm border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                              >
                                <option value="pending">Pending</option>
                                <option value="accepted">Accepted</option>
                                <option value="preparing">Preparing</option>
                                <option value="ready">Ready</option>
                                <option value="cancelled">Cancelled</option>
                              </select>
                              
                              <button
                                onClick={() => setSelectedOrder(order)}
                                className="text-blue-600 hover:text-blue-900"
                              >
                                View
                              </button>
                            </div>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              )}
            </Card.Body>
          </Card>

          {/* Order Details Modal */}
          <Modal
            isOpen={!!selectedOrder}
            onClose={() => setSelectedOrder(null)}
            title={`Order #${selectedOrder?.id}`}
            size="lg"
          >
            {selectedOrder && (
              <div className="space-y-6">
                {/* Order Summary */}
                <div className="bg-gray-50 rounded-lg p-4">
                  <div className="grid grid-cols-2 gap-4">
                    <div>
                      <h4 className="text-sm font-medium text-gray-500">Customer</h4>
                      <p className="mt-1 font-medium">{selectedOrder.customer_name}</p>
                      {selectedOrder.customer_phone && (
                        <p className="text-sm text-gray-600">{selectedOrder.customer_phone}</p>
                      )}
                    </div>
                    <div>
                      <h4 className="text-sm font-medium text-gray-500">Order Type</h4>
                      <p className="mt-1 font-medium capitalize">{selectedOrder.type}</p>
                    </div>
                    <div>
                      <h4 className="text-sm font-medium text-gray-500">Status</h4>
                      <div className="mt-1">
                        <select
                          value={selectedOrder.status}
                          onChange={(e) => handleStatusUpdate(selectedOrder.id, e.target.value)}
                          className="text-sm border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                          <option value="pending">Pending</option>
                          <option value="accepted">Accepted</option>
                          <option value="preparing">Preparing</option>
                          <option value="ready">Ready</option>
                          <option value="cancelled">Cancelled</option>
                        </select>
                      </div>
                    </div>
                    <div>
                      <h4 className="text-sm font-medium text-gray-500">Total Amount</h4>
                      <p className="mt-1 font-bold text-lg">{formatCurrency(selectedOrder.total_price)}</p>
                    </div>
                  </div>
                  
                  <div className="mt-4 pt-4 border-t border-gray-200">
                    <h4 className="text-sm font-medium text-gray-500">Order Date</h4>
                    <p className="mt-1">{formatDate(selectedOrder.created_at)}</p>
                  </div>
                </div>

                {/* Order Items */}
                <div>
                  <h3 className="text-lg font-medium text-gray-900 mb-4">Order Items</h3>
                  <div className="space-y-3">
                    {selectedOrder.items?.map((item, index) => (
                      <div key={index} className="flex justify-between items-center py-2 border-b border-gray-200 last:border-0">
                        <div>
                          <div className="font-medium">{item.quantity}x {item.item_name}</div>
                          {item.description && (
                            <div className="text-sm text-gray-600">{item.description}</div>
                          )}
                        </div>
                        <div className="font-medium">
                          {formatCurrency(item.price * item.quantity)}
                        </div>
                      </div>
                    ))}
                  </div>
                  
                  <div className="mt-4 pt-4 border-t border-gray-200">
                    <div className="flex justify-between font-bold text-lg">
                      <span>Total</span>
                      <span>{formatCurrency(selectedOrder.total_price)}</span>
                    </div>
                  </div>
                </div>

                {/* Order Notes */}
                {selectedOrder.notes && (
                  <div>
                    <h3 className="text-lg font-medium text-gray-900 mb-2">Customer Notes</h3>
                    <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                      <p className="text-gray-700">{selectedOrder.notes}</p>
                    </div>
                  </div>
                )}

                {/* Actions */}
                <div className="flex justify-end space-x-3 pt-4 border-t">
                  <Button
                    onClick={() => setSelectedOrder(null)}
                    variant="outline"
                  >
                    Close
                  </Button>
                  <Button
                    onClick={() => {
                      // Mark as ready
                      handleStatusUpdate(selectedOrder.id, 'ready');
                    }}
                    disabled={selectedOrder.status === 'ready' || selectedOrder.status === 'cancelled'}
                  >
                    Mark as Ready
                  </Button>
                </div>
              </div>
            )}
          </Modal>
        </div>
      </div>
    </div>
  );
};

export default RestaurantOrders;
===== ./pages/driver/Dashboard.jsx =====

import React, { useState, useEffect } from 'react';
import { deliveryService } from '../../services/api/delivery.js';
import { formatCurrency, formatDate } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Card from '../../components/ui/Card.jsx';

const DriverDashboard = () => {
  const [deliveryRequests, setDeliveryRequests] = useState([]);
  const [deliveryHistory, setDeliveryHistory] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [stats, setStats] = useState({
    totalDeliveries: 0,
    pendingRequests: 0,
    earnings: 0,
    completedToday: 0
  });

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      setLoading(true);
      setError('');
      
      const [requestsRes, historyRes] = await Promise.all([
        deliveryService.getDeliveryRequests(),
        deliveryService.getDeliveryHistory()
      ]);
      
      if (requestsRes.success) {
        setDeliveryRequests(requestsRes.data);
      }
      
      if (historyRes.success) {
        setDeliveryHistory(historyRes.data);
        
        // Calculate stats
        const totalDeliveries = historyRes.data.length;
        const pendingRequests = requestsRes.success ? requestsRes.data.length : 0;
        const earnings = historyRes.data.reduce((sum, delivery) => sum + (delivery.total_price * 0.2), 0); // 20% commission
        const completedToday = historyRes.data.filter(delivery => {
          const deliveryDate = new Date(delivery.completed_at || delivery.assigned_at).toDateString();
          const today = new Date().toDateString();
          return deliveryDate === today;
        }).length;
        
        setStats({
          totalDeliveries,
          pendingRequests,
          earnings,
          completedToday
        });
      }
    } catch (err) {
      setError('An error occurred while loading dashboard data');
      console.error('Error fetching dashboard data:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleAcceptRequest = async (requestId) => {
    try {
      const response = await deliveryService.acceptDeliveryRequest(requestId);
      
      if (response.success) {
        fetchDashboardData(); // Refresh data
      }
    } catch (err) {
      console.error('Error accepting delivery request:', err);
    }
  };

  const handleRejectRequest = async (requestId) => {
    try {
      const response = await deliveryService.rejectDeliveryRequest(requestId);
      
      if (response.success) {
        fetchDashboardData(); // Refresh data
      }
    } catch (err) {
      console.error('Error rejecting delivery request:', err);
    }
  };

  const handleCompleteDelivery = async (orderId) => {
    try {
      const response = await deliveryService.completeDelivery(orderId);
      
      if (response.success) {
        fetchDashboardData(); // Refresh data
      }
    } catch (err) {
      console.error('Error completing delivery:', err);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading dashboard..." />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">Driver Dashboard</h1>
            <p className="text-gray-600">
              Manage your delivery requests and track your earnings
            </p>
          </div>

          {error && (
            <Alert type="error" className="mb-6">
              {error}
              <Button
                onClick={fetchDashboardData}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          )}

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-blue-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM12 8h.01M12 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.pendingRequests}</div>
                    <div className="text-sm text-gray-600">Pending Requests</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-green-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.totalDeliveries}</div>
                    <div className="text-sm text-gray-600">Total Deliveries</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-yellow-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{stats.completedToday}</div>
                    <div className="text-sm text-gray-600">Today's Deliveries</div>
                  </div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="flex items-center">
                  <div className="flex-shrink-0 bg-purple-100 p-3 rounded-lg">
                    <svg className="h-6 w-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div className="ml-4">
                    <div className="text-2xl font-bold">{formatCurrency(stats.earnings)}</div>
                    <div className="text-sm text-gray-600">Total Earnings</div>
                  </div>
                </div>
              </Card.Body>
            </Card>
          </div>

          {/* Delivery Requests */}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <Card>
              <Card.Header className="flex justify-between items-center">
                <h2 className="text-lg font-medium text-gray-900">Delivery Requests</h2>
                <Button
                  onClick={fetchDashboardData}
                  variant="outline"
                  size="sm"
                  loading={loading}
                >
                  Refresh
                </Button>
              </Card.Header>
              
              <Card.Body>
                {deliveryRequests.length === 0 ? (
                  <div className="text-center py-8">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM12 8h.01M12 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No delivery requests</h3>
                    <p className="mt-1 text-gray-500">
                      No pending delivery requests at the moment.
                    </p>
                  </div>
                ) : (
                  <div className="space-y-4">
                    {deliveryRequests.map(request => (
                      <div key={request.id} className="border border-gray-200 rounded-lg p-4">
                        <div className="flex justify-between items-start mb-2">
                          <div>
                            <h4 className="font-medium">Order #{request.order_id}</h4>
                            <p className="text-sm text-gray-600">{request.restaurant_name}</p>
                          </div>
                          <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                            Pending
                          </span>
                        </div>
                        
                        <div className="space-y-2 text-sm mb-4">
                          <div className="flex justify-between">
                            <span className="text-gray-600">From:</span>
                            <span>{request.restaurant_location}</span>
                          </div>
                          <div className="flex justify-between">
                            <span className="text-gray-600">To:</span>
                            <span>{request.customer_address}</span>
                          </div>
                          <div className="flex justify-between">
                            <span className="text-gray-600">Amount:</span>
                            <span className="font-medium">{formatCurrency(request.total_price)}</span>
                          </div>
                        </div>
                        
                        <div className="flex space-x-2">
                          <Button
                            onClick={() => handleAcceptRequest(request.id)}
                            variant="success"
                            size="sm"
                            className="flex-1"
                          >
                            Accept
                          </Button>
                          <Button
                            onClick={() => handleRejectRequest(request.id)}
                            variant="outline"
                            size="sm"
                            className="flex-1"
                          >
                            Reject
                          </Button>
                        </div>
                      </div>
                    ))}
                  </div>
                )}
              </Card.Body>
            </Card>

            {/* Recent Deliveries */}
            <Card>
              <Card.Header>
                <h2 className="text-lg font-medium text-gray-900">Recent Deliveries</h2>
              </Card.Header>
              
              <Card.Body>
                {deliveryHistory.length === 0 ? (
                  <div className="text-center py-8">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No delivery history</h3>
                    <p className="mt-1 text-gray-500">
                      Your delivery history will appear here.
                    </p>
                  </div>
                ) : (
                  <div className="space-y-4">
                    {deliveryHistory.slice(0, 5).map(delivery => (
                      <div key={delivery.id} className="border border-gray-200 rounded-lg p-4">
                        <div className="flex justify-between items-start mb-2">
                          <div>
                            <h4 className="font-medium">Order #{delivery.order_id}</h4>
                            <p className="text-sm text-gray-600">{delivery.restaurant_name}</p>
                          </div>
                          <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            Completed
                          </span>
                        </div>
                        
                        <div className="space-y-2 text-sm">
                          <div className="flex justify-between">
                            <span className="text-gray-600">Customer:</span>
                            <span>{delivery.customer_name}</span>
                          </div>
                          <div className="flex justify-between">
                            <span className="text-gray-600">Completed:</span>
                            <span>{formatDate(delivery.completed_at || delivery.assigned_at)}</span>
                          </div>
                          <div className="flex justify-between">
                            <span className="text-gray-600">Earnings:</span>
                            <span className="font-medium">
                              {formatCurrency(delivery.total_price * 0.2)}
                            </span>
                          </div>
                        </div>
                      </div>
                    ))}
                    
                    <div className="text-center">
                      <Button
                        onClick={() => window.location.href = '/driver/deliveries'}
                        variant="outline"
                        size="sm"
                      >
                        View All History
                      </Button>
                    </div>
                  </div>
                )}
              </Card.Body>
            </Card>
          </div>
        </div>
      </div>
    </div>
  );
};

export default DriverDashboard;
===== ./pages/driver/Deliveries.jsx =====

import React, { useState, useEffect } from 'react';
import { deliveryService } from '../../services/api/delivery.js';
import DeliveryCard from '../../components/driver/DeliveryCard.jsx';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Input from '../../components/ui/Input.jsx';

const DriverDeliveries = () => {
  const [deliveryRequests, setDeliveryRequests] = useState([]);
  const [deliveryHistory, setDeliveryHistory] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [activeTab, setActiveTab] = useState('requests');
  const [search, setSearch] = useState('');

  useEffect(() => {
    fetchDeliveries();
  }, []);

  const fetchDeliveries = async () => {
    try {
      setLoading(true);
      setError('');
      
      const [requestsRes, historyRes] = await Promise.all([
        deliveryService.getDeliveryRequests(),
        deliveryService.getDeliveryHistory()
      ]);
      
      if (requestsRes.success) {
        setDeliveryRequests(requestsRes.data);
      }
      
      if (historyRes.success) {
        setDeliveryHistory(historyRes.data);
      }
    } catch (err) {
      setError('An error occurred while loading deliveries');
      console.error('Error fetching deliveries:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleAcceptRequest = async (requestId) => {
    try {
      const response = await deliveryService.acceptDeliveryRequest(requestId);
      
      if (response.success) {
        fetchDeliveries(); // Refresh data
      }
    } catch (err) {
      console.error('Error accepting delivery request:', err);
    }
  };

  const handleRejectRequest = async (requestId) => {
    try {
      const response = await deliveryService.rejectDeliveryRequest(requestId);
      
      if (response.success) {
        fetchDeliveries(); // Refresh data
      }
    } catch (err) {
      console.error('Error rejecting delivery request:', err);
    }
  };

  const handleCompleteDelivery = async (orderId) => {
    try {
      const response = await deliveryService.completeDelivery(orderId);
      
      if (response.success) {
        fetchDeliveries(); // Refresh data
      }
    } catch (err) {
      console.error('Error completing delivery:', err);
    }
  };

  const filteredHistory = deliveryHistory.filter(delivery => {
    if (!search) return true;
    const searchTerm = search.toLowerCase();
    return (
      delivery.restaurant_name.toLowerCase().includes(searchTerm) ||
      delivery.customer_name.toLowerCase().includes(searchTerm) ||
      delivery.order_id.toString().includes(searchTerm)
    );
  });

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading deliveries..." />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="flex justify-between items-center mb-8">
            <div>
              <h1 className="text-3xl font-bold text-gray-900">Deliveries</h1>
              <p className="text-gray-600">
                Manage delivery requests and track your delivery history
              </p>
            </div>
            <Button
              onClick={fetchDeliveries}
              loading={loading}
            >
              Refresh
            </Button>
          </div>

          {error && (
            <Alert type="error" className="mb-6">
              {error}
              <Button
                onClick={fetchDeliveries}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          )}

          {/* Tabs */}
          <div className="border-b border-gray-200 mb-6">
            <nav className="-mb-px flex space-x-8">
              <button
                onClick={() => setActiveTab('requests')}
                className={`py-2 px-1 border-b-2 font-medium text-sm ${
                  activeTab === 'requests'
                    ? 'border-blue-500 text-blue-600'
                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                }`}
              >
                Delivery Requests
                {deliveryRequests.length > 0 && (
                  <span className="ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                    {deliveryRequests.length}
                  </span>
                )}
              </button>
              <button
                onClick={() => setActiveTab('history')}
                className={`py-2 px-1 border-b-2 font-medium text-sm ${
                  activeTab === 'history'
                    ? 'border-blue-500 text-blue-600'
                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                }`}
              >
                Delivery History
              </button>
            </nav>
          </div>

          {/* Tab Content */}
          <div className="mt-6">
            {activeTab === 'requests' && (
              <div>
                <div className="mb-6">
                  <h2 className="text-lg font-medium text-gray-900 mb-4">
                    Available Delivery Requests
                  </h2>
                  <p className="text-gray-600">
                    Accept delivery requests to earn money. You'll receive 20% of the order total as commission.
                  </p>
                </div>

                {deliveryRequests.length === 0 ? (
                  <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0zM12 8h.01M12 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No delivery requests</h3>
                    <p className="mt-1 text-gray-500">
                      No pending delivery requests at the moment. Check back later!
                    </p>
                  </div>
                ) : (
                  <div className="space-y-6">
                    {deliveryRequests.map(request => (
                      <DeliveryCard
                        key={request.id}
                        delivery={request}
                        onAccept={handleAcceptRequest}
                        onReject={handleRejectRequest}
                        onComplete={handleCompleteDelivery}
                      />
                    ))}
                  </div>
                )}
              </div>
            )}

            {activeTab === 'history' && (
              <div>
                <div className="flex flex-col md:flex-row md:items-center justify-between mb-6">
                  <div>
                    <h2 className="text-lg font-medium text-gray-900">Delivery History</h2>
                    <p className="text-gray-600">
                      Track all your completed deliveries and earnings
                    </p>
                  </div>
                  
                  <div className="mt-4 md:mt-0 w-full md:w-auto">
                    <Input
                      placeholder="Search by restaurant, customer, or order ID..."
                      value={search}
                      onChange={(e) => setSearch(e.target.value)}
                      leftIcon={
                        <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                      }
                    />
                  </div>
                </div>

                {deliveryHistory.length === 0 ? (
                  <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No delivery history</h3>
                    <p className="mt-1 text-gray-500">
                      Your delivery history will appear here after you complete deliveries.
                    </p>
                  </div>
                ) : filteredHistory.length === 0 ? (
                  <div className="text-center py-12 bg-white rounded-lg shadow-sm">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No matching deliveries</h3>
                    <p className="mt-1 text-gray-500">
                      No deliveries match your search.
                    </p>
                    <Button
                      onClick={() => setSearch('')}
                      variant="outline"
                      className="mt-4"
                    >
                      Clear Search
                    </Button>
                  </div>
                ) : (
                  <div className="space-y-6">
                    {filteredHistory.map(delivery => (
                      <DeliveryCard
                        key={delivery.id}
                        delivery={delivery}
                        isHistory={true}
                      />
                    ))}
                  </div>
                )}
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

export default DriverDeliveries;
===== ./pages/admin/Dashboard.jsx =====

import React, { useState, useEffect } from 'react';
import { adminService } from '../../services/api/admin.js';
import { formatCurrency, formatDate } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Card from '../../components/ui/Card.jsx';

const AdminDashboard = () => {
  const [stats, setStats] = useState(null);
  const [recentOrders, setRecentOrders] = useState([]);
  const [topRestaurants, setTopRestaurants] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      setLoading(true);
      setError('');
      
      const response = await adminService.getStatistics();
      
      if (response.success) {
        setStats(response.data);
        setRecentOrders(response.data.recent_orders || []);
        setTopRestaurants(response.data.top_restaurants || []);
      } else {
        setError('Failed to load dashboard data');
      }
    } catch (err) {
      setError('An error occurred while loading dashboard data');
      console.error('Error fetching dashboard data:', err);
    } finally {
      setLoading(false);
    }
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading dashboard..." />
          </div>
        </div>
      </div>
    );
  }

  if (error) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Alert type="error">
              {error}
              <Button
                onClick={fetchDashboardData}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">Admin Dashboard</h1>
            <p className="text-gray-600">
              Overview of platform statistics and performance
            </p>
          </div>

          {/* Stats */}
          <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-gray-900">
                    {stats?.order_stats?.total_orders || 0}
                  </div>
                  <div className="text-sm text-gray-600">Total Orders</div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-green-600">
                    {formatCurrency(stats?.order_stats?.total_revenue || 0)}
                  </div>
                  <div className="text-sm text-gray-600">Total Revenue</div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-blue-600">
                    {stats?.restaurant_stats?.total_restaurants || 0}
                  </div>
                  <div className="text-sm text-gray-600">Restaurants</div>
                </div>
              </Card.Body>
            </Card>

            <Card>
              <Card.Body>
                <div className="text-center">
                  <div className="text-3xl font-bold text-purple-600">
                    {stats?.user_counts?.reduce((sum, user) => sum + user.count, 0) || 0}
                  </div>
                  <div className="text-sm text-gray-600">Total Users</div>
                </div>
              </Card.Body>
            </Card>
          </div>

          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            {/* Recent Orders */}
            <Card>
              <Card.Header className="flex justify-between items-center">
                <h2 className="text-lg font-medium text-gray-900">Recent Orders</h2>
                <Button
                  onClick={() => window.location.href = '/admin/orders'}
                  variant="outline"
                  size="sm"
                >
                  View All
                </Button>
              </Card.Header>
              
              <Card.Body>
                {recentOrders.length === 0 ? (
                  <div className="text-center py-8">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No recent orders</h3>
                    <p className="mt-1 text-gray-500">
                      No orders have been placed yet.
                    </p>
                  </div>
                ) : (
                  <div className="overflow-x-auto">
                    <table className="min-w-full divide-y divide-gray-200">
                      <thead>
                        <tr>
                          <th className="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Order ID
                          </th>
                          <th className="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Customer
                          </th>
                          <th className="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Amount
                          </th>
                          <th className="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                            Status
                          </th>
                        </tr>
                      </thead>
                      <tbody className="divide-y divide-gray-200">
                        {recentOrders.map(order => (
                          <tr key={order.id}>
                            <td className="px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-900">
                              #{order.id}
                            </td>
                            <td className="px-3 py-3 whitespace-nowrap text-sm text-gray-500">
                              {order.customer_name}
                            </td>
                            <td className="px-3 py-3 whitespace-nowrap text-sm text-gray-900">
                              {formatCurrency(order.total_price)}
                            </td>
                            <td className="px-3 py-3 whitespace-nowrap">
                              <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${
                                order.status === 'delivered' ? 'bg-green-100 text-green-800' :
                                order.status === 'cancelled' ? 'bg-red-100 text-red-800' :
                                'bg-yellow-100 text-yellow-800'
                              }`}>
                                {order.status}
                              </span>
                            </td>
                          </tr>
                        ))}
                      </tbody>
                    </table>
                  </div>
                )}
              </Card.Body>
            </Card>

            {/* Top Restaurants */}
            <Card>
              <Card.Header className="flex justify-between items-center">
                <h2 className="text-lg font-medium text-gray-900">Top Restaurants</h2>
                <Button
                  onClick={() => window.location.href = '/admin/restaurants'}
                  variant="outline"
                  size="sm"
                >
                  View All
                </Button>
              </Card.Header>
              
              <Card.Body>
                {topRestaurants.length === 0 ? (
                  <div className="text-center py-8">
                    <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                    </svg>
                    <h3 className="mt-2 text-lg font-medium text-gray-900">No restaurants</h3>
                    <p className="mt-1 text-gray-500">
                      No restaurants registered yet.
                    </p>
                  </div>
                ) : (
                  <div className="space-y-4">
                    {topRestaurants.map((restaurant, index) => (
                      <div key={index} className="flex items-center justify-between py-3 border-b border-gray-200 last:border-0">
                        <div className="flex items-center">
                          <div className="flex-shrink-0 w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center text-gray-600 font-bold">
                            {index + 1}
                          </div>
                          <div className="ml-4">
                            <div className="font-medium">{restaurant.name}</div>
                            <div className="text-sm text-gray-500">
                              {restaurant.order_count} orders
                            </div>
                          </div>
                        </div>
                        <div className="text-right">
                          <div className="font-medium">{formatCurrency(restaurant.revenue || 0)}</div>
                          <div className="text-sm text-gray-500">
                            {restaurant.avg_rating ? `${restaurant.avg_rating.toFixed(1)} ★` : 'No rating'}
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                )}
              </Card.Body>
            </Card>
          </div>

          {/* User Statistics */}
          <Card className="mt-8">
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">User Statistics</h2>
            </Card.Header>
            
            <Card.Body>
              {stats?.user_counts ? (
                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                  {stats.user_counts.map(userCount => (
                    <div key={userCount.role} className="text-center">
                      <div className="text-2xl font-bold">{userCount.count}</div>
                      <div className="text-sm text-gray-600 capitalize">{userCount.role}s</div>
                    </div>
                  ))}
                </div>
              ) : (
                <div className="text-center py-8">
                  <p className="text-gray-500">No user statistics available</p>
                </div>
              )}
            </Card.Body>
          </Card>

          {/* Order Status Statistics */}
          <Card className="mt-8">
            <Card.Header>
              <h2 className="text-lg font-medium text-gray-900">Order Status Distribution</h2>
            </Card.Header>
            
            <Card.Body>
              {stats?.order_status_counts ? (
                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                  {stats.order_status_counts.map(statusCount => (
                    <div key={statusCount.status} className="text-center">
                      <div className="text-2xl font-bold">{statusCount.count}</div>
                      <div className="text-sm text-gray-600 capitalize">{statusCount.status}</div>
                    </div>
                  ))}
                </div>
              ) : (
                <div className="text-center py-8">
                  <p className="text-gray-500">No order status statistics available</p>
                </div>
              )}
            </Card.Body>
          </Card>
        </div>
      </div>
    </div>
  );
};

export default AdminDashboard;
===== ./pages/admin/Users.jsx =====

import React, { useState, useEffect } from 'react';
import { adminService } from '../../services/api/admin.js';
import { formatDate } from '../../utils/helpers.js';
import Sidebar from '../../components/layout/Sidebar.jsx';
import Loader from '../../components/ui/Loader.jsx';
import Alert from '../../components/ui/Alert.jsx';
import Button from '../../components/ui/Button.jsx';
import Modal from '../../components/ui/Modal.jsx';
import Input from '../../components/ui/Input.jsx';
import Card from '../../components/ui/Card.jsx';

const AdminUsers = () => {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState('');
  const [search, setSearch] = useState('');
  const [roleFilter, setRoleFilter] = useState('');
  const [deleteConfirm, setDeleteConfirm] = useState(null);
  const [roleUpdate, setRoleUpdate] = useState(null);
  const [newRole, setNewRole] = useState('');

  useEffect(() => {
    fetchUsers();
  }, []);

  const fetchUsers = async () => {
    try {
      setLoading(true);
      setError('');
      
      const params = {};
      if (roleFilter) params.role = roleFilter;
      
      const response = await adminService.getAllUsers(params);
      
      if (response.success) {
        setUsers(response.data);
      } else {
        setError('Failed to load users');
      }
    } catch (err) {
      setError('An error occurred while loading users');
      console.error('Error fetching users:', err);
    } finally {
      setLoading(false);
    }
  };

  const handleDeleteUser = async (userId) => {
    try {
      const response = await adminService.deleteUser(userId);
      
      if (response.success) {
        setUsers(prev => prev.filter(user => user.id !== userId));
        setDeleteConfirm(null);
      }
    } catch (err) {
      console.error('Error deleting user:', err);
    }
  };

  const handleUpdateRole = async (userId) => {
    if (!newRole) return;
    
    try {
      const response = await adminService.updateUserRole(userId, { role: newRole });
      
      if (response.success) {
        setUsers(prev => prev.map(user =>
          user.id === userId ? { ...user, role: newRole } : user
        ));
        setRoleUpdate(null);
        setNewRole('');
      }
    } catch (err) {
      console.error('Error updating user role:', err);
    }
  };

  const filteredUsers = users.filter(user => {
    if (search && !user.name.toLowerCase().includes(search.toLowerCase()) && 
        !user.email.toLowerCase().includes(search.toLowerCase())) {
      return false;
    }
    return true;
  });

  const getRoleColor = (role) => {
    const colors = {
      admin: 'bg-purple-100 text-purple-800',
      restaurant: 'bg-blue-100 text-blue-800',
      driver: 'bg-green-100 text-green-800',
      customer: 'bg-gray-100 text-gray-800'
    };
    return colors[role] || 'bg-gray-100 text-gray-800';
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-100">
        <Sidebar />
        <div className="md:ml-64">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <Loader text="Loading users..." />
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gray-100">
      <Sidebar />
      <div className="md:ml-64">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Header */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900">User Management</h1>
            <p className="text-gray-600">
              Manage all users and their roles on the platform
            </p>
          </div>

          {error && (
            <Alert type="error" className="mb-6">
              {error}
              <Button
                onClick={fetchUsers}
                variant="outline"
                size="sm"
                className="ml-4"
              >
                Try Again
              </Button>
            </Alert>
          )}

          {/* Filters */}
          <Card className="mb-8">
            <Card.Body>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                  <Input
                    placeholder="Search by name or email..."
                    value={search}
                    onChange={(e) => setSearch(e.target.value)}
                    leftIcon={
                      <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                      </svg>
                    }
                  />
                </div>
                
                <div>
                  <select
                    value={roleFilter}
                    onChange={(e) => setRoleFilter(e.target.value)}
                    className="w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
                  >
                    <option value="">All Roles</option>
                    <option value="admin">Admin</option>
                    <option value="restaurant">Restaurant</option>
                    <option value="driver">Driver</option>
                    <option value="customer">Customer</option>
                  </select>
                </div>
                
                <div className="flex space-x-2">
                  <Button
                    onClick={fetchUsers}
                    loading={loading}
                    className="flex-1"
                  >
                    Refresh
                  </Button>
                  <Button
                    onClick={() => {
                      setSearch('');
                      setRoleFilter('');
                    }}
                    variant="outline"
                    className="flex-1"
                    disabled={!search && !roleFilter}
                  >
                    Clear Filters
                  </Button>
                </div>
              </div>
            </Card.Body>
          </Card>

          {/* Users Table */}
          <Card>
            <Card.Header className="flex justify-between items-center">
              <h2 className="text-lg font-medium text-gray-900">All Users</h2>
              <span className="text-sm text-gray-600">
                {filteredUsers.length} users found
              </span>
            </Card.Header>
            
            <Card.Body>
              {filteredUsers.length === 0 ? (
                <div className="text-center py-12">
                  <svg className="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.67 3.623a10.953 10.953 0 01-.707.785 9.958 9.958 0 01-12.682 0 10.953 10.953 0 01-.707-.785" />
                  </svg>
                  <h3 className="mt-2 text-lg font-medium text-gray-900">No users found</h3>
                  <p className="mt-1 text-gray-500">
                    {users.length === 0 
                      ? "No users registered yet." 
                      : "No users match your filters."}
                  </p>
                </div>
              ) : (
                <div className="overflow-x-auto">
                  <table className="min-w-full divide-y divide-gray-200">
                    <thead>
                      <tr>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          User
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Email
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Role
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Joined
                        </th>
                        <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody className="divide-y divide-gray-200">
                      {filteredUsers.map(user => (
                        <tr key={user.id} className="hover:bg-gray-50">
                          <td className="px-4 py-4 whitespace-nowrap">
                            <div className="flex items-center">
                              <div className="h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center">
                                <span className="font-medium text-gray-600">
                                  {user.name.charAt(0).toUpperCase()}
                                </span>
                              </div>
                              <div className="ml-4">
                                <div className="font-medium text-gray-900">{user.name}</div>
                                {user.phone && (
                                  <div className="text-sm text-gray-500">{user.phone}</div>
                                )}
                              </div>
                            </div>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {user.email}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap">
                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getRoleColor(user.role)}`}>
                              {user.role}
                            </span>
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-500">
                            {formatDate(user.created_at)}
                          </td>
                          <td className="px-4 py-4 whitespace-nowrap text-sm font-medium">
                            <div className="flex space-x-2">
                              <button
                                onClick={() => {
                                  setRoleUpdate(user);
                                  setNewRole(user.role);
                                }}
                                className="text-blue-600 hover:text-blue-900"
                              >
                                Change Role
                              </button>
                              <button
                                onClick={() => setDeleteConfirm(user)}
                                className="text-red-600 hover:text-red-900"
                              >
                                Delete
                              </button>
                            </div>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              )}
            </Card.Body>
          </Card>

          {/* Delete Confirmation Modal */}
          <Modal
            isOpen={!!deleteConfirm}
            onClose={() => setDeleteConfirm(null)}
            title="Delete User"
            size="sm"
          >
            {deleteConfirm && (
              <div>
                <p className="text-gray-600 mb-6">
                  Are you sure you want to delete user "{deleteConfirm.name}"? This action cannot be undone.
                </p>
                <div className="flex justify-end space-x-3">
                  <Button
                    onClick={() => setDeleteConfirm(null)}
                    variant="outline"
                  >
                    Cancel
                  </Button>
                  <Button
                    onClick={() => handleDeleteUser(deleteConfirm.id)}
                    variant="danger"
                  >
                    Delete
                  </Button>
                </div>
              </div>
            )}
          </Modal>

          {/* Role Update Modal */}
          <Modal
            isOpen={!!roleUpdate}
            onClose={() => {
              setRoleUpdate(null);
              setNewRole('');
            }}
            title="Change User Role"
            size="sm"
          >
            {roleUpdate && (
              <div>
                <p className="text-gray-600 mb-4">
                  Change role for user: <span className="font-medium">{roleUpdate.name}</span>
                </p>
                
                <div className="mb-6">
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Select New Role
                  </label>
                  <div className="grid grid-cols-2 gap-3">
                    {['admin', 'restaurant', 'driver', 'customer'].map(role => (
                      <div key={role} className="relative">
                        <input
                          id={`role-${role}`}
                          type="radio"
                          value={role}
                          checked={newRole === role}
                          onChange={(e) => setNewRole(e.target.value)}
                          className="sr-only"
                        />
                        <label
                          htmlFor={`role-${role}`}
                          className={`
                            flex flex-col items-center justify-center p-3 border rounded-lg cursor-pointer
                            ${newRole === role 
                              ? 'border-blue-500 bg-blue-50' 
                              : 'border-gray-300 hover:bg-gray-50'
                            }
                          `}
                        >
                          <span className="text-sm font-medium capitalize">
                            {role}
                          </span>
                        </label>
                      </div>
                    ))}
                  </div>
                </div>
                
                <div className="flex justify-end space-x-3">
                  <Button
                    onClick={() => {
                      setRoleUpdate(null);
                      setNewRole('');
                    }}
                    variant="outline"
                  >
                    Cancel
                  </Button>
                  <Button
                    onClick={() => handleUpdateRole(roleUpdate.id)}
                    disabled={!newRole || newRole === roleUpdate.role}
                  >
                    Update Role
                  </Button>
                </div>
              </div>
            )}
          </Modal>
        </div>
      </div>
    </div>
  );
};

export default AdminUsers;
===== ./pages/shared/NotFound.jsx =====

import React from 'react';
import { Link } from 'react-router-dom';
import Button from '../../components/ui/Button.jsx';

const NotFound = () => {
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="text-center">
        <h1 className="text-9xl font-bold text-gray-900">404</h1>
        <h2 className="mt-4 text-3xl font-bold text-gray-900">Page not found</h2>
        <p className="mt-2 text-lg text-gray-600">
          Sorry, we couldn't find the page you're looking for.
        </p>
        <div className="mt-8">
          <Link to="/">
            <Button size="lg">
              Go back home
            </Button>
          </Link>
        </div>
      </div>
    </div>
  );
};

export default NotFound;
===== ./pages/shared/Unauthorized.jsx =====

import React from 'react';
import { Link } from 'react-router-dom';
import Button from '../../components/ui/Button.jsx';

const Unauthorized = () => {
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
      <div className="text-center">
        <div className="inline-flex items-center justify-center h-16 w-16 rounded-full bg-red-100 text-red-600 mb-4">
          <svg className="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
          </svg>
        </div>
        <h1 className="text-4xl font-bold text-gray-900">Unauthorized</h1>
        <h2 className="mt-4 text-xl font-semibold text-gray-700">Access Denied</h2>
        <p className="mt-2 text-lg text-gray-600">
          You don't have permission to access this page.
        </p>
        <div className="mt-8 space-x-4">
          <Link to="/">
            <Button variant="outline">
              Go Home
            </Button>
          </Link>
          <Button
            onClick={() => window.history.back()}
          >
            Go Back
          </Button>
        </div>
      </div>
    </div>
  );
};

export default Unauthorized;
===== ./hooks/useAuth.js =====

import { useContext } from 'react';
import { AuthContext } from '../context/AuthContext.jsx';

export const useAuth = () => {
  const context = useContext(AuthContext);
  
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  
  return context;
};
===== ./hooks/useCart.js =====

import { useContext } from 'react';
import { CartContext } from '../context/CartContext.jsx';

export const useCart = () => {
  const context = useContext(CartContext);
  
  if (!context) {
    throw new Error('useCart must be used within a CartProvider');
  }
  
  return context;
};
===== ./services/api/auth.js =====

import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const authService = {
  register: async (userData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.AUTH.REGISTER, userData);
    return response.data;
  },

  login: async (credentials) => {
    const response = await axiosInstance.post(API_ENDPOINTS.AUTH.LOGIN, credentials);
    const payload = response.data || {};
    // support responses like { token, user } or { data: { token, user } }
    const token = payload.token || payload.data?.token;
    const user = payload.user || payload.data?.user || payload.data;
    if (token) {
      localStorage.setItem('token', token.startsWith('Bearer ') ? token : `Bearer ${token}`);
    }
    if (user) {
      localStorage.setItem('user', JSON.stringify(user));
    }
    return payload;
  },

  getMe: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.AUTH.ME);
    return response.data;
  },

  logout: () => {
    localStorage.removeItem('token');
    localStorage.removeItem('user');
  }
};
===== ./services/api/restaurants.js =====

import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const restaurantService = {
  getAllRestaurants: async (params = {}) => {
    const response = await axiosInstance.get(API_ENDPOINTS.RESTAURANTS.BASE, { params });
    return response.data;
  },

  getRestaurant: async (id) => {
    const response = await axiosInstance.get(`${API_ENDPOINTS.RESTAURANTS.BASE}/${id}`);
    return response.data;
  },

  createRestaurant: async (restaurantData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.RESTAURANTS.BASE, restaurantData);
    return response.data;
  },

  updateRestaurant: async (id, restaurantData) => {
    const response = await axiosInstance.put(`${API_ENDPOINTS.RESTAURANTS.BASE}/${id}`, restaurantData);
    return response.data;
  },

  getMyRestaurant: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.RESTAURANTS.MY_RESTAURANT);
    return response.data;
  }
};
===== ./services/api/menu.js =====

import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const menuService = {
  getMenuItems: async (restaurantId) => {
    const response = await axiosInstance.get(
      API_ENDPOINTS.MENU.GET.replace(':restaurantId', restaurantId)
    );
    return response.data;
  },

  createMenuItem: async (menuItemData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.MENU.BASE, menuItemData);
    return response.data;
  },

  updateMenuItem: async (id, menuItemData) => {
    const response = await axiosInstance.put(`${API_ENDPOINTS.MENU.BASE}/${id}`, menuItemData);
    return response.data;
  },

  deleteMenuItem: async (id) => {
    const response = await axiosInstance.delete(`${API_ENDPOINTS.MENU.BASE}/${id}`);
    return response.data;
  }
};
===== ./services/api/orders.js =====

import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const orderService = {
  createOrder: async (orderData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.ORDERS.BASE, orderData);
    return response.data;
  },

  getMyOrders: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.ORDERS.MY_ORDERS);
    return response.data;
  },

  getOrder: async (id) => {
    const response = await axiosInstance.get(`${API_ENDPOINTS.ORDERS.BASE}/${id}`);
    return response.data;
  },

  updateOrderStatus: async (id, statusData) => {
    const response = await axiosInstance.put(
      API_ENDPOINTS.ORDERS.UPDATE_STATUS.replace(':id', id),
      statusData
    );
    return response.data;
  }
};
===== ./services/api/delivery.js =====

import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const deliveryService = {
  getDeliveryRequests: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.DELIVERY.REQUESTS);
    return response.data;
  },

  acceptDeliveryRequest: async (id) => {
    const response = await axiosInstance.put(
      API_ENDPOINTS.DELIVERY.ACCEPT_REQUEST.replace(':id', id)
    );
    return response.data;
  },

  rejectDeliveryRequest: async (id) => {
    const response = await axiosInstance.put(
      API_ENDPOINTS.DELIVERY.REJECT_REQUEST.replace(':id', id)
    );
    return response.data;
  },

  completeDelivery: async (id) => {
    const response = await axiosInstance.put(
      API_ENDPOINTS.DELIVERY.COMPLETE_DELIVERY.replace(':id', id)
    );
    return response.data;
  },

  getDeliveryHistory: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.DELIVERY.HISTORY);
    return response.data;
  }
};
===== ./services/api/admin.js =====

import axiosInstance from './axiosConfig.js';
import { API_ENDPOINTS } from '../../utils/constants.js';

export const adminService = {
  getAllUsers: async (params = {}) => {
    const response = await axiosInstance.get(API_ENDPOINTS.ADMIN.USERS, { params });
    return response.data;
  },

  deleteUser: async (id) => {
    const response = await axiosInstance.delete(`${API_ENDPOINTS.ADMIN.USERS}/${id}`);
    return response.data;
  },

  updateUserRole: async (id, roleData) => {
    const response = await axiosInstance.put(
      `${API_ENDPOINTS.ADMIN.USERS}/${id}/role`,
      roleData
    );
    return response.data;
  },

  getStatistics: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.ADMIN.STATISTICS);
    return response.data;
  },

  generateReport: async (reportData) => {
    const response = await axiosInstance.post(API_ENDPOINTS.ADMIN.REPORTS, reportData);
    return response.data;
  },

  getReports: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.ADMIN.REPORTS);
    return response.data;
  },

  getAllDeliveryRequests: async () => {
    const response = await axiosInstance.get(API_ENDPOINTS.ADMIN.DELIVERY_REQUESTS);
    return response.data;
  }
};
===== ./services/api/axiosConfig.js =====

import axios from 'axios';

const axiosInstance = axios.create({
  baseURL: import.meta.env.VITE_API_URL,
  headers: {
    'Content-Type': 'application/json'
  }
});

// Request interceptor to add auth token
axiosInstance.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// Response interceptor to handle errors
axiosInstance.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem('token');
      localStorage.removeItem('user');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default axiosInstance;
===== ./services/storage.js =====

export const storage = {
  setItem: (key, value) => {
    try {
      localStorage.setItem(key, JSON.stringify(value));
    } catch (error) {
      console.error('Error saving to localStorage:', error);
    }
  },

  getItem: (key) => {
    try {
      const item = localStorage.getItem(key);
      return item ? JSON.parse(item) : null;
    } catch (error) {
      console.error('Error reading from localStorage:', error);
      return null;
    }
  },

  removeItem: (key) => {
    localStorage.removeItem(key);
  },

  clear: () => {
    localStorage.clear();
  }
};
===== ./context/AuthContext.jsx =====

import React, { createContext, useState, useContext, useEffect } from 'react';
import { authService } from '../services/api/auth.js';
import { storage } from '../services/storage.js';

export const AuthContext = createContext();

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    checkUser();
  }, []);

  const checkUser = async () => {
  const token = storage.getItem('token');
  const savedUser = storage.getItem('user');
  
  if (token && savedUser) {
    try {
      const response = await authService.getMe();
      if (response.success) {
        setUser(response.user);
        storage.setItem('user', response.user);
      } else {
        // Token invalid
        logout();
      }
    } catch (err) {
      console.error('Auth check failed:', err);
      logout(); // Auto-logout on 401
    }
  }
  setLoading(false);
};

  const login = async (email, password) => {
    try {
      setError(null);
      const response = await authService.login({ email, password });
      
      if (response.success) {
        setUser(response.user);
        storage.setItem('token', response.token);
        storage.setItem('user', response.user);
        return { success: true };
      } else {
        setError(response.message);
        return { success: false, message: response.message };
      }
    } catch (err) {
      const message = err.response?.data?.message || 'Login failed';
      setError(message);
      return { success: false, message };
    }
  };

  const register = async (userData) => {
    try {
      setError(null);
      const response = await authService.register(userData);
      
      if (response.success) {
        setUser(response.user);
        storage.setItem('token', response.token);
        storage.setItem('user', response.user);
        return { success: true };
      } else {
        setError(response.message);
        return { success: false, message: response.message };
      }
    } catch (err) {
      const message = err.response?.data?.message || 'Registration failed';
      setError(message);
      return { success: false, message };
    }
  };

  const logout = () => {
    authService.logout();
    setUser(null);
    setError(null);
  };

  const updateUser = (updatedUser) => {
    setUser(updatedUser);
    storage.setItem('user', updatedUser);
  };

  const value = {
    user,
    loading,
    error,
    login,
    register,
    logout,
    updateUser,
    isAuthenticated: !!user
  };

  return (
    <AuthContext.Provider value={value}>
      {children}
    </AuthContext.Provider>
  );
};


===== ./context/CartContext.jsx =====

import React, { createContext, useState, useContext, useEffect } from 'react';
import { storage } from '../services/storage.js';

const CartContext = createContext();

export const useCart = () => {
  const context = useContext(CartContext);
  if (!context) {
    throw new Error('useCart must be used within a CartProvider');
  }
  return context;
};

export const CartProvider = ({ children }) => {
  const [cart, setCart] = useState([]);
  const [restaurant, setRestaurant] = useState(null);

  useEffect(() => {
    const savedCart = storage.getItem('cart');
    const savedRestaurant = storage.getItem('cartRestaurant');
    
    if (savedCart) {
      setCart(savedCart);
    }
    if (savedRestaurant) {
      setRestaurant(savedRestaurant);
    }
  }, []);

  const saveToStorage = (cartItems, restaurantData) => {
    storage.setItem('cart', cartItems);
    if (restaurantData) {
      storage.setItem('cartRestaurant', restaurantData);
    }
  };

  const addToCart = (item, restaurantData) => {
    setCart(prevCart => {
      const existingItemIndex = prevCart.findIndex(
        cartItem => cartItem.id === item.id
      );

      let newCart;
      if (existingItemIndex >= 0) {
        newCart = [...prevCart];
        newCart[existingItemIndex].quantity += item.quantity;
      } else {
        newCart = [...prevCart, item];
      }

      saveToStorage(newCart, restaurantData);
      setRestaurant(restaurantData);
      return newCart;
    });
  };

  const updateQuantity = (itemId, quantity) => {
    if (quantity <= 0) {
      removeFromCart(itemId);
      return;
    }

    setCart(prevCart => {
      const newCart = prevCart.map(item =>
        item.id === itemId ? { ...item, quantity } : item
      );
      saveToStorage(newCart, restaurant);
      return newCart;
    });
  };

  const removeFromCart = (itemId) => {
    setCart(prevCart => {
      const newCart = prevCart.filter(item => item.id !== itemId);
      saveToStorage(newCart, restaurant);
      
      if (newCart.length === 0) {
        setRestaurant(null);
        storage.removeItem('cartRestaurant');
      }
      
      return newCart;
    });
  };

  const clearCart = () => {
    setCart([]);
    setRestaurant(null);
    storage.removeItem('cart');
    storage.removeItem('cartRestaurant');
  };

  const getCartTotal = () => {
    return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
  };

  const getItemCount = () => {
    return cart.reduce((count, item) => count + item.quantity, 0);
  };

  const isSameRestaurant = (restaurantId) => {
    return restaurant && restaurant.id === restaurantId;
  };

  const value = {
    cart,
    restaurant,
    addToCart,
    updateQuantity,
    removeFromCart,
    clearCart,
    getCartTotal,
    getItemCount,
    isSameRestaurant
  };

  return (
    <CartContext.Provider value={value}>
      {children}
    </CartContext.Provider>
  );
};

export { CartContext };
===== ./utils/constants.js =====

export const USER_ROLES = {
  CUSTOMER: 'customer',
  RESTAURANT: 'restaurant',
  DRIVER: 'driver',
  ADMIN: 'admin'
};

export const ORDER_STATUS = {
  PENDING: 'pending',
  ACCEPTED: 'accepted',
  PREPARING: 'preparing',
  READY: 'ready',
  ON_THE_WAY: 'on_the_way',
  DELIVERED: 'delivered',
  CANCELLED: 'cancelled'
};

export const ORDER_TYPE = {
  DELIVERY: 'delivery',
  PICKUP: 'pickup'
};

export const PAYMENT_METHODS = {
  CASH: 'cash',
  CARD: 'card',
  ONLINE: 'online'
};

export const API_ENDPOINTS = {
  AUTH: {
    REGISTER: '/auth/register',
    LOGIN: '/auth/login',
    ME: '/auth/me'
  },
  RESTAURANTS: {
    BASE: '/restaurants',
    MY_RESTAURANT: '/restaurants/owner/my-restaurant'
  },
  MENU: {
    GET: '/menu/restaurants/:restaurantId/menu',
    BASE: '/menu'
  },
  ORDERS: {
    BASE: '/orders',
    MY_ORDERS: '/orders/my-orders',
    UPDATE_STATUS: '/orders/:id/status'
  },
  REVIEWS: {
    BASE: '/reviews',
    RESTAURANT_REVIEWS: '/reviews/restaurants/:restaurantId/reviews',
    MY_REVIEWS: '/reviews/my-reviews'
  },
  DELIVERY: {
    REQUESTS: '/delivery/requests',
    ACCEPT_REQUEST: '/delivery/requests/:id/accept',
    REJECT_REQUEST: '/delivery/requests/:id/reject',
    COMPLETE_DELIVERY: '/delivery/orders/:id/complete',
    HISTORY: '/delivery/history'
  },
  ADMIN: {
    USERS: '/admin/users',
    STATISTICS: '/admin/statistics',
    REPORTS: '/admin/reports',
    DELIVERY_REQUESTS: '/admin/delivery-requests'
  }
};
===== ./utils/helpers.js =====

export const formatCurrency = (amount) => {
  return new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD'
  }).format(amount);
};

export const formatDate = (dateString) => {
  const date = new Date(dateString);
  return new Intl.DateTimeFormat('en-US', {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit'
  }).format(date);
};

export const getStatusColor = (status) => {
  const colors = {
    pending: 'bg-yellow-100 text-yellow-800',
    accepted: 'bg-blue-100 text-blue-800',
    preparing: 'bg-purple-100 text-purple-800',
    ready: 'bg-green-100 text-green-800',
    on_the_way: 'bg-indigo-100 text-indigo-800',
    delivered: 'bg-green-100 text-green-800',
    cancelled: 'bg-red-100 text-red-800'
  };
  return colors[status] || 'bg-gray-100 text-gray-800';
};

export const getStatusText = (status) => {
  const texts = {
    pending: 'Pending',
    accepted: 'Accepted',
    preparing: 'Preparing',
    ready: 'Ready',
    on_the_way: 'On the way',
    delivered: 'Delivered',
    cancelled: 'Cancelled'
  };
  return texts[status] || status;
};

export const getRatingStars = (rating) => {
  const stars = [];
  for (let i = 1; i <= 5; i++) {
    stars.push({
      id: i,
      filled: i <= rating,
      className: i <= rating ? 'text-yellow-400' : 'text-gray-300'
    });
  }
  return stars;
};
===== ./router/AppRouter.jsx =====

import React from 'react';
import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';
import { useAuth } from '../hooks/useAuth.js';
import { USER_ROLES } from '../utils/constants.js';
import Layout from '../components/layout/Layout.jsx';
import PrivateRoute from './PrivateRoute.jsx';
import RoleRoute from './RoleRoute.jsx';

// Auth Pages
import Login from '../pages/auth/Login.jsx';
import Register from '../pages/auth/Register.jsx';

// Customer Pages
import Home from '../pages/customer/Home.jsx';
import RestaurantList from '../pages/customer/RestaurantList.jsx';
import RestaurantDetail from '../pages/customer/RestaurantDetail.jsx';
import Cart from '../pages/customer/Cart.jsx';
import Checkout from '../pages/customer/Checkout.jsx';
import Orders from '../pages/customer/Orders.jsx';
import Profile from '../pages/customer/Profile.jsx';

// Restaurant Pages
import RestaurantDashboard from '../pages/restaurant/Dashboard.jsx';
import RestaurantMenu from '../pages/restaurant/Menu.jsx';
import RestaurantOrders from '../pages/restaurant/RestaurantOrders.jsx';

// Driver Pages
import DriverDashboard from '../pages/driver/Dashboard.jsx';
import DriverDeliveries from '../pages/driver/Deliveries.jsx';

// Admin Pages
import AdminDashboard from '../pages/admin/Dashboard.jsx';
import AdminUsers from '../pages/admin/Users.jsx';

// Shared Pages
import NotFound from '../pages/shared/NotFound.jsx';
import Unauthorized from '../pages/shared/Unauthorized.jsx';

const AppRouter = () => {
  const { user } = useAuth();

  return (
    <BrowserRouter>
      <Routes>
        {/* Public Routes */}
        <Route path="/login" element={<Login />} />
        <Route path="/register" element={<Register />} />
        
        {/* Layout Routes */}
        <Route path="/" element={<Layout />}>
          {/* Public Routes */}
          <Route index element={<Home />} />
          <Route path="restaurants" element={<RestaurantList />} />
          <Route path="restaurants/:id" element={<RestaurantDetail />} />
          <Route path="unauthorized" element={<Unauthorized />} />
          
          {/* Protected Customer Routes */}
          <Route path="cart" element={
            <PrivateRoute>
              <Cart />
            </PrivateRoute>
          } />
          <Route path="checkout" element={
            <PrivateRoute>
              <RoleRoute allowedRoles={[USER_ROLES.CUSTOMER]}>
                <Checkout />
              </RoleRoute>
            </PrivateRoute>
          } />
          <Route path="orders" element={
            <PrivateRoute>
              <RoleRoute allowedRoles={[USER_ROLES.CUSTOMER]}>
                <Orders />
              </RoleRoute>
            </PrivateRoute>
          } />
          <Route path="orders/:id" element={
            <PrivateRoute>
              <RoleRoute allowedRoles={[USER_ROLES.CUSTOMER]}>
                {/* Order Detail Page - to be implemented */}
                <div>Order Detail Page</div>
              </RoleRoute>
            </PrivateRoute>
          } />
          <Route path="profile" element={
            <PrivateRoute>
              <Profile />
            </PrivateRoute>
          } />
          
          {/* Protected Restaurant Routes */}
          <Route path="restaurant">
            <Route path="dashboard" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.RESTAURANT]}>
                  <RestaurantDashboard />
                </RoleRoute>
              </PrivateRoute>
            } />
            <Route path="menu" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.RESTAURANT]}>
                  <RestaurantMenu />
                </RoleRoute>
              </PrivateRoute>
            } />
            <Route path="orders" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.RESTAURANT]}>
                  <RestaurantOrders />
                </RoleRoute>
              </PrivateRoute>
            } />
          </Route>
          
          {/* Protected Driver Routes */}
          <Route path="driver">
            <Route path="dashboard" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.DRIVER]}>
                  <DriverDashboard />
                </RoleRoute>
              </PrivateRoute>
            } />
            <Route path="deliveries" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.DRIVER]}>
                  <DriverDeliveries />
                </RoleRoute>
              </PrivateRoute>
            } />
          </Route>
          
          {/* Protected Admin Routes */}
          <Route path="admin">
            <Route path="dashboard" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.ADMIN]}>
                  <AdminDashboard />
                </RoleRoute>
              </PrivateRoute>
            } />
            <Route path="users" element={
              <PrivateRoute>
                <RoleRoute allowedRoles={[USER_ROLES.ADMIN]}>
                  <AdminUsers />
                </RoleRoute>
              </PrivateRoute>
            } />
          </Route>
          
          {/* Catch-all route */}
          <Route path="*" element={<NotFound />} />
        </Route>
      </Routes>
    </BrowserRouter>
  );
};

export default AppRouter;
===== ./router/PrivateRoute.jsx =====

import React from 'react';
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../hooks/useAuth.js';
import Loader from '../components/ui/Loader.jsx';

const PrivateRoute = ({ children }) => {
  const { user, loading } = useAuth();
  const location = useLocation();

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <Loader size="lg" text="Loading..." />
      </div>
    );
  }

  if (!user) {
    return <Navigate to="/login" state={{ from: location }} replace />;
  }

  return children;
};

export default PrivateRoute;
===== ./router/RoleRoute.jsx =====

import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../hooks/useAuth.js';
import PrivateRoute from './PrivateRoute.jsx';

const RoleRoute = ({ children, allowedRoles }) => {
  const { user } = useAuth();

  if (!allowedRoles.includes(user?.role)) {
    return <Navigate to="/unauthorized" replace />;
  }

  return children;
};

export default RoleRoute;
===== ./all_files.txt =====

